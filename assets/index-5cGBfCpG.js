(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function WE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var $d={exports:{}},wl={};var cv;function vb(){if(cv)return wl;cv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return wl.Fragment=e,wl.jsx=n,wl.jsxs=n,wl}var hv;function Eb(){return hv||(hv=1,$d.exports=vb()),$d.exports}var R=Eb(),Jd={exports:{}},Ae={};var fv;function Tb(){if(fv)return Ae;fv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),b=Symbol.iterator;function L(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,j={};function Z(V,ee,ae){this.props=V,this.context=ee,this.refs=j,this.updater=ae||B}Z.prototype.isReactComponent={},Z.prototype.setState=function(V,ee){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ee,"setState")},Z.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function K(){}K.prototype=Z.prototype;function ie(V,ee,ae){this.props=V,this.context=ee,this.refs=j,this.updater=ae||B}var de=ie.prototype=new K;de.constructor=ie,Q(de,Z.prototype),de.isPureReactComponent=!0;var ge=Array.isArray;function me(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(V,ee,ae){var le=ae.ref;return{$$typeof:r,type:V,key:ee,ref:le!==void 0?le:null,props:ae}}function M(V,ee){return I(V.type,ee,V.props)}function C(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function k(V){var ee={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return ee[ae]})}var D=/\/+/g;function Fe(V,ee){return typeof V=="object"&&V!==null&&V.key!=null?k(""+V.key):ee.toString(36)}function It(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(me,me):(V.status="pending",V.then(function(ee){V.status==="pending"&&(V.status="fulfilled",V.value=ee)},function(ee){V.status==="pending"&&(V.status="rejected",V.reason=ee)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function $(V,ee,ae,le,Te){var Ce=typeof V;(Ce==="undefined"||Ce==="boolean")&&(V=null);var Pe=!1;if(V===null)Pe=!0;else switch(Ce){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(V.$$typeof){case r:case e:Pe=!0;break;case E:return Pe=V._init,$(Pe(V._payload),ee,ae,le,Te)}}if(Pe)return Te=Te(V),Pe=le===""?"."+Fe(V,0):le,ge(Te)?(ae="",Pe!=null&&(ae=Pe.replace(D,"$&/")+"/"),$(Te,ee,ae,"",function(ds){return ds})):Te!=null&&(C(Te)&&(Te=M(Te,ae+(Te.key==null||V&&V.key===Te.key?"":(""+Te.key).replace(D,"$&/")+"/")+Pe)),ee.push(Te)),1;Pe=0;var Nt=le===""?".":le+":";if(ge(V))for(var rt=0;rt<V.length;rt++)le=V[rt],Ce=Nt+Fe(le,rt),Pe+=$(le,ee,ae,Ce,Te);else if(rt=L(V),typeof rt=="function")for(V=rt.call(V),rt=0;!(le=V.next()).done;)le=le.value,Ce=Nt+Fe(le,rt++),Pe+=$(le,ee,ae,Ce,Te);else if(Ce==="object"){if(typeof V.then=="function")return $(It(V),ee,ae,le,Te);throw ee=String(V),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function se(V,ee,ae){if(V==null)return V;var le=[],Te=0;return $(V,le,"","",function(Ce){return ee.call(ae,Ce,Te++)}),le}function pe(V){if(V._status===-1){var ee=V._result;ee=ee(),ee.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=ee)}if(V._status===1)return V._result.default;throw V._result}var je=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ye={map:se,forEach:function(V,ee,ae){se(V,function(){ee.apply(this,arguments)},ae)},count:function(V){var ee=0;return se(V,function(){ee++}),ee},toArray:function(V){return se(V,function(ee){return ee})||[]},only:function(V){if(!C(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ae.Activity=T,Ae.Children=Ye,Ae.Component=Z,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=ie,Ae.StrictMode=s,Ae.Suspense=p,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(V){return N.H.useMemoCache(V)}},Ae.cache=function(V){return function(){return V.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(V,ee,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var le=Q({},V.props),Te=V.key;if(ee!=null)for(Ce in ee.key!==void 0&&(Te=""+ee.key),ee)!w.call(ee,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ee.ref===void 0||(le[Ce]=ee[Ce]);var Ce=arguments.length-2;if(Ce===1)le.children=ae;else if(1<Ce){for(var Pe=Array(Ce),Nt=0;Nt<Ce;Nt++)Pe[Nt]=arguments[Nt+2];le.children=Pe}return I(V.type,Te,le)},Ae.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ae.createElement=function(V,ee,ae){var le,Te={},Ce=null;if(ee!=null)for(le in ee.key!==void 0&&(Ce=""+ee.key),ee)w.call(ee,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(Te[le]=ee[le]);var Pe=arguments.length-2;if(Pe===1)Te.children=ae;else if(1<Pe){for(var Nt=Array(Pe),rt=0;rt<Pe;rt++)Nt[rt]=arguments[rt+2];Te.children=Nt}if(V&&V.defaultProps)for(le in Pe=V.defaultProps,Pe)Te[le]===void 0&&(Te[le]=Pe[le]);return I(V,Ce,Te)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(V){return{$$typeof:m,render:V}},Ae.isValidElement=C,Ae.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:pe}},Ae.memo=function(V,ee){return{$$typeof:g,type:V,compare:ee===void 0?null:ee}},Ae.startTransition=function(V){var ee=N.T,ae={};N.T=ae;try{var le=V(),Te=N.S;Te!==null&&Te(ae,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(me,je)}catch(Ce){je(Ce)}finally{ee!==null&&ae.types!==null&&(ee.types=ae.types),N.T=ee}},Ae.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ae.use=function(V){return N.H.use(V)},Ae.useActionState=function(V,ee,ae){return N.H.useActionState(V,ee,ae)},Ae.useCallback=function(V,ee){return N.H.useCallback(V,ee)},Ae.useContext=function(V){return N.H.useContext(V)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(V,ee){return N.H.useDeferredValue(V,ee)},Ae.useEffect=function(V,ee){return N.H.useEffect(V,ee)},Ae.useEffectEvent=function(V){return N.H.useEffectEvent(V)},Ae.useId=function(){return N.H.useId()},Ae.useImperativeHandle=function(V,ee,ae){return N.H.useImperativeHandle(V,ee,ae)},Ae.useInsertionEffect=function(V,ee){return N.H.useInsertionEffect(V,ee)},Ae.useLayoutEffect=function(V,ee){return N.H.useLayoutEffect(V,ee)},Ae.useMemo=function(V,ee){return N.H.useMemo(V,ee)},Ae.useOptimistic=function(V,ee){return N.H.useOptimistic(V,ee)},Ae.useReducer=function(V,ee,ae){return N.H.useReducer(V,ee,ae)},Ae.useRef=function(V){return N.H.useRef(V)},Ae.useState=function(V){return N.H.useState(V)},Ae.useSyncExternalStore=function(V,ee,ae){return N.H.useSyncExternalStore(V,ee,ae)},Ae.useTransition=function(){return N.H.useTransition()},Ae.version="19.2.1",Ae}var dv;function Gm(){return dv||(dv=1,Jd.exports=Tb()),Jd.exports}var U=Gm();const Sb=WE(U);var Zd={exports:{}},Rl={},Wd={exports:{}},em={};var mv;function Ab(){return mv||(mv=1,(function(r){function e($,se){var pe=$.length;$.push(se);e:for(;0<pe;){var je=pe-1>>>1,Ye=$[je];if(0<o(Ye,se))$[je]=se,$[pe]=Ye,pe=je;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var se=$[0],pe=$.pop();if(pe!==se){$[0]=pe;e:for(var je=0,Ye=$.length,V=Ye>>>1;je<V;){var ee=2*(je+1)-1,ae=$[ee],le=ee+1,Te=$[le];if(0>o(ae,pe))le<Ye&&0>o(Te,ae)?($[je]=Te,$[le]=pe,je=le):($[je]=ae,$[ee]=pe,je=ee);else if(le<Ye&&0>o(Te,pe))$[je]=Te,$[le]=pe,je=le;else break e}}return se}function o($,se){var pe=$.sortIndex-se.sortIndex;return pe!==0?pe:$.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,T=null,b=3,L=!1,B=!1,Q=!1,j=!1,Z=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function de($){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=$)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function ge($){if(Q=!1,de($),!B)if(n(p)!==null)B=!0,me||(me=!0,k());else{var se=n(g);se!==null&&It(ge,se.startTime-$)}}var me=!1,N=-1,w=5,I=-1;function M(){return j?!0:!(r.unstable_now()-I<w)}function C(){if(j=!1,me){var $=r.unstable_now();I=$;var se=!0;try{e:{B=!1,Q&&(Q=!1,K(N),N=-1),L=!0;var pe=b;try{t:{for(de($),T=n(p);T!==null&&!(T.expirationTime>$&&M());){var je=T.callback;if(typeof je=="function"){T.callback=null,b=T.priorityLevel;var Ye=je(T.expirationTime<=$);if($=r.unstable_now(),typeof Ye=="function"){T.callback=Ye,de($),se=!0;break t}T===n(p)&&s(p),de($)}else s(p);T=n(p)}if(T!==null)se=!0;else{var V=n(g);V!==null&&It(ge,V.startTime-$),se=!1}}break e}finally{T=null,b=pe,L=!1}se=void 0}}finally{se?k():me=!1}}}var k;if(typeof ie=="function")k=function(){ie(C)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Fe=D.port2;D.port1.onmessage=C,k=function(){Fe.postMessage(null)}}else k=function(){Z(C,0)};function It($,se){N=Z(function(){$(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function($){switch(b){case 1:case 2:case 3:var se=3;break;default:se=b}var pe=b;b=se;try{return $()}finally{b=pe}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function($,se){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var pe=b;b=$;try{return se()}finally{b=pe}},r.unstable_scheduleCallback=function($,se,pe){var je=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?je+pe:je):pe=je,$){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=pe+Ye,$={id:E++,callback:se,priorityLevel:$,startTime:pe,expirationTime:Ye,sortIndex:-1},pe>je?($.sortIndex=pe,e(g,$),n(p)===null&&$===n(g)&&(Q?(K(N),N=-1):Q=!0,It(ge,pe-je))):($.sortIndex=Ye,e(p,$),B||L||(B=!0,me||(me=!0,k()))),$},r.unstable_shouldYield=M,r.unstable_wrapCallback=function($){var se=b;return function(){var pe=b;b=se;try{return $.apply(this,arguments)}finally{b=pe}}}})(em)),em}var pv;function bb(){return pv||(pv=1,Wd.exports=Ab()),Wd.exports}var tm={exports:{}},Qt={};var gv;function wb(){if(gv)return Qt;gv=1;var r=Gm();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Qt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Qt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Qt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,L=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:L}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:L,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Qt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Qt.requestFormReset=function(p){s.d.r(p)},Qt.unstable_batchedUpdates=function(p,g){return p(g)},Qt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Qt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qt.version="19.2.1",Qt}var yv;function Rb(){if(yv)return tm.exports;yv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),tm.exports=wb(),tm.exports}var _v;function Cb(){if(_v)return Rl;_v=1;var r=bb(),e=Gm(),n=Rb();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=C&&t[C]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Fe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case Z:return"Profiler";case j:return"StrictMode";case ge:return"Suspense";case me:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case ie:return t.displayName||"Context";case K:return(t._context.displayName||"Context")+".Consumer";case de:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:Fe(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return Fe(t(i))}catch{}}return null}var It=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},je=[],Ye=-1;function V(t){return{current:t}}function ee(t){0>Ye||(t.current=je[Ye],je[Ye]=null,Ye--)}function ae(t,i){Ye++,je[Ye]=t.current,t.current=i}var le=V(null),Te=V(null),Ce=V(null),Pe=V(null);function Nt(t,i){switch(ae(Ce,i),ae(Te,t),ae(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?x_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=x_(i),t=V_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(le),ae(le,t)}function rt(){ee(le),ee(Te),ee(Ce)}function ds(t){t.memoizedState!==null&&ae(Pe,t);var i=le.current,a=V_(i,t.type);i!==a&&(ae(Te,t),ae(le,a))}function na(t){Te.current===t&&(ee(le),ee(Te)),Pe.current===t&&(ee(Pe),Tl._currentValue=pe)}var ia,ra;function ei(t){if(ia===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ia=i&&i[1]||"",ra=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ia+t+ra}var To=!1;function ms(t,i){if(!t||To)return"";To=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Y){var F=Y}Reflect.construct(t,[],W)}else{try{W.call()}catch(Y){F=Y}t.call(W.prototype)}}else{try{throw Error()}catch(Y){F=Y}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var O=_.split(`
`),q=S.split(`
`);for(h=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===O.length||h===q.length)for(l=O.length-1,h=q.length-1;1<=l&&0<=h&&O[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(O[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||O[l]!==q[h]){var X=`
`+O[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{To=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ei(a):""}function So(t,i){switch(t.tag){case 26:case 27:case 5:return ei(t.type);case 16:return ei("Lazy");case 13:return t.child!==i&&i!==null?ei("Suspense Fallback"):ei("Suspense");case 19:return ei("SuspenseList");case 0:case 15:return ms(t.type,!1);case 11:return ms(t.type.render,!1);case 1:return ms(t.type,!0);case 31:return ei("Activity");default:return""}}function Ao(t){try{var i="",a=null;do i+=So(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var yt=Object.prototype.hasOwnProperty,Dt=r.unstable_scheduleCallback,fr=r.unstable_cancelCallback,Jh=r.unstable_shouldYield,hu=r.unstable_requestPaint,en=r.unstable_now,ps=r.unstable_getCurrentPriorityLevel,bo=r.unstable_ImmediatePriority,wo=r.unstable_UserBlockingPriority,dr=r.unstable_NormalPriority,Zh=r.unstable_LowPriority,fu=r.unstable_IdlePriority,du=r.log,mu=r.unstable_setDisableYieldValue,Un=null,jt=null;function An(t){if(typeof du=="function"&&mu(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(Un,t)}catch{}}var ft=Math.clz32?Math.clz32:gu,pu=Math.log,sa=Math.LN2;function gu(t){return t>>>=0,t===0?32:31-(pu(t)/sa|0)|0}var ti=256,gs=262144,_t=4194304;function ni(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ii(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=ni(l):(_&=S,_!==0?h=ni(_):a||(a=S&~t,a!==0&&(h=ni(a))))):(S=l&~d,S!==0?h=ni(S):_!==0?h=ni(_):a||(a=l&~t,a!==0&&(h=ni(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function jn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Wh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yu(){var t=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),t}function ri(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ys(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ef(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,O=t.expirationTimes,q=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-ft(a),W=1<<X;S[X]=0,O[X]=-1;var F=q[X];if(F!==null)for(q[X]=null,X=0;X<F.length;X++){var Y=F[X];Y!==null&&(Y.lane&=-536870913)}a&=~W}l!==0&&_s(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function _s(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-ft(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Ro(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-ft(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Co(t,i){var a=i&-i;return a=(a&42)!==0?1:vs(a),(a&(t.suspendedLanes|i))!==0?0:a}function vs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Mi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function _u(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:iv(t.type))}function zn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Bn=Math.random().toString(36).slice(2),vt="__reactFiber$"+Bn,kt="__reactProps$"+Bn,si="__reactContainer$"+Bn,aa="__reactEvents$"+Bn,tf="__reactListeners$"+Bn,vu="__reactHandles$"+Bn,Eu="__reactResources$"+Bn,ai="__reactMarker$"+Bn;function oa(t){delete t[vt],delete t[kt],delete t[aa],delete t[tf],delete t[vu]}function oi(t){var i=t[vt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[si]||a[vt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=B_(t);t!==null;){if(a=t[vt])return a;t=B_(t)}return i}t=a,a=t.parentNode}return null}function bn(t){if(t=t[vt]||t[si]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function dn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function li(t){var i=t[Eu];return i||(i=t[Eu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Et(t){t[ai]=!0}var Io=new Set,No={};function ui(t,i){ci(t,i),ci(t+"Capture",i)}function ci(t,i){for(No[t]=i,t=0;t<i.length;t++)Io.add(i[t])}var Do=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oo={},Mo={};function Tu(t){return yt.call(Mo,t)?!0:yt.call(Oo,t)?!1:Do.test(t)?Mo[t]=!0:(Oo[t]=!0,!1)}function la(t,i,a){if(Tu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function mn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Tt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function xo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=mr(t)?"checked":"value";t._valueTracker=xo(t,i,""+t[i])}}function Es(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=mr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function hi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ts=/[\n"\\]/g;function rn(t){return t.replace(Ts,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ua(t,i,a,l,h,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Vo(t,_,Lt(i)):a!=null?Vo(t,_,Lt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Lt(S):t.removeAttribute("name")}function Su(t,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+Lt(a):"",i=i!=null?""+Lt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function Vo(t,i,a){i==="number"&&hi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function pr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Au(t,i,a){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Lt(a):""}function gr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(It(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Lt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function sn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var bu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ko(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||bu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Lo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&ko(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&ko(t,d,i[d])}function ca(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ha(t){return yr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Hn(){}var Po=null;function wn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _r=null,fi=null;function Ss(t){var i=bn(t);if(i&&(t=i.stateNode)){var a=t[kt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ua(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[kt]||null;if(!h)throw Error(s(90));ua(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Es(l)}break e;case"textarea":Au(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&pr(t,!!a.multiple,i,!1)}}}var fa=!1;function vr(t,i,a){if(fa)return t(i,a);fa=!0;try{var l=t(i);return l}finally{if(fa=!1,(_r!==null||fi!==null)&&(_c(),_r&&(i=_r,t=fi,fi=_r=null,Ss(i),t)))for(i=0;i<t.length;i++)Ss(t[i])}}function qn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[kt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),As=!1;if(Rn)try{var $e={};Object.defineProperty($e,"passive",{get:function(){As=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{As=!1}var di=null,Uo=null,bs=null;function jo(){if(bs)return bs;var t,i=Uo,a=i.length,l,h="value"in di?di.value:di.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return bs=h.slice(t,1<l?1-l:void 0)}function ws(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function xi(){return!0}function Fn(){return!1}function zt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?xi:Fn,this.isPropagationStopped=Fn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),i}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=zt(Vi),Er=T({},Vi,{view:0,detail:0}),zo=zt(Er),Tr,da,pi,ma=T({},Er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pi&&(pi&&t.type==="mousemove"?(Tr=t.screenX-pi.screenX,da=t.screenY-pi.screenY):da=Tr=0,pi=t),Tr)},movementY:function(t){return"movementY"in t?t.movementY:da}}),Bo=zt(ma),Rs=T({},ma,{dataTransfer:0}),Ru=zt(Rs),Cu=T({},Er,{relatedTarget:0}),Cs=zt(Cu),Ho=T({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),Iu=zt(Ho),pa=T({},Vi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Nu=zt(pa),Du=T({},Vi,{data:0}),gi=zt(Du),Ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=xu[t])?!!i[t]:!1}function Sr(){return Vu}var tn=T({},Er,{key:function(t){if(t.key){var i=Ou[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ws(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(t){return t.type==="keypress"?ws(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ws(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ku=zt(tn),Lu=T({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ki=zt(Lu),c=T({},Er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr}),y=zt(c),v=T({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=zt(v),z=T({},ma,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=zt(z),re=T({},Vi,{newState:0,oldState:0}),we=zt(re),dt=[9,13,27,32],He=Rn&&"CompositionEvent"in window,st=null;Rn&&"documentMode"in document&&(st=document.documentMode);var Cn=Rn&&"TextEvent"in window&&!st,yi=Rn&&(!He||st&&8<st&&11>=st),Gn=" ",Yn=!1;function Is(t,i){switch(t){case"keyup":return dt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ga(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ya=!1;function qS(t,i){switch(t){case"compositionend":return ga(i);case"keypress":return i.which!==32?null:(Yn=!0,Gn);case"textInput":return t=i.data,t===Gn&&Yn?null:t;default:return null}}function FS(t,i){if(ya)return t==="compositionend"||!He&&Is(t,i)?(t=jo(),bs=Uo=di=null,ya=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return yi&&i.locale!=="ko"?null:i.data;default:return null}}var GS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!GS[t.type]:i==="textarea"}function Gp(t,i,a,l){_r?fi?fi.push(l):fi=[l]:_r=l,i=wc(i,"onChange"),0<i.length&&(a=new mi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var qo=null,Fo=null;function YS(t){C_(t,0)}function Pu(t){var i=dn(t);if(Es(i))return t}function Yp(t,i){if(t==="change")return i}var Kp=!1;if(Rn){var nf;if(Rn){var rf="oninput"in document;if(!rf){var Qp=document.createElement("div");Qp.setAttribute("oninput","return;"),rf=typeof Qp.oninput=="function"}nf=rf}else nf=!1;Kp=nf&&(!document.documentMode||9<document.documentMode)}function Xp(){qo&&(qo.detachEvent("onpropertychange",$p),Fo=qo=null)}function $p(t){if(t.propertyName==="value"&&Pu(Fo)){var i=[];Gp(i,Fo,t,wn(t)),vr(YS,i)}}function KS(t,i,a){t==="focusin"?(Xp(),qo=i,Fo=a,qo.attachEvent("onpropertychange",$p)):t==="focusout"&&Xp()}function QS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pu(Fo)}function XS(t,i){if(t==="click")return Pu(i)}function $S(t,i){if(t==="input"||t==="change")return Pu(i)}function JS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var pn=typeof Object.is=="function"?Object.is:JS;function Go(t,i){if(pn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!yt.call(i,h)||!pn(t[h],i[h]))return!1}return!0}function Jp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zp(t,i){var a=Jp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Jp(a)}}function Wp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Wp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function eg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=hi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=hi(t.document)}return i}function sf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var ZS=Rn&&"documentMode"in document&&11>=document.documentMode,_a=null,af=null,Yo=null,of=!1;function tg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;of||_a==null||_a!==hi(l)||(l=_a,"selectionStart"in l&&sf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yo&&Go(Yo,l)||(Yo=l,l=wc(af,"onSelect"),0<l.length&&(i=new mi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=_a)))}function Ns(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var va={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},lf={},ng={};Rn&&(ng=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function Ds(t){if(lf[t])return lf[t];if(!va[t])return t;var i=va[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in ng)return lf[t]=i[a];return t}var ig=Ds("animationend"),rg=Ds("animationiteration"),sg=Ds("animationstart"),WS=Ds("transitionrun"),eA=Ds("transitionstart"),tA=Ds("transitioncancel"),ag=Ds("transitionend"),og=new Map,uf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uf.push("scrollEnd");function Kn(t,i){og.set(t,i),ui(i,[t])}var Uu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},In=[],Ea=0,cf=0;function ju(){for(var t=Ea,i=cf=Ea=0;i<t;){var a=In[i];In[i++]=null;var l=In[i];In[i++]=null;var h=In[i];In[i++]=null;var d=In[i];if(In[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&lg(a,h,d)}}function zu(t,i,a,l){In[Ea++]=t,In[Ea++]=i,In[Ea++]=a,In[Ea++]=l,cf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function hf(t,i,a,l){return zu(t,i,a,l),Bu(t)}function Os(t,i){return zu(t,null,null,i),Bu(t)}function lg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-ft(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Bu(t){if(50<ml)throw ml=0,Ed=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ta={};function nA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,i,a,l){return new nA(t,i,a,l)}function ff(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Li(t,i){var a=t.alternate;return a===null?(a=gn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ug(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Hu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")ff(t)&&(_=1);else if(typeof t=="string")_=ob(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=gn(31,a,i,h),t.elementType=I,t.lanes=d,t;case Q:return Ms(a.children,h,d,i);case j:_=8,h|=24;break;case Z:return t=gn(12,a,i,h|2),t.elementType=Z,t.lanes=d,t;case ge:return t=gn(13,a,i,h),t.elementType=ge,t.lanes=d,t;case me:return t=gn(19,a,i,h),t.elementType=me,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case K:_=9;break e;case de:_=11;break e;case N:_=14;break e;case w:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=gn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ms(t,i,a,l){return t=gn(7,t,l,i),t.lanes=a,t}function df(t,i,a){return t=gn(6,t,null,i),t.lanes=a,t}function cg(t){var i=gn(18,null,null,0);return i.stateNode=t,i}function mf(t,i,a){return i=gn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var hg=new WeakMap;function Nn(t,i){if(typeof t=="object"&&t!==null){var a=hg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ao(i)},hg.set(t,i),i)}return{value:t,source:i,stack:Ao(i)}}var Sa=[],Aa=0,qu=null,Ko=0,Dn=[],On=0,Ar=null,_i=1,vi="";function Pi(t,i){Sa[Aa++]=Ko,Sa[Aa++]=qu,qu=t,Ko=i}function fg(t,i,a){Dn[On++]=_i,Dn[On++]=vi,Dn[On++]=Ar,Ar=t;var l=_i;t=vi;var h=32-ft(l)-1;l&=~(1<<h),a+=1;var d=32-ft(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,_i=1<<32-ft(i)+h|a<<h|l,vi=d+t}else _i=1<<d|a<<h|l,vi=t}function pf(t){t.return!==null&&(Pi(t,1),fg(t,1,0))}function gf(t){for(;t===qu;)qu=Sa[--Aa],Sa[Aa]=null,Ko=Sa[--Aa],Sa[Aa]=null;for(;t===Ar;)Ar=Dn[--On],Dn[On]=null,vi=Dn[--On],Dn[On]=null,_i=Dn[--On],Dn[On]=null}function dg(t,i){Dn[On++]=_i,Dn[On++]=vi,Dn[On++]=Ar,_i=i.id,vi=i.overflow,Ar=t}var Bt=null,tt=null,Le=!1,br=null,Mn=!1,yf=Error(s(519));function wr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qo(Nn(i,t)),yf}function mg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[vt]=t,i[kt]=l,a){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(a=0;a<gl.length;a++)De(gl[a],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),Su(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),gr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||O_(i.textContent,a)?(l.popover!=null&&(De("beforetoggle",i),De("toggle",i)),l.onScroll!=null&&De("scroll",i),l.onScrollEnd!=null&&De("scrollend",i),l.onClick!=null&&(i.onclick=Hn),i=!0):i=!1,i||wr(t,!0)}function pg(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Bt=Bt.return}}function ba(t){if(t!==Bt)return!1;if(!Le)return pg(t),Le=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||kd(t.type,t.memoizedProps)),a=!a),a&&tt&&wr(t),pg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=z_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=z_(t)}else i===27?(i=tt,jr(t.type)?(t=zd,zd=null,tt=t):tt=i):tt=Bt?Vn(t.stateNode.nextSibling):null;return!0}function xs(){tt=Bt=null,Le=!1}function _f(){var t=br;return t!==null&&(un===null?un=t:un.push.apply(un,t),br=null),t}function Qo(t){br===null?br=[t]:br.push(t)}var vf=V(null),Vs=null,Ui=null;function Rr(t,i,a){ae(vf,i._currentValue),i._currentValue=a}function ji(t){t._currentValue=vf.current,ee(vf)}function Ef(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Tf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var O=0;O<i.length;O++)if(S.context===i[O]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Ef(d.return,a,t),l||(_=null);break e}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Ef(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function wa(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;pn(h.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(h===Pe.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Tl):t=[Tl])}h=h.return}t!==null&&Tf(i,t,a,l),i.flags|=262144}function Fu(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ks(t){Vs=t,Ui=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return gg(Vs,t)}function Gu(t,i){return Vs===null&&ks(t),gg(t,i)}function gg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ui===null){if(t===null)throw Error(s(308));Ui=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ui=Ui.next=i;return a}var iA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},rA=r.unstable_scheduleCallback,sA=r.unstable_NormalPriority,St={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sf(){return{controller:new iA,data:new Map,refCount:0}}function Xo(t){t.refCount--,t.refCount===0&&rA(sA,function(){t.controller.abort()})}var $o=null,Af=0,Ra=0,Ca=null;function aA(t,i){if($o===null){var a=$o=[];Af=0,Ra=Rd(),Ca={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Af++,i.then(yg,yg),i}function yg(){if(--Af===0&&$o!==null){Ca!==null&&(Ca.status="fulfilled");var t=$o;$o=null,Ra=0,Ca=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function oA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var _g=$.S;$.S=function(t,i){t_=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&aA(t,i),_g!==null&&_g(t,i)};var Ls=V(null);function bf(){var t=Ls.current;return t!==null?t:et.pooledCache}function Yu(t,i){i===null?ae(Ls,Ls.current):ae(Ls,i.pool)}function vg(){var t=bf();return t===null?null:{parent:St._currentValue,pool:t}}var Ia=Error(s(460)),wf=Error(s(474)),Ku=Error(s(542)),Qu={then:function(){}};function Eg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Tg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Hn,Hn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ag(t),t;default:if(typeof i.status=="string")i.then(Hn,Hn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ag(t),t}throw Us=i,Ia}}function Ps(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Us=a,Ia):a}}var Us=null;function Sg(){if(Us===null)throw Error(s(459));var t=Us;return Us=null,t}function Ag(t){if(t===Ia||t===Ku)throw Error(s(483))}var Na=null,Jo=0;function Xu(t){var i=Jo;return Jo+=1,Na===null&&(Na=[]),Tg(Na,t,i)}function Zo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function $u(t,i){throw i.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function bg(t){function i(P,x){if(t){var H=P.deletions;H===null?(P.deletions=[x],P.flags|=16):H.push(x)}}function a(P,x){if(!t)return null;for(;x!==null;)i(P,x),x=x.sibling;return null}function l(P){for(var x=new Map;P!==null;)P.key!==null?x.set(P.key,P):x.set(P.index,P),P=P.sibling;return x}function h(P,x){return P=Li(P,x),P.index=0,P.sibling=null,P}function d(P,x,H){return P.index=H,t?(H=P.alternate,H!==null?(H=H.index,H<x?(P.flags|=67108866,x):H):(P.flags|=67108866,x)):(P.flags|=1048576,x)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function S(P,x,H,J){return x===null||x.tag!==6?(x=df(H,P.mode,J),x.return=P,x):(x=h(x,H),x.return=P,x)}function O(P,x,H,J){var fe=H.type;return fe===Q?X(P,x,H.props.children,J,H.key):x!==null&&(x.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&Ps(fe)===x.type)?(x=h(x,H.props),Zo(x,H),x.return=P,x):(x=Hu(H.type,H.key,H.props,null,P.mode,J),Zo(x,H),x.return=P,x)}function q(P,x,H,J){return x===null||x.tag!==4||x.stateNode.containerInfo!==H.containerInfo||x.stateNode.implementation!==H.implementation?(x=mf(H,P.mode,J),x.return=P,x):(x=h(x,H.children||[]),x.return=P,x)}function X(P,x,H,J,fe){return x===null||x.tag!==7?(x=Ms(H,P.mode,J,fe),x.return=P,x):(x=h(x,H),x.return=P,x)}function W(P,x,H){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=df(""+x,P.mode,H),x.return=P,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case L:return H=Hu(x.type,x.key,x.props,null,P.mode,H),Zo(H,x),H.return=P,H;case B:return x=mf(x,P.mode,H),x.return=P,x;case w:return x=Ps(x),W(P,x,H)}if(It(x)||k(x))return x=Ms(x,P.mode,H,null),x.return=P,x;if(typeof x.then=="function")return W(P,Xu(x),H);if(x.$$typeof===ie)return W(P,Gu(P,x),H);$u(P,x)}return null}function F(P,x,H,J){var fe=x!==null?x.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return fe!==null?null:S(P,x,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case L:return H.key===fe?O(P,x,H,J):null;case B:return H.key===fe?q(P,x,H,J):null;case w:return H=Ps(H),F(P,x,H,J)}if(It(H)||k(H))return fe!==null?null:X(P,x,H,J,null);if(typeof H.then=="function")return F(P,x,Xu(H),J);if(H.$$typeof===ie)return F(P,x,Gu(P,H),J);$u(P,H)}return null}function Y(P,x,H,J,fe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return P=P.get(H)||null,S(x,P,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case L:return P=P.get(J.key===null?H:J.key)||null,O(x,P,J,fe);case B:return P=P.get(J.key===null?H:J.key)||null,q(x,P,J,fe);case w:return J=Ps(J),Y(P,x,H,J,fe)}if(It(J)||k(J))return P=P.get(H)||null,X(x,P,J,fe,null);if(typeof J.then=="function")return Y(P,x,H,Xu(J),fe);if(J.$$typeof===ie)return Y(P,x,H,Gu(x,J),fe);$u(x,J)}return null}function ue(P,x,H,J){for(var fe=null,ze=null,ce=x,Ie=x=0,Me=null;ce!==null&&Ie<H.length;Ie++){ce.index>Ie?(Me=ce,ce=null):Me=ce.sibling;var Be=F(P,ce,H[Ie],J);if(Be===null){ce===null&&(ce=Me);break}t&&ce&&Be.alternate===null&&i(P,ce),x=d(Be,x,Ie),ze===null?fe=Be:ze.sibling=Be,ze=Be,ce=Me}if(Ie===H.length)return a(P,ce),Le&&Pi(P,Ie),fe;if(ce===null){for(;Ie<H.length;Ie++)ce=W(P,H[Ie],J),ce!==null&&(x=d(ce,x,Ie),ze===null?fe=ce:ze.sibling=ce,ze=ce);return Le&&Pi(P,Ie),fe}for(ce=l(ce);Ie<H.length;Ie++)Me=Y(ce,P,Ie,H[Ie],J),Me!==null&&(t&&Me.alternate!==null&&ce.delete(Me.key===null?Ie:Me.key),x=d(Me,x,Ie),ze===null?fe=Me:ze.sibling=Me,ze=Me);return t&&ce.forEach(function(Fr){return i(P,Fr)}),Le&&Pi(P,Ie),fe}function _e(P,x,H,J){if(H==null)throw Error(s(151));for(var fe=null,ze=null,ce=x,Ie=x=0,Me=null,Be=H.next();ce!==null&&!Be.done;Ie++,Be=H.next()){ce.index>Ie?(Me=ce,ce=null):Me=ce.sibling;var Fr=F(P,ce,Be.value,J);if(Fr===null){ce===null&&(ce=Me);break}t&&ce&&Fr.alternate===null&&i(P,ce),x=d(Fr,x,Ie),ze===null?fe=Fr:ze.sibling=Fr,ze=Fr,ce=Me}if(Be.done)return a(P,ce),Le&&Pi(P,Ie),fe;if(ce===null){for(;!Be.done;Ie++,Be=H.next())Be=W(P,Be.value,J),Be!==null&&(x=d(Be,x,Ie),ze===null?fe=Be:ze.sibling=Be,ze=Be);return Le&&Pi(P,Ie),fe}for(ce=l(ce);!Be.done;Ie++,Be=H.next())Be=Y(ce,P,Ie,Be.value,J),Be!==null&&(t&&Be.alternate!==null&&ce.delete(Be.key===null?Ie:Be.key),x=d(Be,x,Ie),ze===null?fe=Be:ze.sibling=Be,ze=Be);return t&&ce.forEach(function(_b){return i(P,_b)}),Le&&Pi(P,Ie),fe}function We(P,x,H,J){if(typeof H=="object"&&H!==null&&H.type===Q&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case L:e:{for(var fe=H.key;x!==null;){if(x.key===fe){if(fe=H.type,fe===Q){if(x.tag===7){a(P,x.sibling),J=h(x,H.props.children),J.return=P,P=J;break e}}else if(x.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&Ps(fe)===x.type){a(P,x.sibling),J=h(x,H.props),Zo(J,H),J.return=P,P=J;break e}a(P,x);break}else i(P,x);x=x.sibling}H.type===Q?(J=Ms(H.props.children,P.mode,J,H.key),J.return=P,P=J):(J=Hu(H.type,H.key,H.props,null,P.mode,J),Zo(J,H),J.return=P,P=J)}return _(P);case B:e:{for(fe=H.key;x!==null;){if(x.key===fe)if(x.tag===4&&x.stateNode.containerInfo===H.containerInfo&&x.stateNode.implementation===H.implementation){a(P,x.sibling),J=h(x,H.children||[]),J.return=P,P=J;break e}else{a(P,x);break}else i(P,x);x=x.sibling}J=mf(H,P.mode,J),J.return=P,P=J}return _(P);case w:return H=Ps(H),We(P,x,H,J)}if(It(H))return ue(P,x,H,J);if(k(H)){if(fe=k(H),typeof fe!="function")throw Error(s(150));return H=fe.call(H),_e(P,x,H,J)}if(typeof H.then=="function")return We(P,x,Xu(H),J);if(H.$$typeof===ie)return We(P,x,Gu(P,H),J);$u(P,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,x!==null&&x.tag===6?(a(P,x.sibling),J=h(x,H),J.return=P,P=J):(a(P,x),J=df(H,P.mode,J),J.return=P,P=J),_(P)):a(P,x)}return function(P,x,H,J){try{Jo=0;var fe=We(P,x,H,J);return Na=null,fe}catch(ce){if(ce===Ia||ce===Ku)throw ce;var ze=gn(29,ce,null,P.mode);return ze.lanes=J,ze.return=P,ze}finally{}}}var js=bg(!0),wg=bg(!1),Cr=!1;function Rf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ir(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Nr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Bu(t),lg(t,null,a),i}return zu(t,l,i,a),Bu(t)}function Wo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ro(t,a)}}function If(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Nf=!1;function el(){if(Nf){var t=Ca;if(t!==null)throw t}}function tl(t,i,a,l){Nf=!1;var h=t.updateQueue;Cr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var O=S,q=O.next;O.next=null,_===null?d=q:_.next=q,_=O;var X=t.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==_&&(S===null?X.firstBaseUpdate=q:S.next=q,X.lastBaseUpdate=O))}if(d!==null){var W=h.baseState;_=0,X=q=O=null,S=d;do{var F=S.lane&-536870913,Y=F!==S.lane;if(Y?(Oe&F)===F:(l&F)===F){F!==0&&F===Ra&&(Nf=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ue=t,_e=S;F=i;var We=a;switch(_e.tag){case 1:if(ue=_e.payload,typeof ue=="function"){W=ue.call(We,W,F);break e}W=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=_e.payload,F=typeof ue=="function"?ue.call(We,W,F):ue,F==null)break e;W=T({},W,F);break e;case 2:Cr=!0}}F=S.callback,F!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(q=X=Y,O=W):X=X.next=Y,_|=F;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);X===null&&(O=W),h.baseState=O,h.firstBaseUpdate=q,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Vr|=_,t.lanes=_,t.memoizedState=W}}function Rg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Cg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Rg(a[t],i)}var Da=V(null),Ju=V(0);function Ig(t,i){t=Qi,ae(Ju,t),ae(Da,i),Qi=t|i.baseLanes}function Df(){ae(Ju,Qi),ae(Da,Da.current)}function Of(){Qi=Ju.current,ee(Da),ee(Ju)}var yn=V(null),xn=null;function Dr(t){var i=t.alternate;ae(mt,mt.current&1),ae(yn,t),xn===null&&(i===null||Da.current!==null||i.memoizedState!==null)&&(xn=t)}function Mf(t){ae(mt,mt.current),ae(yn,t),xn===null&&(xn=t)}function Ng(t){t.tag===22?(ae(mt,mt.current),ae(yn,t),xn===null&&(xn=t)):Or()}function Or(){ae(mt,mt.current),ae(yn,yn.current)}function _n(t){ee(yn),xn===t&&(xn=null),ee(mt)}var mt=V(0);function Zu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ud(a)||jd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var zi=0,Re=null,Je=null,At=null,Wu=!1,Oa=!1,zs=!1,ec=0,nl=0,Ma=null,lA=0;function ct(){throw Error(s(321))}function xf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!pn(t[a],i[a]))return!1;return!0}function Vf(t,i,a,l,h,d){return zi=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=t===null||t.memoizedState===null?fy:Xf,zs=!1,d=a(l,h),zs=!1,Oa&&(d=Og(i,a,l,h)),Dg(t),d}function Dg(t){$.H=sl;var i=Je!==null&&Je.next!==null;if(zi=0,At=Je=Re=null,Wu=!1,nl=0,Ma=null,i)throw Error(s(300));t===null||bt||(t=t.dependencies,t!==null&&Fu(t)&&(bt=!0))}function Og(t,i,a,l){Re=t;var h=0;do{if(Oa&&(Ma=null),nl=0,Oa=!1,25<=h)throw Error(s(301));if(h+=1,At=Je=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=dy,d=i(a,l)}while(Oa);return d}function uA(){var t=$.H,i=t.useState()[0];return i=typeof i.then=="function"?il(i):i,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Re.flags|=1024),i}function kf(){var t=ec!==0;return ec=0,t}function Lf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Pf(t){if(Wu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Wu=!1}zi=0,At=Je=Re=null,Oa=!1,nl=ec=0,Ma=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Re.memoizedState=At=t:At=At.next=t,At}function pt(){if(Je===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var i=At===null?Re.memoizedState:At.next;if(i!==null)At=i,Je=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},At===null?Re.memoizedState=At=t:At=At.next=t}return At}function tc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(t){var i=nl;return nl+=1,Ma===null&&(Ma=[]),t=Tg(Ma,t,i),i=Re,(At===null?i.memoizedState:At.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?fy:Xf),t}function nc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return il(t);if(t.$$typeof===ie)return Ht(t)}throw Error(s(438,String(t)))}function Uf(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=tc(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function Bi(t,i){return typeof i=="function"?i(t):i}function ic(t){var i=pt();return jf(i,Je,t)}function jf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=_=null,O=null,q=i,X=!1;do{var W=q.lane&-536870913;if(W!==q.lane?(Oe&W)===W:(zi&W)===W){var F=q.revertLane;if(F===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),W===Ra&&(X=!0);else if((zi&F)===F){q=q.next,F===Ra&&(X=!0);continue}else W={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(S=O=W,_=d):O=O.next=W,Re.lanes|=F,Vr|=F;W=q.action,zs&&a(d,W),d=q.hasEagerState?q.eagerState:a(d,W)}else F={lane:W,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(S=O=F,_=d):O=O.next=F,Re.lanes|=W,Vr|=W;q=q.next}while(q!==null&&q!==i);if(O===null?_=d:O.next=S,!pn(d,t.memoizedState)&&(bt=!0,X&&(a=Ca,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=O,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function zf(t){var i=pt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);pn(d,i.memoizedState)||(bt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Mg(t,i,a){var l=Re,h=pt(),d=Le;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!pn((Je||h).memoizedState,a);if(_&&(h.memoizedState=a,bt=!0),h=h.queue,qf(kg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,xa(9,{destroy:void 0},Vg.bind(null,l,h,a,i),null),et===null)throw Error(s(349));d||(zi&127)!==0||xg(l,i,a)}return a}function xg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=tc(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Vg(t,i,a,l){i.value=a,i.getSnapshot=l,Lg(i)&&Pg(t)}function kg(t,i,a){return a(function(){Lg(i)&&Pg(t)})}function Lg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!pn(t,a)}catch{return!0}}function Pg(t){var i=Os(t,2);i!==null&&cn(i,t,2)}function Bf(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),zs){An(!0);try{a()}finally{An(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:t},i}function Ug(t,i,a,l){return t.baseState=a,jf(t,Je,typeof l=="function"?l:Bi)}function cA(t,i,a,l,h){if(ac(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,jg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function jg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=$.T,_={};$.T=_;try{var S=a(h,l),O=$.S;O!==null&&O(_,S),zg(t,i,S)}catch(q){Hf(t,i,q)}finally{d!==null&&_.types!==null&&(d.types=_.types),$.T=d}}else try{d=a(h,l),zg(t,i,d)}catch(q){Hf(t,i,q)}}function zg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Bg(t,i,l)},function(l){return Hf(t,i,l)}):Bg(t,i,a)}function Bg(t,i,a){i.status="fulfilled",i.value=a,Hg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,jg(t,a)))}function Hf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Hg(i),i=i.next;while(i!==l)}t.action=null}function Hg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function qg(t,i){return i}function Fg(t,i){if(Le){var a=et.formState;if(a!==null){e:{var l=Re;if(Le){if(tt){t:{for(var h=tt,d=Mn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Vn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){tt=Vn(h.nextSibling),l=h.data==="F!";break e}}wr(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qg,lastRenderedState:i},a.queue=l,a=uy.bind(null,Re,l),l.dispatch=a,l=Bf(!1),d=Qf.bind(null,Re,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=cA.bind(null,Re,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Gg(t){var i=pt();return Yg(i,Je,t)}function Yg(t,i,a){if(i=jf(t,i,qg)[0],t=ic(Bi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=il(i)}catch(_){throw _===Ia?Ku:_}else l=i;i=pt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,xa(9,{destroy:void 0},hA.bind(null,h,a),null)),[l,d,t]}function hA(t,i){t.action=i}function Kg(t){var i=pt(),a=Je;if(a!==null)return Yg(i,a,t);pt(),i=i.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function xa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=tc(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Qg(){return pt().memoizedState}function rc(t,i,a,l){var h=nn();Re.flags|=t,h.memoizedState=xa(1|i,{destroy:void 0},a,l===void 0?null:l)}function sc(t,i,a,l){var h=pt();l=l===void 0?null:l;var d=h.memoizedState.inst;Je!==null&&l!==null&&xf(l,Je.memoizedState.deps)?h.memoizedState=xa(i,d,a,l):(Re.flags|=t,h.memoizedState=xa(1|i,d,a,l))}function Xg(t,i){rc(8390656,8,t,i)}function qf(t,i){sc(2048,8,t,i)}function fA(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=tc(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function $g(t){var i=pt().memoizedState;return fA({ref:i,nextImpl:t}),function(){if((qe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Jg(t,i){return sc(4,2,t,i)}function Zg(t,i){return sc(4,4,t,i)}function Wg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ey(t,i,a){a=a!=null?a.concat([t]):null,sc(4,4,Wg.bind(null,i,t),a)}function Ff(){}function ty(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&xf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function ny(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&xf(i,l[1]))return l[0];if(l=t(),zs){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,i],l}function Gf(t,i,a){return a===void 0||(zi&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=i_(),Re.lanes|=t,Vr|=t,a)}function iy(t,i,a,l){return pn(a,i)?a:Da.current!==null?(t=Gf(t,a,l),pn(t,i)||(bt=!0),t):(zi&42)===0||(zi&1073741824)!==0&&(Oe&261930)===0?(bt=!0,t.memoizedState=a):(t=i_(),Re.lanes|=t,Vr|=t,i)}function ry(t,i,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var _=$.T,S={};$.T=S,Qf(t,!1,i,a);try{var O=h(),q=$.S;if(q!==null&&q(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var X=oA(O,l);rl(t,i,X,Tn(t))}else rl(t,i,l,Tn(t))}catch(W){rl(t,i,{then:function(){},status:"rejected",reason:W},Tn())}finally{se.p=d,_!==null&&S.types!==null&&(_.types=S.types),$.T=_}}function dA(){}function Yf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=sy(t).queue;ry(t,h,i,pe,a===null?dA:function(){return ay(t),a(l)})}function sy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:pe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function ay(t){var i=sy(t);i.next===null&&(i=t.alternate.memoizedState),rl(t,i.next.queue,{},Tn())}function Kf(){return Ht(Tl)}function oy(){return pt().memoizedState}function ly(){return pt().memoizedState}function mA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Tn();t=Ir(a);var l=Nr(i,t,a);l!==null&&(cn(l,i,a),Wo(l,i,a)),i={cache:Sf()},t.payload=i;return}i=i.return}}function pA(t,i,a){var l=Tn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ac(t)?cy(i,a):(a=hf(t,i,a,l),a!==null&&(cn(a,t,l),hy(a,i,l)))}function uy(t,i,a){var l=Tn();rl(t,i,a,l)}function rl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ac(t))cy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,pn(S,_))return zu(t,i,h,0),et===null&&ju(),!1}catch{}finally{}if(a=hf(t,i,h,l),a!==null)return cn(a,t,l),hy(a,i,l),!0}return!1}function Qf(t,i,a,l){if(l={lane:2,revertLane:Rd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ac(t)){if(i)throw Error(s(479))}else i=hf(t,a,l,2),i!==null&&cn(i,t,2)}function ac(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function cy(t,i){Oa=Wu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function hy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ro(t,a)}}var sl={readContext:Ht,use:nc,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};sl.useEffectEvent=ct;var fy={readContext:Ht,use:nc,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:Xg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,rc(4194308,4,Wg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return rc(4194308,4,t,i)},useInsertionEffect:function(t,i){rc(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var l=t();if(zs){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=nn();if(a!==void 0){var h=a(i);if(zs){An(!0);try{a(i)}finally{An(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=pA.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=Bf(t);var i=t.queue,a=uy.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Ff,useDeferredValue:function(t,i){var a=nn();return Gf(a,t,i)},useTransition:function(){var t=Bf(!1);return t=ry.bind(null,Re,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,h=nn();if(Le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(Oe&127)!==0||xg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Xg(kg.bind(null,l,d,t),[t]),l.flags|=2048,xa(9,{destroy:void 0},Vg.bind(null,l,d,a,i),null),a},useId:function(){var t=nn(),i=et.identifierPrefix;if(Le){var a=vi,l=_i;a=(l&~(1<<32-ft(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ec++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=lA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Kf,useFormState:Fg,useActionState:Fg,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Qf.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:Uf,useCacheRefresh:function(){return nn().memoizedState=mA.bind(null,Re)},useEffectEvent:function(t){var i=nn(),a={impl:t};return i.memoizedState=a,function(){if((qe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Xf={readContext:Ht,use:nc,useCallback:ty,useContext:Ht,useEffect:qf,useImperativeHandle:ey,useInsertionEffect:Jg,useLayoutEffect:Zg,useMemo:ny,useReducer:ic,useRef:Qg,useState:function(){return ic(Bi)},useDebugValue:Ff,useDeferredValue:function(t,i){var a=pt();return iy(a,Je.memoizedState,t,i)},useTransition:function(){var t=ic(Bi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:il(t),i]},useSyncExternalStore:Mg,useId:oy,useHostTransitionStatus:Kf,useFormState:Gg,useActionState:Gg,useOptimistic:function(t,i){var a=pt();return Ug(a,Je,t,i)},useMemoCache:Uf,useCacheRefresh:ly};Xf.useEffectEvent=$g;var dy={readContext:Ht,use:nc,useCallback:ty,useContext:Ht,useEffect:qf,useImperativeHandle:ey,useInsertionEffect:Jg,useLayoutEffect:Zg,useMemo:ny,useReducer:zf,useRef:Qg,useState:function(){return zf(Bi)},useDebugValue:Ff,useDeferredValue:function(t,i){var a=pt();return Je===null?Gf(a,t,i):iy(a,Je.memoizedState,t,i)},useTransition:function(){var t=zf(Bi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:il(t),i]},useSyncExternalStore:Mg,useId:oy,useHostTransitionStatus:Kf,useFormState:Kg,useActionState:Kg,useOptimistic:function(t,i){var a=pt();return Je!==null?Ug(a,Je,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Uf,useCacheRefresh:ly};dy.useEffectEvent=$g;function $f(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Jf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Tn(),h=Ir(l);h.payload=i,a!=null&&(h.callback=a),i=Nr(t,h,l),i!==null&&(cn(i,t,l),Wo(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Tn(),h=Ir(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Nr(t,h,l),i!==null&&(cn(i,t,l),Wo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Tn(),l=Ir(a);l.tag=2,i!=null&&(l.callback=i),i=Nr(t,l,a),i!==null&&(cn(i,t,a),Wo(i,t,a))}};function my(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Go(a,l)||!Go(h,d):!0}function py(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Jf.enqueueReplaceState(i,i.state,null)}function Bs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function gy(t){Uu(t)}function yy(t){console.error(t)}function _y(t){Uu(t)}function oc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function vy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Zf(t,i,a){return a=Ir(a),a.tag=3,a.payload={element:null},a.callback=function(){oc(t,i)},a}function Ey(t){return t=Ir(t),t.tag=3,t}function Ty(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){vy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){vy(i,a,l),typeof h!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function gA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&wa(i,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return xn===null?vc():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Qu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Ad(t,l,h)),!1;case 22:return a.flags|=65536,l===Qu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Ad(t,l,h)),!1}throw Error(s(435,a.tag))}return Ad(t,l,h),vc(),!1}if(Le)return i=yn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==yf&&(t=Error(s(422),{cause:l}),Qo(Nn(t,a)))):(l!==yf&&(i=Error(s(423),{cause:l}),Qo(Nn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Nn(l,a),h=Zf(t.stateNode,l,h),If(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=Nn(d,a),dl===null?dl=[d]:dl.push(d),ht!==4&&(ht=2),i===null)return!0;l=Nn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Zf(a.stateNode,l,t),If(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(kr===null||!kr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ey(h),Ty(h,t,a,l),If(a,h),!1}a=a.return}while(a!==null);return!1}var Wf=Error(s(461)),bt=!1;function qt(t,i,a,l){i.child=t===null?wg(i,null,a,l):js(i,t.child,a,l)}function Sy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return ks(i),l=Vf(t,i,a,_,d,h),S=kf(),t!==null&&!bt?(Lf(t,i,h),Hi(t,i,h)):(Le&&S&&pf(i),i.flags|=1,qt(t,i,l,h),i.child)}function Ay(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!ff(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,by(t,i,d,l,h)):(t=Hu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!od(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Go,a(_,l)&&t.ref===i.ref)return Hi(t,i,h)}return i.flags|=1,t=Li(d,l),t.ref=i.ref,t.return=i,i.child=t}function by(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Go(d,l)&&t.ref===i.ref)if(bt=!1,i.pendingProps=l=d,od(t,h))(t.flags&131072)!==0&&(bt=!0);else return i.lanes=t.lanes,Hi(t,i,h)}return ed(t,i,a,l,h)}function wy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Ry(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(i,d!==null?d.cachePool:null),d!==null?Ig(i,d):Df(),Ng(i);else return l=i.lanes=536870912,Ry(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Yu(i,d.cachePool),Ig(i,d),Or(),i.memoizedState=null):(t!==null&&Yu(i,null),Df(),Or());return qt(t,i,h,a),i.child}function al(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ry(t,i,a,l,h){var d=bf();return d=d===null?null:{parent:St._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Yu(i,null),Df(),Ng(i),t!==null&&wa(t,i,l,!0),i.childLanes=h,null}function lc(t,i){return i=cc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Cy(t,i,a){return js(i,t.child,null,a),t=lc(i,i.pendingProps),t.flags|=2,_n(i),i.memoizedState=null,t}function yA(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=lc(i,l),i.lanes=536870912,al(null,t);if(Mf(i),(t=tt)?(t=j_(t,Mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ar!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=cg(t),a.return=i,i.child=a,Bt=i,tt=null)):t=null,t===null)throw wr(i);return i.lanes=536870912,null}return lc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Mf(i),h)if(i.flags&256)i.flags&=-257,i=Cy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(bt||wa(t,i,a,!1),h=(a&t.childLanes)!==0,bt||h){if(l=et,l!==null&&(_=Co(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Os(t,_),cn(l,t,_),Wf;vc(),i=Cy(t,i,a)}else t=d.treeContext,tt=Vn(_.nextSibling),Bt=i,Le=!0,br=null,Mn=!1,t!==null&&dg(i,t),i=lc(i,l),i.flags|=4096;return i}return t=Li(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function uc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function ed(t,i,a,l,h){return ks(i),a=Vf(t,i,a,l,void 0,h),l=kf(),t!==null&&!bt?(Lf(t,i,h),Hi(t,i,h)):(Le&&l&&pf(i),i.flags|=1,qt(t,i,a,h),i.child)}function Iy(t,i,a,l,h,d){return ks(i),i.updateQueue=null,a=Og(i,l,a,h),Dg(t),l=kf(),t!==null&&!bt?(Lf(t,i,d),Hi(t,i,d)):(Le&&l&&pf(i),i.flags|=1,qt(t,i,a,d),i.child)}function Ny(t,i,a,l,h){if(ks(i),i.stateNode===null){var d=Ta,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ht(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Jf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Rf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ht(_):Ta,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&($f(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Jf.enqueueReplaceState(d,d.state,null),tl(i,l,d,h),el(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,O=Bs(a,S);d.props=O;var q=d.context,X=a.contextType;_=Ta,typeof X=="object"&&X!==null&&(_=Ht(X));var W=a.getDerivedStateFromProps;X=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||q!==_)&&py(i,d,l,_),Cr=!1;var F=i.memoizedState;d.state=F,tl(i,l,d,h),el(),q=i.memoizedState,S||F!==q||Cr?(typeof W=="function"&&($f(i,a,W,l),q=i.memoizedState),(O=Cr||my(i,a,O,l,F,q,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=_,l=O):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Cf(t,i),_=i.memoizedProps,X=Bs(a,_),d.props=X,W=i.pendingProps,F=d.context,q=a.contextType,O=Ta,typeof q=="object"&&q!==null&&(O=Ht(q)),S=a.getDerivedStateFromProps,(q=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==W||F!==O)&&py(i,d,l,O),Cr=!1,F=i.memoizedState,d.state=F,tl(i,l,d,h),el();var Y=i.memoizedState;_!==W||F!==Y||Cr||t!==null&&t.dependencies!==null&&Fu(t.dependencies)?(typeof S=="function"&&($f(i,a,S,l),Y=i.memoizedState),(X=Cr||my(i,a,X,l,F,Y,O)||t!==null&&t.dependencies!==null&&Fu(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,O)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=O,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,uc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=js(i,t.child,null,h),i.child=js(i,null,a,h)):qt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Hi(t,i,h),t}function Dy(t,i,a,l){return xs(),i.flags|=256,qt(t,i,a,l),i.child}var td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nd(t){return{baseLanes:t,cachePool:vg()}}function id(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=En),t}function Oy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Le){if(h?Dr(i):Or(),(t=tt)?(t=j_(t,Mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ar!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=cg(t),a.return=i,i.child=a,Bt=i,tt=null)):t=null,t===null)throw wr(i);return jd(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(Or(),h=i.mode,S=cc({mode:"hidden",children:S},h),l=Ms(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=nd(a),l.childLanes=id(t,_,a),i.memoizedState=td,al(null,l)):(Dr(i),rd(i,S))}var O=t.memoizedState;if(O!==null&&(S=O.dehydrated,S!==null)){if(d)i.flags&256?(Dr(i),i.flags&=-257,i=sd(t,i,a)):i.memoizedState!==null?(Or(),i.child=t.child,i.flags|=128,i=null):(Or(),S=l.fallback,h=i.mode,l=cc({mode:"visible",children:l.children},h),S=Ms(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,js(i,t.child,null,a),l=i.child,l.memoizedState=nd(a),l.childLanes=id(t,_,a),i.memoizedState=td,i=al(null,l));else if(Dr(i),jd(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(s(419)),l.stack="",l.digest=_,Qo({value:l,source:null,stack:null}),i=sd(t,i,a)}else if(bt||wa(t,i,a,!1),_=(a&t.childLanes)!==0,bt||_){if(_=et,_!==null&&(l=Co(_,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,Os(t,l),cn(_,t,l),Wf;Ud(S)||vc(),i=sd(t,i,a)}else Ud(S)?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,tt=Vn(S.nextSibling),Bt=i,Le=!0,br=null,Mn=!1,t!==null&&dg(i,t),i=rd(i,l.children),i.flags|=4096);return i}return h?(Or(),S=l.fallback,h=i.mode,O=t.child,q=O.sibling,l=Li(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,q!==null?S=Li(q,S):(S=Ms(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,al(null,l),l=i.child,S=t.child.memoizedState,S===null?S=nd(a):(h=S.cachePool,h!==null?(O=St._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=vg(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=id(t,_,a),i.memoizedState=td,al(t.child,l)):(Dr(i),a=t.child,t=a.sibling,a=Li(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function rd(t,i){return i=cc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function cc(t,i){return t=gn(22,t,null,i),t.lanes=0,t}function sd(t,i,a){return js(i,t.child,null,a),t=rd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function My(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Ef(t.return,i,a)}function ad(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function xy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=mt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,ae(mt,_),qt(t,i,l,a),l=Le?Ko:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&My(t,a,i);else if(t.tag===19)My(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Zu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),ad(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Zu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ad(i,!0,a,null,d,l);break;case"together":ad(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Hi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Vr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(wa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Li(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Li(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function od(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Fu(t)))}function _A(t,i,a){switch(i.tag){case 3:Nt(i,i.stateNode.containerInfo),Rr(i,St,t.memoizedState.cache),xs();break;case 27:case 5:ds(i);break;case 4:Nt(i,i.stateNode.containerInfo);break;case 10:Rr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Mf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Dr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Oy(t,i,a):(Dr(i),t=Hi(t,i,a),t!==null?t.sibling:null);Dr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(wa(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return xy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(mt,mt.current),l)break;return null;case 22:return i.lanes=0,wy(t,i,a,i.pendingProps);case 24:Rr(i,St,t.memoizedState.cache)}return Hi(t,i,a)}function Vy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)bt=!0;else{if(!od(t,a)&&(i.flags&128)===0)return bt=!1,_A(t,i,a);bt=(t.flags&131072)!==0}else bt=!1,Le&&(i.flags&1048576)!==0&&fg(i,Ko,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Ps(i.elementType),i.type=t,typeof t=="function")ff(t)?(l=Bs(t,l),i.tag=1,i=Ny(null,i,t,l,a)):(i.tag=0,i=ed(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===de){i.tag=11,i=Sy(null,i,t,l,a);break e}else if(h===N){i.tag=14,i=Ay(null,i,t,l,a);break e}}throw i=Fe(t)||t,Error(s(306,i,""))}}return i;case 0:return ed(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Bs(l,i.pendingProps),Ny(t,i,l,h,a);case 3:e:{if(Nt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Cf(t,i),tl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Rr(i,St,l),l!==d.cache&&Tf(i,[St],a,!0),el(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Dy(t,i,l,a);break e}else if(l!==h){h=Nn(Error(s(424)),i),Qo(h),i=Dy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(tt=Vn(t.firstChild),Bt=i,Le=!0,br=null,Mn=!0,a=wg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(xs(),l===h){i=Hi(t,i,a);break e}qt(t,i,l,a)}i=i.child}return i;case 26:return uc(t,i),t===null?(a=G_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Le||(a=i.type,t=i.pendingProps,l=Rc(Ce.current).createElement(a),l[vt]=i,l[kt]=t,Ft(l,a,t),Et(l),i.stateNode=l):i.memoizedState=G_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ds(i),t===null&&Le&&(l=i.stateNode=H_(i.type,i.pendingProps,Ce.current),Bt=i,Mn=!0,h=tt,jr(i.type)?(zd=h,tt=Vn(l.firstChild)):tt=h),qt(t,i,i.pendingProps.children,a),uc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Le&&((h=l=tt)&&(l=QA(l,i.type,i.pendingProps,Mn),l!==null?(i.stateNode=l,Bt=i,tt=Vn(l.firstChild),Mn=!1,h=!0):h=!1),h||wr(i)),ds(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,kd(h,d)?l=null:_!==null&&kd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Vf(t,i,uA,null,null,a),Tl._currentValue=h),uc(t,i),qt(t,i,l,a),i.child;case 6:return t===null&&Le&&((t=a=tt)&&(a=XA(a,i.pendingProps,Mn),a!==null?(i.stateNode=a,Bt=i,tt=null,t=!0):t=!1),t||wr(i)),null;case 13:return Oy(t,i,a);case 4:return Nt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=js(i,null,l,a):qt(t,i,l,a),i.child;case 11:return Sy(t,i,i.type,i.pendingProps,a);case 7:return qt(t,i,i.pendingProps,a),i.child;case 8:return qt(t,i,i.pendingProps.children,a),i.child;case 12:return qt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Rr(i,i.type,l.value),qt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ks(i),h=Ht(h),l=l(h),i.flags|=1,qt(t,i,l,a),i.child;case 14:return Ay(t,i,i.type,i.pendingProps,a);case 15:return by(t,i,i.type,i.pendingProps,a);case 19:return xy(t,i,a);case 31:return yA(t,i,a);case 22:return wy(t,i,a,i.pendingProps);case 24:return ks(i),l=Ht(St),t===null?(h=bf(),h===null&&(h=et,d=Sf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Rf(i),Rr(i,St,h)):((t.lanes&a)!==0&&(Cf(t,i),tl(i,null,null,a),el()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Rr(i,St,l)):(l=d.cache,Rr(i,St,l),l!==h.cache&&Tf(i,[St],a,!0))),qt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function qi(t){t.flags|=4}function ld(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(o_())t.flags|=8192;else throw Us=Qu,wf}else t.flags&=-16777217}function ky(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!$_(i))if(o_())t.flags|=8192;else throw Us=Qu,wf}function hc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?yu():536870912,t.lanes|=i,Pa|=i)}function ol(t,i){if(!Le)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function vA(t,i,a){var l=i.pendingProps;switch(gf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(i),null;case 1:return nt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ji(St),rt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ba(i)?qi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,_f())),nt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(qi(i),d!==null?(nt(i),ky(i,d)):(nt(i),ld(i,h,null,l,a))):d?d!==t.memoizedState?(qi(i),nt(i),ky(i,d)):(nt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&qi(i),nt(i),ld(i,h,t,l,a)),null;case 27:if(na(i),a=Ce.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}t=le.current,ba(i)?mg(i):(t=H_(h,l,a),i.stateNode=t,qi(i))}return nt(i),null;case 5:if(na(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}if(d=le.current,ba(i))mg(i);else{var _=Rc(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[vt]=i,d[kt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Ft(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&qi(i)}}return nt(i),ld(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&qi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ce.current,ba(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[vt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||O_(t.nodeValue,a)),t||wr(i,!0)}else t=Rc(t).createTextNode(l),t[vt]=i,i.stateNode=t}return nt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=ba(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[vt]=i}else xs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),t=!1}else a=_f(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(_n(i),i):(_n(i),null);if((i.flags&128)!==0)throw Error(s(558))}return nt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ba(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[vt]=i}else xs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),h=!1}else h=_f(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(_n(i),i):(_n(i),null)}return _n(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),hc(i,i.updateQueue),nt(i),null);case 4:return rt(),t===null&&Dd(i.stateNode.containerInfo),nt(i),null;case 10:return ji(i.type),nt(i),null;case 19:if(ee(mt),l=i.memoizedState,l===null)return nt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)ol(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Zu(t),d!==null){for(i.flags|=128,ol(l,!1),t=d.updateQueue,i.updateQueue=t,hc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)ug(a,t),a=a.sibling;return ae(mt,mt.current&1|2),Le&&Pi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&en()>gc&&(i.flags|=128,h=!0,ol(l,!1),i.lanes=4194304)}else{if(!h)if(t=Zu(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,hc(i,t),ol(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Le)return nt(i),null}else 2*en()-l.renderingStartTime>gc&&a!==536870912&&(i.flags|=128,h=!0,ol(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,a=mt.current,ae(mt,h?a&1|2:a&1),Le&&Pi(i,l.treeForkCount),t):(nt(i),null);case 22:case 23:return _n(i),Of(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(nt(i),i.subtreeFlags&6&&(i.flags|=8192)):nt(i),a=i.updateQueue,a!==null&&hc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ee(Ls),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ji(St),nt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function EA(t,i){switch(gf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ji(St),rt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return na(i),null;case 31:if(i.memoizedState!==null){if(_n(i),i.alternate===null)throw Error(s(340));xs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(_n(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));xs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ee(mt),null;case 4:return rt(),null;case 10:return ji(i.type),null;case 22:case 23:return _n(i),Of(),t!==null&&ee(Ls),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ji(St),null;case 25:return null;default:return null}}function Ly(t,i){switch(gf(i),i.tag){case 3:ji(St),rt();break;case 26:case 27:case 5:na(i);break;case 4:rt();break;case 31:i.memoizedState!==null&&_n(i);break;case 13:_n(i);break;case 19:ee(mt);break;case 10:ji(i.type);break;case 22:case 23:_n(i),Of(),t!==null&&ee(Ls);break;case 24:ji(St)}}function ll(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){Xe(i,i.return,S)}}function Mr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var O=a,q=S;try{q()}catch(X){Xe(h,O,X)}}}l=l.next}while(l!==d)}}catch(X){Xe(i,i.return,X)}}function Py(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Cg(i,a)}catch(l){Xe(t,t.return,l)}}}function Uy(t,i,a){a.props=Bs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,i,l)}}function ul(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Xe(t,i,h)}}function Ei(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Xe(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xe(t,i,h)}else a.current=null}function jy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Xe(t,t.return,h)}}function ud(t,i,a){try{var l=t.stateNode;HA(l,t.type,a,i),l[kt]=i}catch(h){Xe(t,t.return,h)}}function zy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&jr(t.type)||t.tag===4}function cd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&jr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Hn));else if(l!==4&&(l===27&&jr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(hd(t,i,a),t=t.sibling;t!==null;)hd(t,i,a),t=t.sibling}function fc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&jr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(fc(t,i,a),t=t.sibling;t!==null;)fc(t,i,a),t=t.sibling}function By(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ft(i,l,a),i[vt]=t,i[kt]=a}catch(d){Xe(t,t.return,d)}}var Fi=!1,wt=!1,fd=!1,Hy=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function TA(t,i){if(t=t.containerInfo,xd=xc,t=eg(t),sf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,O=-1,q=0,X=0,W=t,F=null;t:for(;;){for(var Y;W!==a||h!==0&&W.nodeType!==3||(S=_+h),W!==d||l!==0&&W.nodeType!==3||(O=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(Y=W.firstChild)!==null;)F=W,W=Y;for(;;){if(W===t)break t;if(F===a&&++q===h&&(S=_),F===d&&++X===l&&(O=_),(Y=W.nextSibling)!==null)break;W=F,F=W.parentNode}W=Y}a=S===-1||O===-1?null:{start:S,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Vd={focusedElem:t,selectionRange:a},xc=!1,Pt=i;Pt!==null;)if(i=Pt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Pt=t;else for(;Pt!==null;){switch(i=Pt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ue=Bs(a.type,h);t=l.getSnapshotBeforeUpdate(ue,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Xe(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Pd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Pd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Pt=t;break}Pt=i.return}}function qy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Yi(t,a),l&4&&ll(5,a);break;case 1:if(Yi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Xe(a,a.return,_)}else{var h=Bs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(a,a.return,_)}}l&64&&Py(a),l&512&&ul(a,a.return);break;case 3:if(Yi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Cg(t,i)}catch(_){Xe(a,a.return,_)}}break;case 27:i===null&&l&4&&By(a);case 26:case 5:Yi(t,a),i===null&&l&4&&jy(a),l&512&&ul(a,a.return);break;case 12:Yi(t,a);break;case 31:Yi(t,a),l&4&&Yy(t,a);break;case 13:Yi(t,a),l&4&&Ky(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=DA.bind(null,a),$A(t,a))));break;case 22:if(l=a.memoizedState!==null||Fi,!l){i=i!==null&&i.memoizedState!==null||wt,h=Fi;var d=wt;Fi=l,(wt=i)&&!d?Ki(t,a,(a.subtreeFlags&8772)!==0):Yi(t,a),Fi=h,wt=d}break;case 30:break;default:Yi(t,a)}}function Fy(t){var i=t.alternate;i!==null&&(t.alternate=null,Fy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&oa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var at=null,an=!1;function Gi(t,i,a){for(a=a.child;a!==null;)Gy(t,i,a),a=a.sibling}function Gy(t,i,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Un,a)}catch{}switch(a.tag){case 26:wt||Ei(a,i),Gi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:wt||Ei(a,i);var l=at,h=an;jr(a.type)&&(at=a.stateNode,an=!1),Gi(t,i,a),_l(a.stateNode),at=l,an=h;break;case 5:wt||Ei(a,i);case 6:if(l=at,h=an,at=null,Gi(t,i,a),at=l,an=h,at!==null)if(an)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(a.stateNode)}catch(d){Xe(a,i,d)}else try{at.removeChild(a.stateNode)}catch(d){Xe(a,i,d)}break;case 18:at!==null&&(an?(t=at,P_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ga(t)):P_(at,a.stateNode));break;case 4:l=at,h=an,at=a.stateNode.containerInfo,an=!0,Gi(t,i,a),at=l,an=h;break;case 0:case 11:case 14:case 15:Mr(2,a,i),wt||Mr(4,a,i),Gi(t,i,a);break;case 1:wt||(Ei(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Uy(a,i,l)),Gi(t,i,a);break;case 21:Gi(t,i,a);break;case 22:wt=(l=wt)||a.memoizedState!==null,Gi(t,i,a),wt=l;break;default:Gi(t,i,a)}}function Yy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ga(t)}catch(a){Xe(i,i.return,a)}}}function Ky(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ga(t)}catch(a){Xe(i,i.return,a)}}function SA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Hy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Hy),i;default:throw Error(s(435,t.tag))}}function dc(t,i){var a=SA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=OA.bind(null,t,l);l.then(h,h)}})}function on(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(jr(S.type)){at=S.stateNode,an=!1;break e}break;case 5:at=S.stateNode,an=!1;break e;case 3:case 4:at=S.stateNode.containerInfo,an=!0;break e}S=S.return}if(at===null)throw Error(s(160));Gy(d,_,h),at=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Qy(i,t),i=i.sibling}var Qn=null;function Qy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(i,t),ln(t),l&4&&(Mr(3,t,t.return),ll(3,t),Mr(5,t,t.return));break;case 1:on(i,t),ln(t),l&512&&(wt||a===null||Ei(a,a.return)),l&64&&Fi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Qn;if(on(i,t),ln(t),l&512&&(wt||a===null||Ei(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ai]||d[vt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ft(d,l,a),d[vt]=t,Et(d),l=d;break e;case"link":var _=Q_("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;case"meta":if(_=Q_("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[vt]=t,Et(d),l=d}t.stateNode=l}else X_(h,t.type,t.stateNode);else t.stateNode=K_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?X_(h,t.type,t.stateNode):K_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ud(t,t.memoizedProps,a.memoizedProps)}break;case 27:on(i,t),ln(t),l&512&&(wt||a===null||Ei(a,a.return)),a!==null&&l&4&&ud(t,t.memoizedProps,a.memoizedProps);break;case 5:if(on(i,t),ln(t),l&512&&(wt||a===null||Ei(a,a.return)),t.flags&32){h=t.stateNode;try{sn(h,"")}catch(ue){Xe(t,t.return,ue)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ud(t,h,a!==null?a.memoizedProps:h)),l&1024&&(fd=!0);break;case 6:if(on(i,t),ln(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ue){Xe(t,t.return,ue)}}break;case 3:if(Nc=null,h=Qn,Qn=Cc(i.containerInfo),on(i,t),Qn=h,ln(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ga(i.containerInfo)}catch(ue){Xe(t,t.return,ue)}fd&&(fd=!1,Xy(t));break;case 4:l=Qn,Qn=Cc(t.stateNode.containerInfo),on(i,t),ln(t),Qn=l;break;case 12:on(i,t),ln(t);break;case 31:on(i,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dc(t,l)));break;case 13:on(i,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(pc=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dc(t,l)));break;case 22:h=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,q=Fi,X=wt;if(Fi=q||h,wt=X||O,on(i,t),wt=X,Fi=q,ln(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||O||Fi||wt||Hs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(d=O.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=O.stateNode;var W=O.memoizedProps.style,F=W!=null&&W.hasOwnProperty("display")?W.display:null;S.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ue){Xe(O,O.return,ue)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(ue){Xe(O,O.return,ue)}}}else if(i.tag===18){if(a===null){O=i;try{var Y=O.stateNode;h?U_(Y,!0):U_(O.stateNode,!1)}catch(ue){Xe(O,O.return,ue)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,dc(t,a))));break;case 19:on(i,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dc(t,l)));break;case 30:break;case 21:break;default:on(i,t),ln(t)}}function ln(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(zy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=cd(t);fc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(sn(_,""),a.flags&=-33);var S=cd(t);fc(t,S,_);break;case 3:case 4:var O=a.stateNode.containerInfo,q=cd(t);hd(t,q,O);break;default:throw Error(s(161))}}catch(X){Xe(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Xy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Xy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Yi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)qy(t,i.alternate,i),i=i.sibling}function Hs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Mr(4,i,i.return),Hs(i);break;case 1:Ei(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Uy(i,i.return,a),Hs(i);break;case 27:_l(i.stateNode);case 26:case 5:Ei(i,i.return),Hs(i);break;case 22:i.memoizedState===null&&Hs(i);break;case 30:Hs(i);break;default:Hs(i)}t=t.sibling}}function Ki(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Ki(h,d,a),ll(4,d);break;case 1:if(Ki(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){Xe(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)Rg(O[h],S)}catch(q){Xe(l,l.return,q)}}a&&_&64&&Py(d),ul(d,d.return);break;case 27:By(d);case 26:case 5:Ki(h,d,a),a&&l===null&&_&4&&jy(d),ul(d,d.return);break;case 12:Ki(h,d,a);break;case 31:Ki(h,d,a),a&&_&4&&Yy(h,d);break;case 13:Ki(h,d,a),a&&_&4&&Ky(h,d);break;case 22:d.memoizedState===null&&Ki(h,d,a),ul(d,d.return);break;case 30:break;default:Ki(h,d,a)}i=i.sibling}}function dd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Xo(a))}function md(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Xo(t))}function Xn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)$y(t,i,a,l),i=i.sibling}function $y(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Xn(t,i,a,l),h&2048&&ll(9,i);break;case 1:Xn(t,i,a,l);break;case 3:Xn(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Xo(t)));break;case 12:if(h&2048){Xn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){Xe(i,i.return,O)}}else Xn(t,i,a,l);break;case 31:Xn(t,i,a,l);break;case 13:Xn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Xn(t,i,a,l):cl(t,i):d._visibility&2?Xn(t,i,a,l):(d._visibility|=2,Va(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&dd(_,i);break;case 24:Xn(t,i,a,l),h&2048&&md(i.alternate,i);break;default:Xn(t,i,a,l)}}function Va(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,O=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:Va(d,_,S,O,h),ll(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?Va(d,_,S,O,h):cl(d,_):(X._visibility|=2,Va(d,_,S,O,h)),h&&q&2048&&dd(_.alternate,_);break;case 24:Va(d,_,S,O,h),h&&q&2048&&md(_.alternate,_);break;default:Va(d,_,S,O,h)}i=i.sibling}}function cl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:cl(a,l),h&2048&&dd(l.alternate,l);break;case 24:cl(a,l),h&2048&&md(l.alternate,l);break;default:cl(a,l)}i=i.sibling}}var hl=8192;function ka(t,i,a){if(t.subtreeFlags&hl)for(t=t.child;t!==null;)Jy(t,i,a),t=t.sibling}function Jy(t,i,a){switch(t.tag){case 26:ka(t,i,a),t.flags&hl&&t.memoizedState!==null&&lb(a,Qn,t.memoizedState,t.memoizedProps);break;case 5:ka(t,i,a);break;case 3:case 4:var l=Qn;Qn=Cc(t.stateNode.containerInfo),ka(t,i,a),Qn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=hl,hl=16777216,ka(t,i,a),hl=l):ka(t,i,a));break;default:ka(t,i,a)}}function Zy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function fl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pt=l,e_(l,t)}Zy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wy(t),t=t.sibling}function Wy(t){switch(t.tag){case 0:case 11:case 15:fl(t),t.flags&2048&&Mr(9,t,t.return);break;case 3:fl(t);break;case 12:fl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,mc(t)):fl(t);break;default:fl(t)}}function mc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pt=l,e_(l,t)}Zy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Mr(8,i,i.return),mc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,mc(i));break;default:mc(i)}t=t.sibling}}function e_(t,i){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:Mr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Xo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pt=l;else e:for(a=t;Pt!==null;){l=Pt;var h=l.sibling,d=l.return;if(Fy(l),l===a){Pt=null;break e}if(h!==null){h.return=d,Pt=h;break e}Pt=d}}}var AA={getCacheForType:function(t){var i=Ht(St),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(St).controller.signal}},bA=typeof WeakMap=="function"?WeakMap:Map,qe=0,et=null,Ne=null,Oe=0,Qe=0,vn=null,xr=!1,La=!1,pd=!1,Qi=0,ht=0,Vr=0,qs=0,gd=0,En=0,Pa=0,dl=null,un=null,yd=!1,pc=0,t_=0,gc=1/0,yc=null,kr=null,Ot=0,Lr=null,Ua=null,Xi=0,_d=0,vd=null,n_=null,ml=0,Ed=null;function Tn(){return(qe&2)!==0&&Oe!==0?Oe&-Oe:$.T!==null?Rd():_u()}function i_(){if(En===0)if((Oe&536870912)===0||Le){var t=gs;gs<<=1,(gs&3932160)===0&&(gs=262144),En=t}else En=536870912;return t=yn.current,t!==null&&(t.flags|=32),En}function cn(t,i,a){(t===et&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(ja(t,0),Pr(t,Oe,En,!1)),ys(t,a),((qe&2)===0||t!==et)&&(t===et&&((qe&2)===0&&(qs|=a),ht===4&&Pr(t,Oe,En,!1)),Ti(t))}function r_(t,i,a){if((qe&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||jn(t,i),h=l?CA(t,i):Sd(t,i,!0),d=l;do{if(h===0){La&&!l&&Pr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!wA(a)){h=Sd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;h=dl;var O=S.current.memoizedState.isDehydrated;if(O&&(ja(S,_).flags|=256),_=Sd(S,_,!1),_!==2){if(pd&&!O){S.errorRecoveryDisabledLanes|=d,qs|=d,h=4;break e}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){ja(t,0),Pr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Pr(l,i,En,!xr);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=pc+300-en(),10<h)){if(Pr(l,i,En,!xr),ii(l,0,!0)!==0)break e;Xi=i,l.timeoutHandle=k_(s_.bind(null,l,a,un,yc,yd,i,En,qs,Pa,xr,d,"Throttled",-0,0),h);break e}s_(l,a,un,yc,yd,i,En,qs,Pa,xr,d,null,-0,0)}}break}while(!0);Ti(t)}function s_(t,i,a,l,h,d,_,S,O,q,X,W,F,Y){if(t.timeoutHandle=-1,W=i.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},Jy(i,d,W);var ue=(d&62914560)===d?pc-en():(d&4194048)===d?t_-en():0;if(ue=ub(W,ue),ue!==null){Xi=d,t.cancelPendingCommit=ue(d_.bind(null,t,i,d,a,l,h,_,S,O,X,W,null,F,Y)),Pr(t,d,_,!q);return}}d_(t,i,d,a,l,h,_,S,O)}function wA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Pr(t,i,a,l){i&=~gd,i&=~qs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-ft(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&_s(t,a,i)}function _c(){return(qe&6)===0?(pl(0),!1):!0}function Td(){if(Ne!==null){if(Qe===0)var t=Ne.return;else t=Ne,Ui=Vs=null,Pf(t),Na=null,Jo=0,t=Ne;for(;t!==null;)Ly(t.alternate,t),t=t.return;Ne=null}}function ja(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,GA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Xi=0,Td(),et=t,Ne=a=Li(t.current,null),Oe=i,Qe=0,vn=null,xr=!1,La=jn(t,i),pd=!1,Pa=En=gd=qs=Vr=ht=0,un=dl=null,yd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-ft(l),d=1<<h;i|=t[h],l&=~d}return Qi=i,ju(),a}function a_(t,i){Re=null,$.H=sl,i===Ia||i===Ku?(i=Sg(),Qe=3):i===wf?(i=Sg(),Qe=4):Qe=i===Wf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vn=i,Ne===null&&(ht=1,oc(t,Nn(i,t.current)))}function o_(){var t=yn.current;return t===null?!0:(Oe&4194048)===Oe?xn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===xn:!1}function l_(){var t=$.H;return $.H=sl,t===null?sl:t}function u_(){var t=$.A;return $.A=AA,t}function vc(){ht=4,xr||(Oe&4194048)!==Oe&&yn.current!==null||(La=!0),(Vr&134217727)===0&&(qs&134217727)===0||et===null||Pr(et,Oe,En,!1)}function Sd(t,i,a){var l=qe;qe|=2;var h=l_(),d=u_();(et!==t||Oe!==i)&&(yc=null,ja(t,i)),i=!1;var _=ht;e:do try{if(Qe!==0&&Ne!==null){var S=Ne,O=vn;switch(Qe){case 8:Td(),_=6;break e;case 3:case 2:case 9:case 6:yn.current===null&&(i=!0);var q=Qe;if(Qe=0,vn=null,za(t,S,O,q),a&&La){_=0;break e}break;default:q=Qe,Qe=0,vn=null,za(t,S,O,q)}}RA(),_=ht;break}catch(X){a_(t,X)}while(!0);return i&&t.shellSuspendCounter++,Ui=Vs=null,qe=l,$.H=h,$.A=d,Ne===null&&(et=null,Oe=0,ju()),_}function RA(){for(;Ne!==null;)c_(Ne)}function CA(t,i){var a=qe;qe|=2;var l=l_(),h=u_();et!==t||Oe!==i?(yc=null,gc=en()+500,ja(t,i)):La=jn(t,i);e:do try{if(Qe!==0&&Ne!==null){i=Ne;var d=vn;t:switch(Qe){case 1:Qe=0,vn=null,za(t,i,d,1);break;case 2:case 9:if(Eg(d)){Qe=0,vn=null,h_(i);break}i=function(){Qe!==2&&Qe!==9||et!==t||(Qe=7),Ti(t)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Eg(d)?(Qe=0,vn=null,h_(i)):(Qe=0,vn=null,za(t,i,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var S=Ne;if(_?$_(_):S.stateNode.complete){Qe=0,vn=null;var O=S.sibling;if(O!==null)Ne=O;else{var q=S.return;q!==null?(Ne=q,Ec(q)):Ne=null}break t}}Qe=0,vn=null,za(t,i,d,5);break;case 6:Qe=0,vn=null,za(t,i,d,6);break;case 8:Td(),ht=6;break e;default:throw Error(s(462))}}IA();break}catch(X){a_(t,X)}while(!0);return Ui=Vs=null,$.H=l,$.A=h,qe=a,Ne!==null?0:(et=null,Oe=0,ju(),ht)}function IA(){for(;Ne!==null&&!Jh();)c_(Ne)}function c_(t){var i=Vy(t.alternate,t,Qi);t.memoizedProps=t.pendingProps,i===null?Ec(t):Ne=i}function h_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Iy(a,i,i.pendingProps,i.type,void 0,Oe);break;case 11:i=Iy(a,i,i.pendingProps,i.type.render,i.ref,Oe);break;case 5:Pf(i);default:Ly(a,i),i=Ne=ug(i,Qi),i=Vy(a,i,Qi)}t.memoizedProps=t.pendingProps,i===null?Ec(t):Ne=i}function za(t,i,a,l){Ui=Vs=null,Pf(i),Na=null,Jo=0;var h=i.return;try{if(gA(t,h,i,a,Oe)){ht=1,oc(t,Nn(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ht=1,oc(t,Nn(a,t.current)),Ne=null;return}i.flags&32768?(Le||l===1?t=!0:La||(Oe&536870912)!==0?t=!1:(xr=t=!0,(l===2||l===9||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),f_(i,t)):Ec(i)}function Ec(t){var i=t;do{if((i.flags&32768)!==0){f_(i,xr);return}t=i.return;var a=vA(i.alternate,i,Qi);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ht===0&&(ht=5)}function f_(t,i){do{var a=EA(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ht=6,Ne=null}function d_(t,i,a,l,h,d,_,S,O){t.cancelPendingCommit=null;do Tc();while(Ot!==0);if((qe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=cf,ef(t,a,d,_,S,O),t===et&&(Ne=et=null,Oe=0),Ua=i,Lr=t,Xi=a,_d=d,vd=h,n_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,MA(dr,function(){return __(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=se.p,se.p=2,_=qe,qe|=4;try{TA(t,i,a)}finally{qe=_,se.p=h,$.T=l}}Ot=1,m_(),p_(),g_()}}function m_(){if(Ot===1){Ot=0;var t=Lr,i=Ua,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=se.p;se.p=2;var h=qe;qe|=4;try{Qy(i,t);var d=Vd,_=eg(t.containerInfo),S=d.focusedElem,O=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&Wp(S.ownerDocument.documentElement,S)){if(O!==null&&sf(S)){var q=O.start,X=O.end;if(X===void 0&&(X=q),"selectionStart"in S)S.selectionStart=q,S.selectionEnd=Math.min(X,S.value.length);else{var W=S.ownerDocument||document,F=W&&W.defaultView||window;if(F.getSelection){var Y=F.getSelection(),ue=S.textContent.length,_e=Math.min(O.start,ue),We=O.end===void 0?_e:Math.min(O.end,ue);!Y.extend&&_e>We&&(_=We,We=_e,_e=_);var P=Zp(S,_e),x=Zp(S,We);if(P&&x&&(Y.rangeCount!==1||Y.anchorNode!==P.node||Y.anchorOffset!==P.offset||Y.focusNode!==x.node||Y.focusOffset!==x.offset)){var H=W.createRange();H.setStart(P.node,P.offset),Y.removeAllRanges(),_e>We?(Y.addRange(H),Y.extend(x.node,x.offset)):(H.setEnd(x.node,x.offset),Y.addRange(H))}}}}for(W=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&W.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<W.length;S++){var J=W[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}xc=!!xd,Vd=xd=null}finally{qe=h,se.p=l,$.T=a}}t.current=i,Ot=2}}function p_(){if(Ot===2){Ot=0;var t=Lr,i=Ua,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=se.p;se.p=2;var h=qe;qe|=4;try{qy(t,i.alternate,i)}finally{qe=h,se.p=l,$.T=a}}Ot=3}}function g_(){if(Ot===4||Ot===3){Ot=0,hu();var t=Lr,i=Ua,a=Xi,l=n_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ot=5:(Ot=0,Ua=Lr=null,y_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(kr=null),Mi(a),i=i.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Un,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,h=se.p,se.p=2,$.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{$.T=i,se.p=h}}(Xi&3)!==0&&Tc(),Ti(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Ed?ml++:(ml=0,Ed=t):ml=0,pl(0)}}function y_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Xo(i)))}function Tc(){return m_(),p_(),g_(),__()}function __(){if(Ot!==5)return!1;var t=Lr,i=_d;_d=0;var a=Mi(Xi),l=$.T,h=se.p;try{se.p=32>a?32:a,$.T=null,a=vd,vd=null;var d=Lr,_=Xi;if(Ot=0,Ua=Lr=null,Xi=0,(qe&6)!==0)throw Error(s(331));var S=qe;if(qe|=4,Wy(d.current),$y(d,d.current,_,a),qe=S,pl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Un,d)}catch{}return!0}finally{se.p=h,$.T=l,y_(t,i)}}function v_(t,i,a){i=Nn(a,i),i=Zf(t.stateNode,i,2),t=Nr(t,i,2),t!==null&&(ys(t,2),Ti(t))}function Xe(t,i,a){if(t.tag===3)v_(t,t,a);else for(;i!==null;){if(i.tag===3){v_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(kr===null||!kr.has(l))){t=Nn(a,t),a=Ey(2),l=Nr(i,a,2),l!==null&&(Ty(a,l,i,t),ys(l,2),Ti(l));break}}i=i.return}}function Ad(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new bA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(pd=!0,h.add(a),t=NA.bind(null,t,i,a),i.then(t,t))}function NA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Oe&a)===a&&(ht===4||ht===3&&(Oe&62914560)===Oe&&300>en()-pc?(qe&2)===0&&ja(t,0):gd|=a,Pa===Oe&&(Pa=0)),Ti(t)}function E_(t,i){i===0&&(i=yu()),t=Os(t,i),t!==null&&(ys(t,i),Ti(t))}function DA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),E_(t,a)}function OA(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),E_(t,a)}function MA(t,i){return Dt(t,i)}var Sc=null,Ba=null,bd=!1,Ac=!1,wd=!1,Ur=0;function Ti(t){t!==Ba&&t.next===null&&(Ba===null?Sc=Ba=t:Ba=Ba.next=t),Ac=!0,bd||(bd=!0,VA())}function pl(t,i){if(!wd&&Ac){wd=!0;do for(var a=!1,l=Sc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-ft(42|t)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,b_(l,d))}else d=Oe,d=ii(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||jn(l,d)||(a=!0,b_(l,d));l=l.next}while(a);wd=!1}}function xA(){T_()}function T_(){Ac=bd=!1;var t=0;Ur!==0&&FA()&&(t=Ur);for(var i=en(),a=null,l=Sc;l!==null;){var h=l.next,d=S_(l,i);d===0?(l.next=null,a===null?Sc=h:a.next=h,h===null&&(Ba=a)):(a=l,(t!==0||(d&3)!==0)&&(Ac=!0)),l=h}Ot!==0&&Ot!==5||pl(t),Ur!==0&&(Ur=0)}function S_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-ft(d),S=1<<_,O=h[_];O===-1?((S&a)===0||(S&l)!==0)&&(h[_]=Wh(S,i)):O<=i&&(t.expiredLanes|=S),d&=~S}if(i=et,a=Oe,a=ii(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&fr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||jn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&fr(l),Mi(a)){case 2:case 8:a=wo;break;case 32:a=dr;break;case 268435456:a=fu;break;default:a=dr}return l=A_.bind(null,t),a=Dt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&fr(l),t.callbackPriority=2,t.callbackNode=null,2}function A_(t,i){if(Ot!==0&&Ot!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Tc()&&t.callbackNode!==a)return null;var l=Oe;return l=ii(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(r_(t,l,i),S_(t,en()),t.callbackNode!=null&&t.callbackNode===a?A_.bind(null,t):null)}function b_(t,i){if(Tc())return null;r_(t,i,!0)}function VA(){YA(function(){(qe&6)!==0?Dt(bo,xA):T_()})}function Rd(){if(Ur===0){var t=Ra;t===0&&(t=ti,ti<<=1,(ti&261888)===0&&(ti=256)),Ur=t}return Ur}function w_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ha(""+t)}function R_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function kA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=w_((h[kt]||null).action),_=l.submitter;_&&(i=(i=_[kt]||null)?w_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new mi("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ur!==0){var O=_?R_(h,_):new FormData(h);Yf(a,{pending:!0,data:O,method:h.method,action:d},null,O)}}else typeof d=="function"&&(S.preventDefault(),O=_?R_(h,_):new FormData(h),Yf(a,{pending:!0,data:O,method:h.method,action:d},d,O))},currentTarget:h}]})}}for(var Cd=0;Cd<uf.length;Cd++){var Id=uf[Cd],LA=Id.toLowerCase(),PA=Id[0].toUpperCase()+Id.slice(1);Kn(LA,"on"+PA)}Kn(ig,"onAnimationEnd"),Kn(rg,"onAnimationIteration"),Kn(sg,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(WS,"onTransitionRun"),Kn(eA,"onTransitionStart"),Kn(tA,"onTransitionCancel"),Kn(ag,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function C_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],O=S.instance,q=S.currentTarget;if(S=S.listener,O!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=q;try{d(h)}catch(X){Uu(X)}h.currentTarget=null,d=O}else for(_=0;_<l.length;_++){if(S=l[_],O=S.instance,q=S.currentTarget,S=S.listener,O!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=q;try{d(h)}catch(X){Uu(X)}h.currentTarget=null,d=O}}}}function De(t,i){var a=i[aa];a===void 0&&(a=i[aa]=new Set);var l=t+"__bubble";a.has(l)||(I_(i,t,2,!1),a.add(l))}function Nd(t,i,a){var l=0;i&&(l|=4),I_(a,t,l,i)}var bc="_reactListening"+Math.random().toString(36).slice(2);function Dd(t){if(!t[bc]){t[bc]=!0,Io.forEach(function(a){a!=="selectionchange"&&(UA.has(a)||Nd(a,!1,t),Nd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[bc]||(i[bc]=!0,Nd("selectionchange",!1,i))}}function I_(t,i,a,l){switch(iv(i)){case 2:var h=fb;break;case 8:h=db;break;default:h=Gd}a=h.bind(null,i,a,t),h=void 0,!As||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Od(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=oi(S),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){l=d=_;continue e}S=S.parentNode}}l=l.return}vr(function(){var q=d,X=wn(a),W=[];e:{var F=og.get(t);if(F!==void 0){var Y=mi,ue=t;switch(t){case"keypress":if(ws(a)===0)break e;case"keydown":case"keyup":Y=ku;break;case"focusin":ue="focus",Y=Cs;break;case"focusout":ue="blur",Y=Cs;break;case"beforeblur":case"afterblur":Y=Cs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case ig:case rg:case sg:Y=Iu;break;case ag:Y=A;break;case"scroll":case"scrollend":Y=zo;break;case"wheel":Y=G;break;case"copy":case"cut":case"paste":Y=Nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=ki;break;case"toggle":case"beforetoggle":Y=we}var _e=(i&4)!==0,We=!_e&&(t==="scroll"||t==="scrollend"),P=_e?F!==null?F+"Capture":null:F;_e=[];for(var x=q,H;x!==null;){var J=x;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||P===null||(J=qn(x,P),J!=null&&_e.push(yl(x,J,H))),We)break;x=x.return}0<_e.length&&(F=new Y(F,ue,null,a,X),W.push({event:F,listeners:_e}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",F&&a!==Po&&(ue=a.relatedTarget||a.fromElement)&&(oi(ue)||ue[si]))break e;if((Y||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(ue=a.relatedTarget||a.toElement,Y=q,ue=ue?oi(ue):null,ue!==null&&(We=u(ue),_e=ue.tag,ue!==We||_e!==5&&_e!==27&&_e!==6)&&(ue=null)):(Y=null,ue=q),Y!==ue)){if(_e=Bo,J="onMouseLeave",P="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(_e=ki,J="onPointerLeave",P="onPointerEnter",x="pointer"),We=Y==null?F:dn(Y),H=ue==null?F:dn(ue),F=new _e(J,x+"leave",Y,a,X),F.target=We,F.relatedTarget=H,J=null,oi(X)===q&&(_e=new _e(P,x+"enter",ue,a,X),_e.target=H,_e.relatedTarget=We,J=_e),We=J,Y&&ue)t:{for(_e=jA,P=Y,x=ue,H=0,J=P;J;J=_e(J))H++;J=0;for(var fe=x;fe;fe=_e(fe))J++;for(;0<H-J;)P=_e(P),H--;for(;0<J-H;)x=_e(x),J--;for(;H--;){if(P===x||x!==null&&P===x.alternate){_e=P;break t}P=_e(P),x=_e(x)}_e=null}else _e=null;Y!==null&&N_(W,F,Y,_e,!1),ue!==null&&We!==null&&N_(W,We,ue,_e,!0)}}e:{if(F=q?dn(q):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var ze=Yp;else if(Fp(F))if(Kp)ze=$S;else{ze=QS;var ce=KS}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&ca(q.elementType)&&(ze=Yp):ze=XS;if(ze&&(ze=ze(t,q))){Gp(W,ze,a,X);break e}ce&&ce(t,F,q),t==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&Vo(F,"number",F.value)}switch(ce=q?dn(q):window,t){case"focusin":(Fp(ce)||ce.contentEditable==="true")&&(_a=ce,af=q,Yo=null);break;case"focusout":Yo=af=_a=null;break;case"mousedown":of=!0;break;case"contextmenu":case"mouseup":case"dragend":of=!1,tg(W,a,X);break;case"selectionchange":if(ZS)break;case"keydown":case"keyup":tg(W,a,X)}var Ie;if(He)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else ya?Is(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(yi&&a.locale!=="ko"&&(ya||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&ya&&(Ie=jo()):(di=X,Uo="value"in di?di.value:di.textContent,ya=!0)),ce=wc(q,Me),0<ce.length&&(Me=new gi(Me,t,null,a,X),W.push({event:Me,listeners:ce}),Ie?Me.data=Ie:(Ie=ga(a),Ie!==null&&(Me.data=Ie)))),(Ie=Cn?qS(t,a):FS(t,a))&&(Me=wc(q,"onBeforeInput"),0<Me.length&&(ce=new gi("onBeforeInput","beforeinput",null,a,X),W.push({event:ce,listeners:Me}),ce.data=Ie)),kA(W,t,q,a,X)}C_(W,i)})}function yl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function wc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=qn(t,a),h!=null&&l.unshift(yl(t,h,d)),h=qn(t,i),h!=null&&l.push(yl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function jA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function N_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,O=S.alternate,q=S.stateNode;if(S=S.tag,O!==null&&O===l)break;S!==5&&S!==26&&S!==27||q===null||(O=q,h?(q=qn(a,d),q!=null&&_.unshift(yl(a,q,O))):h||(q=qn(a,d),q!=null&&_.push(yl(a,q,O)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var zA=/\r\n?/g,BA=/\u0000|\uFFFD/g;function D_(t){return(typeof t=="string"?t:""+t).replace(zA,`
`).replace(BA,"")}function O_(t,i){return i=D_(i),D_(t)===i}function Ze(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||sn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&sn(t,""+l);break;case"className":mn(t,"class",l);break;case"tabIndex":mn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(t,a,l);break;case"style":Lo(t,l,d);break;case"data":if(i!=="object"){mn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ha(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ze(t,i,"name",h.name,h,null),Ze(t,i,"formEncType",h.formEncType,h,null),Ze(t,i,"formMethod",h.formMethod,h,null),Ze(t,i,"formTarget",h.formTarget,h,null)):(Ze(t,i,"encType",h.encType,h,null),Ze(t,i,"method",h.method,h,null),Ze(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ha(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Hn);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ha(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),la(t,"popover",l);break;case"xlinkActuate":Tt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Tt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Tt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Tt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Tt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Tt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":la(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wu.get(a)||a,la(t,a,l))}}function Md(t,i,a,l,h,d){switch(a){case"style":Lo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?sn(t,l):(typeof l=="number"||typeof l=="bigint")&&sn(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!No.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[kt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):la(t,a,l)}}}function Ft(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,d,_,a,null)}}h&&Ze(t,i,"srcSet",a.srcSet,a,null),l&&Ze(t,i,"src",a.src,a,null);return;case"input":De("invalid",t);var S=d=_=h=null,O=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":O=X;break;case"defaultChecked":q=X;break;case"value":d=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:Ze(t,i,l,X,a,null)}}Su(t,d,S,O,q,_,h,!1);return;case"select":De("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Ze(t,i,h,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?pr(t,!!l,i,!1):a!=null&&pr(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Ze(t,i,_,S,a,null)}gr(t,l,h,d);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,i,O,l,a,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<gl.length;l++)De(gl[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,q,l,a,null)}return;default:if(ca(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Md(t,i,X,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Ze(t,i,S,l,a,null))}function HA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,O=null,q=null,X=null;for(Y in a){var W=a[Y];if(a.hasOwnProperty(Y)&&W!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":O=W;default:l.hasOwnProperty(Y)||Ze(t,i,Y,null,l,W)}}for(var F in l){var Y=l[F];if(W=a[F],l.hasOwnProperty(F)&&(Y!=null||W!=null))switch(F){case"type":d=Y;break;case"name":h=Y;break;case"checked":q=Y;break;case"defaultChecked":X=Y;break;case"value":_=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==W&&Ze(t,i,F,Y,l,W)}}ua(t,_,S,O,q,X,d,h);return;case"select":Y=_=S=F=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":Y=O;default:l.hasOwnProperty(d)||Ze(t,i,d,null,l,O)}for(h in l)if(d=l[h],O=a[h],l.hasOwnProperty(h)&&(d!=null||O!=null))switch(h){case"value":F=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==O&&Ze(t,i,h,d,l,O)}i=S,a=_,l=Y,F!=null?pr(t,!!a,F,!1):!!l!=!!a&&(i!=null?pr(t,!!a,i,!0):pr(t,!!a,a?[]:"",!1));return;case"textarea":Y=F=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ze(t,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ze(t,i,_,h,l,d)}Au(t,F,Y);return;case"option":for(var ue in a)if(F=a[ue],a.hasOwnProperty(ue)&&F!=null&&!l.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:Ze(t,i,ue,null,l,F)}for(O in l)if(F=l[O],Y=a[O],l.hasOwnProperty(O)&&F!==Y&&(F!=null||Y!=null))switch(O){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Ze(t,i,O,F,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)F=a[_e],a.hasOwnProperty(_e)&&F!=null&&!l.hasOwnProperty(_e)&&Ze(t,i,_e,null,l,F);for(q in l)if(F=l[q],Y=a[q],l.hasOwnProperty(q)&&F!==Y&&(F!=null||Y!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Ze(t,i,q,F,l,Y)}return;default:if(ca(i)){for(var We in a)F=a[We],a.hasOwnProperty(We)&&F!==void 0&&!l.hasOwnProperty(We)&&Md(t,i,We,void 0,l,F);for(X in l)F=l[X],Y=a[X],!l.hasOwnProperty(X)||F===Y||F===void 0&&Y===void 0||Md(t,i,X,F,l,Y);return}}for(var P in a)F=a[P],a.hasOwnProperty(P)&&F!=null&&!l.hasOwnProperty(P)&&Ze(t,i,P,null,l,F);for(W in l)F=l[W],Y=a[W],!l.hasOwnProperty(W)||F===Y||F==null&&Y==null||Ze(t,i,W,F,l,Y)}function M_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&M_(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var O=a[l],q=O.startTime;if(q>S)break;var X=O.transferSize,W=O.initiatorType;X&&M_(W)&&(O=O.responseEnd,_+=X*(O<S?1:(S-q)/(O-q)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var xd=null,Vd=null;function Rc(t){return t.nodeType===9?t:t.ownerDocument}function x_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function kd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ld=null;function FA(){var t=window.event;return t&&t.type==="popstate"?t===Ld?!1:(Ld=t,!0):(Ld=null,!1)}var k_=typeof setTimeout=="function"?setTimeout:void 0,GA=typeof clearTimeout=="function"?clearTimeout:void 0,L_=typeof Promise=="function"?Promise:void 0,YA=typeof queueMicrotask=="function"?queueMicrotask:typeof L_<"u"?function(t){return L_.resolve(null).then(t).catch(KA)}:k_;function KA(t){setTimeout(function(){throw t})}function jr(t){return t==="head"}function P_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Ga(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")_l(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,_l(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[ai]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&_l(t.ownerDocument.body);a=h}while(a);Ga(i)}function U_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Pd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Pd(a),oa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function QA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ai])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Vn(t.nextSibling),t===null)break}return null}function XA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Vn(t.nextSibling),t===null))return null;return t}function j_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Vn(t.nextSibling),t===null))return null;return t}function Ud(t){return t.data==="$?"||t.data==="$~"}function jd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function $A(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Vn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var zd=null;function z_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Vn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function B_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function H_(t,i,a){switch(i=Rc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function _l(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);oa(t)}var kn=new Map,q_=new Set;function Cc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var $i=se.d;se.d={f:JA,r:ZA,D:WA,C:eb,L:tb,m:nb,X:rb,S:ib,M:sb};function JA(){var t=$i.f(),i=_c();return t||i}function ZA(t){var i=bn(t);i!==null&&i.tag===5&&i.type==="form"?ay(i):$i.r(t)}var Ha=typeof document>"u"?null:document;function F_(t,i,a){var l=Ha;if(l&&typeof i=="string"&&i){var h=rn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),q_.has(h)||(q_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ft(i,"link",t),Et(i),l.head.appendChild(i)))}}function WA(t){$i.D(t),F_("dns-prefetch",t,null)}function eb(t,i){$i.C(t,i),F_("preconnect",t,i)}function tb(t,i,a){$i.L(t,i,a);var l=Ha;if(l&&t&&i){var h='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var d=h;switch(i){case"style":d=qa(t);break;case"script":d=Fa(t)}kn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),kn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(vl(d))||i==="script"&&l.querySelector(El(d))||(i=l.createElement("link"),Ft(i,"link",t),Et(i),l.head.appendChild(i)))}}function nb(t,i){$i.m(t,i);var a=Ha;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Fa(t)}if(!kn.has(d)&&(t=T({rel:"modulepreload",href:t},i),kn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(El(d)))return}l=a.createElement("link"),Ft(l,"link",t),Et(l),a.head.appendChild(l)}}}function ib(t,i,a){$i.S(t,i,a);var l=Ha;if(l&&t){var h=li(l).hoistableStyles,d=qa(t);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(vl(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=kn.get(d))&&Bd(t,a);var O=_=l.createElement("link");Et(O),Ft(O,"link",t),O._p=new Promise(function(q,X){O.onload=q,O.onerror=X}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ic(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function rb(t,i){$i.X(t,i);var a=Ha;if(a&&t){var l=li(a).hoistableScripts,h=Fa(t),d=l.get(h);d||(d=a.querySelector(El(h)),d||(t=T({src:t,async:!0},i),(i=kn.get(h))&&Hd(t,i),d=a.createElement("script"),Et(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function sb(t,i){$i.M(t,i);var a=Ha;if(a&&t){var l=li(a).hoistableScripts,h=Fa(t),d=l.get(h);d||(d=a.querySelector(El(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=kn.get(h))&&Hd(t,i),d=a.createElement("script"),Et(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function G_(t,i,a,l){var h=(h=Ce.current)?Cc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=qa(a.href),a=li(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=qa(a.href);var d=li(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(vl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),kn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(t,a),d||ab(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Fa(a),a=li(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function qa(t){return'href="'+rn(t)+'"'}function vl(t){return'link[rel="stylesheet"]['+t+"]"}function Y_(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function ab(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ft(i,"link",a),Et(i),t.head.appendChild(i))}function Fa(t){return'[src="'+rn(t)+'"]'}function El(t){return"script[async]"+t}function K_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+rn(a.href)+'"]');if(l)return i.instance=l,Et(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Et(l),Ft(l,"style",h),Ic(l,a.precedence,t),i.instance=l;case"stylesheet":h=qa(a.href);var d=t.querySelector(vl(h));if(d)return i.state.loading|=4,i.instance=d,Et(d),d;l=Y_(a),(h=kn.get(h))&&Bd(l,h),d=(t.ownerDocument||t).createElement("link"),Et(d);var _=d;return _._p=new Promise(function(S,O){_.onload=S,_.onerror=O}),Ft(d,"link",l),i.state.loading|=4,Ic(d,a.precedence,t),i.instance=d;case"script":return d=Fa(a.src),(h=t.querySelector(El(d)))?(i.instance=h,Et(h),h):(l=a,(h=kn.get(d))&&(l=T({},a),Hd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Et(h),Ft(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Ic(l,a.precedence,t));return i.instance}function Ic(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Bd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Hd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Nc=null;function Q_(t,i,a){if(Nc===null){var l=new Map,h=Nc=new Map;h.set(a,l)}else h=Nc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ai]||d[vt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function X_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function ob(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function $_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function lb(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=qa(l.href),d=i.querySelector(vl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Dc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Et(d);return}d=i.ownerDocument||i,l=Y_(l),(h=kn.get(h))&&Bd(l,h),d=d.createElement("link"),Et(d);var _=d;_._p=new Promise(function(S,O){_.onload=S,_.onerror=O}),Ft(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Dc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var qd=0;function ub(t,i){return t.stylesheets&&t.count===0&&Mc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Mc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&qd===0&&(qd=62500*qA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Mc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>qd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Dc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Oc=null;function Mc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Oc=new Map,i.forEach(cb,t),Oc=null,Dc.call(t))}function cb(t,i){if(!(i.state.loading&4)){var a=Oc.get(t);if(a)var l=a.get(null);else{a=new Map,Oc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Dc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Tl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function hb(t,i,a,l,h,d,_,S,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function J_(t,i,a,l,h,d,_,S,O,q,X,W){return t=new hb(t,i,a,_,O,q,X,W,S),i=1,d===!0&&(i|=24),d=gn(3,null,null,i),t.current=d,d.stateNode=t,i=Sf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Rf(d),t}function Z_(t){return t?(t=Ta,t):Ta}function W_(t,i,a,l,h,d){h=Z_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ir(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Nr(t,l,i),a!==null&&(cn(a,t,i),Wo(a,t,i))}function ev(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Fd(t,i){ev(t,i),(t=t.alternate)&&ev(t,i)}function tv(t){if(t.tag===13||t.tag===31){var i=Os(t,67108864);i!==null&&cn(i,t,67108864),Fd(t,67108864)}}function nv(t){if(t.tag===13||t.tag===31){var i=Tn();i=vs(i);var a=Os(t,i);a!==null&&cn(a,t,i),Fd(t,i)}}var xc=!0;function fb(t,i,a,l){var h=$.T;$.T=null;var d=se.p;try{se.p=2,Gd(t,i,a,l)}finally{se.p=d,$.T=h}}function db(t,i,a,l){var h=$.T;$.T=null;var d=se.p;try{se.p=8,Gd(t,i,a,l)}finally{se.p=d,$.T=h}}function Gd(t,i,a,l){if(xc){var h=Yd(l);if(h===null)Od(t,i,l,Vc,a),rv(t,l);else if(pb(h,t,i,a,l))l.stopPropagation();else if(rv(t,l),i&4&&-1<mb.indexOf(t)){for(;h!==null;){var d=bn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ni(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var O=1<<31-ft(_);S.entanglements[1]|=O,_&=~O}Ti(d),(qe&6)===0&&(gc=en()+500,pl(0))}}break;case 31:case 13:S=Os(d,2),S!==null&&cn(S,d,2),_c(),Fd(d,2)}if(d=Yd(l),d===null&&Od(t,i,l,Vc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Od(t,i,l,null,a)}}function Yd(t){return t=wn(t),Kd(t)}var Vc=null;function Kd(t){if(Vc=null,t=oi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Vc=t,null}function iv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ps()){case bo:return 2;case wo:return 8;case dr:case Zh:return 32;case fu:return 268435456;default:return 32}default:return 32}}var Qd=!1,zr=null,Br=null,Hr=null,Sl=new Map,Al=new Map,qr=[],mb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rv(t,i){switch(t){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":Sl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(i.pointerId)}}function bl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=bn(i),i!==null&&tv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function pb(t,i,a,l,h){switch(i){case"focusin":return zr=bl(zr,t,i,a,l,h),!0;case"dragenter":return Br=bl(Br,t,i,a,l,h),!0;case"mouseover":return Hr=bl(Hr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Sl.set(d,bl(Sl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Al.set(d,bl(Al.get(d)||null,t,i,a,l,h)),!0}return!1}function sv(t){var i=oi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,zn(t.priority,function(){nv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,zn(t.priority,function(){nv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Yd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Po=l,a.target.dispatchEvent(l),Po=null}else return i=bn(a),i!==null&&tv(i),t.blockedOn=a,!1;i.shift()}return!0}function av(t,i,a){kc(t)&&a.delete(i)}function gb(){Qd=!1,zr!==null&&kc(zr)&&(zr=null),Br!==null&&kc(Br)&&(Br=null),Hr!==null&&kc(Hr)&&(Hr=null),Sl.forEach(av),Al.forEach(av)}function Lc(t,i){t.blockedOn===i&&(t.blockedOn=null,Qd||(Qd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,gb)))}var Pc=null;function ov(t){Pc!==t&&(Pc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Pc===t&&(Pc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Kd(l||a)===null)continue;break}var d=bn(a);d!==null&&(t.splice(i,3),i-=3,Yf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ga(t){function i(O){return Lc(O,t)}zr!==null&&Lc(zr,t),Br!==null&&Lc(Br,t),Hr!==null&&Lc(Hr,t),Sl.forEach(i),Al.forEach(i);for(var a=0;a<qr.length;a++){var l=qr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<qr.length&&(a=qr[0],a.blockedOn===null);)sv(a),a.blockedOn===null&&qr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[kt]||null;if(typeof d=="function")_||ov(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[kt]||null)S=_.formAction;else if(Kd(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),ov(a)}}}function lv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Xd(t){this._internalRoot=t}Uc.prototype.render=Xd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Tn();W_(a,l,t,i,null,null)},Uc.prototype.unmount=Xd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;W_(t.current,2,null,t,null,null),_c(),i[si]=null}};function Uc(t){this._internalRoot=t}Uc.prototype.unstable_scheduleHydration=function(t){if(t){var i=_u();t={blockedOn:null,target:t,priority:i};for(var a=0;a<qr.length&&i!==0&&i<qr[a].priority;a++);qr.splice(a,0,t),a===0&&sv(t)}};var uv=e.version;if(uv!=="19.2.1")throw Error(s(527,uv,"19.2.1"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var yb={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{Un=jc.inject(yb),jt=jc}catch{}}return Rl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=gy,d=yy,_=_y;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=J_(t,1,!1,null,null,a,l,null,h,d,_,lv),t[si]=i.current,Dd(t),new Xd(i)},Rl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=gy,_=yy,S=_y,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),i=J_(t,1,!0,i,a??null,l,h,O,d,_,S,lv),i.context=Z_(null),a=i.current,l=Tn(),l=vs(l),h=Ir(l),h.callback=null,Nr(a,h,l),a=l,i.current.lanes=a,ys(i,a),Ti(i),t[si]=i.current,Dd(t),new Uc(i)},Rl.version="19.2.1",Rl}var vv;function Ib(){if(vv)return Zd.exports;vv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Zd.exports=Cb(),Zd.exports}var Nb=Ib();const Db=WE(Nb);var Ev="popstate";function Ob(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return _m("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Bl(o)}return xb(e,n,null,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Jn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Mb(){return Math.random().toString(36).substring(2,10)}function Tv(r,e){return{usr:r.state,key:r.key,idx:e}}function _m(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?co(e):e,state:n,key:e&&e.key||s||Mb()}}function Bl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function co(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function xb(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let j=E(),Z=j==null?null:j-g;g=j,p&&p({action:m,location:Q.location,delta:Z})}function b(j,Z){m="PUSH";let K=_m(Q.location,j,Z);g=E()+1;let ie=Tv(K,g),de=Q.createHref(K);try{f.pushState(ie,"",de)}catch(ge){if(ge instanceof DOMException&&ge.name==="DataCloneError")throw ge;o.location.assign(de)}u&&p&&p({action:m,location:Q.location,delta:1})}function L(j,Z){m="REPLACE";let K=_m(Q.location,j,Z);g=E();let ie=Tv(K,g),de=Q.createHref(K);f.replaceState(ie,"",de),u&&p&&p({action:m,location:Q.location,delta:0})}function B(j){return Vb(j)}let Q={get action(){return m},get location(){return r(o,f)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Ev,T),p=j,()=>{o.removeEventListener(Ev,T),p=null}},createHref(j){return e(o,j)},createURL:B,encodeLocation(j){let Z=B(j);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:b,replace:L,go(j){return f.go(j)}};return Q}function Vb(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Bl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function eT(r,e,n="/"){return kb(r,e,n,!1)}function kb(r,e,n,s){let o=typeof e=="string"?co(e):e,u=nr(o.pathname||"/",n);if(u==null)return null;let f=tT(r);Lb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=Kb(u);m=Gb(f[p],g,s)}return m}function tT(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;lt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=er([s,E.relativePath]),b=n.concat(E);f.children&&f.children.length>0&&(lt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),tT(f.children,e,b,T,p)),!(f.path==null&&!f.index)&&e.push({path:T,score:qb(T,f.index),routesMeta:b})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of nT(f.path))u(f,m,!0,p)}),e}function nT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=nT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function Lb(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Fb(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Pb=/^:[\w-]+$/,Ub=3,jb=2,zb=1,Bb=10,Hb=-2,Sv=r=>r==="*";function qb(r,e){let n=r.split("/"),s=n.length;return n.some(Sv)&&(s+=Hb),e&&(s+=jb),n.filter(o=>!Sv(o)).reduce((o,u)=>o+(Pb.test(u)?Ub:u===""?zb:Bb),s)}function Fb(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Gb(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=oh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),b=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=oh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:er([u,T.pathname]),pathnameBase:Zb(er([u,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(u=er([u,T.pathnameBase]))}return f}function oh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Yb(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},b)=>{if(E==="*"){let B=m[b]||"";f=u.slice(0,u.length-B.length).replace(/(.)\/+$/,"$1")}const L=m[b];return T&&!L?g[E]=void 0:g[E]=(L||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function Yb(r,e=!1,n=!0){Jn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Kb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function nr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var Qb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xb=r=>Qb.test(r);function $b(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?co(r):r,u;if(n)if(Xb(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),Jn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=Av(n.substring(1),"/"):u=Av(n,e)}else u=e;return{pathname:u,search:Wb(s),hash:ew(o)}}function Av(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function nm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Jb(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iT(r){let e=Jb(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function rT(r,e,n,s=!1){let o;typeof r=="string"?o=co(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),nm("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),nm("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),nm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),T-=1;o.pathname=b.join("/")}m=T>=0?e[T]:"/"}let p=$b(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var er=r=>r.join("/").replace(/\/\/+/g,"/"),Zb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Wb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,ew=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function tw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function nw(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sT=["POST","PUT","PATCH","DELETE"];new Set(sT);var iw=["GET",...sT];new Set(iw);var ho=U.createContext(null);ho.displayName="DataRouter";var Nh=U.createContext(null);Nh.displayName="DataRouterState";U.createContext(!1);var aT=U.createContext({isTransitioning:!1});aT.displayName="ViewTransition";var rw=U.createContext(new Map);rw.displayName="Fetchers";var sw=U.createContext(null);sw.displayName="Await";var Wn=U.createContext(null);Wn.displayName="Navigation";var $l=U.createContext(null);$l.displayName="Location";var lr=U.createContext({outlet:null,matches:[],isDataRoute:!1});lr.displayName="Route";var Ym=U.createContext(null);Ym.displayName="RouteError";function aw(r,{relative:e}={}){lt(Jl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(Wn),{hash:o,pathname:u,search:f}=Zl(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:er([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Jl(){return U.useContext($l)!=null}function us(){return lt(Jl(),"useLocation() may be used only in the context of a <Router> component."),U.useContext($l).location}var oT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lT(r){U.useContext(Wn).static||U.useLayoutEffect(r)}function ow(){let{isDataRoute:r}=U.useContext(lr);return r?Ew():lw()}function lw(){lt(Jl(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(ho),{basename:e,navigator:n}=U.useContext(Wn),{matches:s}=U.useContext(lr),{pathname:o}=us(),u=JSON.stringify(iT(s)),f=U.useRef(!1);return lT(()=>{f.current=!0}),U.useCallback((p,g={})=>{if(Jn(f.current,oT),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=rT(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:er([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}U.createContext(null);function Zl(r,{relative:e}={}){let{matches:n}=U.useContext(lr),{pathname:s}=us(),o=JSON.stringify(iT(n));return U.useMemo(()=>rT(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function uw(r,e){return uT(r,e)}function uT(r,e,n,s,o){lt(Jl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=U.useContext(Wn),{matches:f}=U.useContext(lr),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let K=T&&T.path||"";cT(g,!T||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let b=us(),L;if(e){let K=typeof e=="string"?co(e):e;lt(E==="/"||K.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${K.pathname}" was given in the \`location\` prop.`),L=K}else L=b;let B=L.pathname||"/",Q=B;if(E!=="/"){let K=E.replace(/^\//,"").split("/");Q="/"+B.replace(/^\//,"").split("/").slice(K.length).join("/")}let j=eT(r,{pathname:Q});Jn(T||j!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),Jn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=mw(j&&j.map(K=>Object.assign({},K,{params:Object.assign({},p,K.params),pathname:er([E,u.encodeLocation?u.encodeLocation(K.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?E:er([E,u.encodeLocation?u.encodeLocation(K.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathnameBase])})),f,n,s,o);return e&&Z?U.createElement($l.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},Z):Z}function cw(){let r=vw(),e=tw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:o},n):null,f)}var hw=U.createElement(cw,null),fw=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?U.createElement(lr.Provider,{value:this.props.routeContext},U.createElement(Ym.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dw({routeContext:r,match:e,children:n}){let s=U.useContext(ho);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(lr.Provider,{value:r},n)}function mw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);lt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:b,errors:L}=n,B=T.route.loader&&!b.hasOwnProperty(T.route.id)&&(!L||L[T.route.id]===void 0);if(T.route.lazy||B){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:nw(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,b)=>{let L,B=!1,Q=null,j=null;n&&(L=f&&T.route.id?f[T.route.id]:void 0,Q=T.route.errorElement||hw,m&&(p<0&&b===0?(cT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),B=!0,j=null):p===b&&(B=!0,j=T.route.hydrateFallbackElement||null)));let Z=e.concat(u.slice(0,b+1)),K=()=>{let ie;return L?ie=Q:B?ie=j:T.route.Component?ie=U.createElement(T.route.Component,null):T.route.element?ie=T.route.element:ie=E,U.createElement(dw,{match:T,routeContext:{outlet:E,matches:Z,isDataRoute:n!=null},children:ie})};return n&&(T.route.ErrorBoundary||T.route.errorElement||b===0)?U.createElement(fw,{location:n.location,revalidation:n.revalidation,component:Q,error:L,children:K(),routeContext:{outlet:null,matches:Z,isDataRoute:!0},onError:g}):K()},null)}function Km(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pw(r){let e=U.useContext(ho);return lt(e,Km(r)),e}function gw(r){let e=U.useContext(Nh);return lt(e,Km(r)),e}function yw(r){let e=U.useContext(lr);return lt(e,Km(r)),e}function Qm(r){let e=yw(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function _w(){return Qm("useRouteId")}function vw(){let r=U.useContext(Ym),e=gw("useRouteError"),n=Qm("useRouteError");return r!==void 0?r:e.errors?.[n]}function Ew(){let{router:r}=pw("useNavigate"),e=Qm("useNavigate"),n=U.useRef(!1);return lT(()=>{n.current=!0}),U.useCallback(async(o,u={})=>{Jn(n.current,oT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var bv={};function cT(r,e,n){!e&&!bv[r]&&(bv[r]=!0,Jn(!1,n))}U.memo(Tw);function Tw({routes:r,future:e,state:n,unstable_onError:s}){return uT(r,void 0,n,s,e)}function Qc(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Sw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){lt(!Jl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=U.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=co(n));let{pathname:g="/",search:E="",hash:T="",state:b=null,key:L="default"}=n,B=U.useMemo(()=>{let Q=nr(g,m);return Q==null?null:{location:{pathname:Q,search:E,hash:T,state:b,key:L},navigationType:s}},[m,g,E,T,b,L,s]);return Jn(B!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),B==null?null:U.createElement(Wn.Provider,{value:p},U.createElement($l.Provider,{children:e,value:B}))}function Aw({children:r,location:e}){return uw(vm(r),e)}function vm(r,e=[]){let n=[];return U.Children.forEach(r,(s,o)=>{if(!U.isValidElement(s))return;let u=[...e,o];if(s.type===U.Fragment){n.push.apply(n,vm(s.props.children,u));return}lt(s.type===Qc,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=vm(s.props.children,u)),n.push(f)}),n}var Xc="get",$c="application/x-www-form-urlencoded";function Dh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function bw(r){return Dh(r)&&r.tagName.toLowerCase()==="button"}function ww(r){return Dh(r)&&r.tagName.toLowerCase()==="form"}function Rw(r){return Dh(r)&&r.tagName.toLowerCase()==="input"}function Cw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Iw(r,e){return r.button===0&&(!e||e==="_self")&&!Cw(r)}var zc=null;function Nw(){if(zc===null)try{new FormData(document.createElement("form"),0),zc=!1}catch{zc=!0}return zc}var Dw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function im(r){return r!=null&&!Dw.has(r)?(Jn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$c}"`),null):r}function Ow(r,e){let n,s,o,u,f;if(ww(r)){let m=r.getAttribute("action");s=m?nr(m,e):null,n=r.getAttribute("method")||Xc,o=im(r.getAttribute("enctype"))||$c,u=new FormData(r)}else if(bw(r)||Rw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?nr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Xc,o=im(r.getAttribute("formenctype"))||im(m.getAttribute("enctype"))||$c,u=new FormData(m,r),!Nw()){let{name:g,type:E,value:T}=r;if(E==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,T)}}else{if(Dh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xc,s=null,o=$c,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Xm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Mw(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&nr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function xw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Vw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function kw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await xw(u,n);return f.links?f.links():[]}return[]}));return jw(s.flat(1).filter(Vw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function wv(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Lw(r,e,{includeHydrateFallback:n}={}){return Pw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Pw(r){return[...new Set(r)]}function Uw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function jw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Uw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function hT(){let r=U.useContext(ho);return Xm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function zw(){let r=U.useContext(Nh);return Xm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var $m=U.createContext(void 0);$m.displayName="FrameworkContext";function fT(){let r=U.useContext($m);return Xm(r,"You must render this element inside a <HydratedRouter> element"),r}function Bw(r,e){let n=U.useContext($m),[s,o]=U.useState(!1),[u,f]=U.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,b=U.useRef(null);U.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Q=Z=>{Z.forEach(K=>{f(K.isIntersecting)})},j=new IntersectionObserver(Q,{threshold:.5});return b.current&&j.observe(b.current),()=>{j.disconnect()}}},[r]),U.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let L=()=>{o(!0)},B=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Cl(m,L),onBlur:Cl(p,B),onMouseEnter:Cl(g,L),onMouseLeave:Cl(E,B),onTouchStart:Cl(T,L)}]:[!1,b,{}]}function Cl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Hw({page:r,...e}){let{router:n}=hT(),s=U.useMemo(()=>eT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?U.createElement(Fw,{page:r,matches:s,...e}):null}function qw(r){let{manifest:e,routeModules:n}=fT(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return kw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function Fw({page:r,matches:e,...n}){let s=us(),{manifest:o,routeModules:u}=fT(),{basename:f}=hT(),{loaderData:m,matches:p}=zw(),g=U.useMemo(()=>wv(r,e,p,o,s,"data"),[r,e,p,o,s]),E=U.useMemo(()=>wv(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=U.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let B=new Set,Q=!1;if(e.forEach(Z=>{let K=o.routes[Z.route.id];!K||!K.hasLoader||(!g.some(ie=>ie.route.id===Z.route.id)&&Z.route.id in m&&u[Z.route.id]?.shouldRevalidate||K.hasClientLoader?Q=!0:B.add(Z.route.id))}),B.size===0)return[];let j=Mw(r,f,"data");return Q&&B.size>0&&j.searchParams.set("_routes",e.filter(Z=>B.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[j.pathname+j.search]},[f,m,s,o,g,e,r,u]),b=U.useMemo(()=>Lw(E,o),[E,o]),L=qw(E);return U.createElement(U.Fragment,null,T.map(B=>U.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...n})),b.map(B=>U.createElement("link",{key:B,rel:"modulepreload",href:B,...n})),L.map(({key:B,link:Q})=>U.createElement("link",{key:B,nonce:n.nonce,...Q})))}function Gw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var dT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dT&&(window.__reactRouterVersion="7.10.1")}catch{}function Yw({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=U.useRef();o.current==null&&(o.current=Ob({window:s,v5Compat:!0}));let u=o.current,[f,m]=U.useState({action:u.action,location:u.location}),p=U.useCallback(g=>{n===!1?m(g):U.startTransition(()=>m(g))},[n]);return U.useLayoutEffect(()=>u.listen(p),[u,p]),U.createElement(Sw,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n===!0})}var mT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$r=U.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,...b},L){let{basename:B,unstable_useTransitions:Q}=U.useContext(Wn),j=typeof g=="string"&&mT.test(g),Z,K=!1;if(typeof g=="string"&&j&&(Z=g,dT))try{let M=new URL(window.location.href),C=g.startsWith("//")?new URL(M.protocol+g):new URL(g),k=nr(C.pathname,B);C.origin===M.origin&&k!=null?g=k+C.search+C.hash:K=!0}catch{Jn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=aw(g,{relative:o}),[de,ge,me]=Bw(s,b),N=$w(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_useTransitions:Q});function w(M){e&&e(M),M.defaultPrevented||N(M)}let I=U.createElement("a",{...b,...me,href:Z||ie,onClick:K||u?e:w,ref:Gw(L,ge),target:p,"data-discover":!j&&n==="render"?"true":void 0});return de&&!j?U.createElement(U.Fragment,null,I,U.createElement(Hw,{page:ie})):I});$r.displayName="Link";var Kw=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let T=Zl(f,{relative:g.relative}),b=us(),L=U.useContext(Nh),{navigator:B,basename:Q}=U.useContext(Wn),j=L!=null&&t1(T)&&m===!0,Z=B.encodeLocation?B.encodeLocation(T).pathname:T.pathname,K=b.pathname,ie=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(K=K.toLowerCase(),ie=ie?ie.toLowerCase():null,Z=Z.toLowerCase()),ie&&Q&&(ie=nr(ie,Q)||ie);const de=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let ge=K===Z||!o&&K.startsWith(Z)&&K.charAt(de)==="/",me=ie!=null&&(ie===Z||!o&&ie.startsWith(Z)&&ie.charAt(Z.length)==="/"),N={isActive:ge,isPending:me,isTransitioning:j},w=ge?e:void 0,I;typeof s=="function"?I=s(N):I=[s,ge?"active":null,me?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(N):u;return U.createElement($r,{...g,"aria-current":w,className:I,ref:E,style:M,to:f,viewTransition:m},typeof p=="function"?p(N):p)});Kw.displayName="NavLink";var Qw=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Xc,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...b},L)=>{let{unstable_useTransitions:B}=U.useContext(Wn),Q=Ww(),j=e1(m,{relative:g}),Z=f.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&mT.test(m),ie=de=>{if(p&&p(de),de.defaultPrevented)return;de.preventDefault();let ge=de.nativeEvent.submitter,me=ge?.getAttribute("formmethod")||f,N=()=>Q(ge||de.currentTarget,{fetcherKey:e,method:me,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T});B&&n!==!1?U.startTransition(()=>N()):N()};return U.createElement("form",{ref:L,method:Z,action:j,onSubmit:s?p:ie,...b,"data-discover":!K&&r==="render"?"true":void 0})});Qw.displayName="Form";function Xw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pT(r){let e=U.useContext(ho);return lt(e,Xw(r)),e}function $w(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_useTransitions:m}={}){let p=ow(),g=us(),E=Zl(r,{relative:u});return U.useCallback(T=>{if(Iw(T,e)){T.preventDefault();let b=n!==void 0?n:Bl(g)===Bl(E),L=()=>p(r,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:f});m?U.startTransition(()=>L()):L()}},[g,p,E,n,s,e,r,o,u,f,m])}var Jw=0,Zw=()=>`__${String(++Jw)}__`;function Ww(){let{router:r}=pT("useSubmit"),{basename:e}=U.useContext(Wn),n=_w(),s=r.fetch,o=r.navigate;return U.useCallback(async(u,f={})=>{let{action:m,method:p,encType:g,formData:E,body:T}=Ow(u,e);if(f.navigate===!1){let b=f.fetcherKey||Zw();await s(b,n,f.action||m,{preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function e1(r,{relative:e}={}){let{basename:n}=U.useContext(Wn),s=U.useContext(lr);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Zl(r||".",{relative:e})},f=us();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:er([n,u.pathname])),Bl(u)}function t1(r,{relative:e}={}){let n=U.useContext(aT);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=pT("useViewTransitionState"),o=Zl(r,{relative:e});if(!n.isTransitioning)return!1;let u=nr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=nr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return oh(o.pathname,f)!=null||oh(o.pathname,u)!=null}const n1=()=>{};var Rv={};const gT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},i1=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},yT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,L=g&63;p||(L=64,f||(b=64)),s.push(n[E],n[T],n[b],n[L])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(gT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):i1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new r1;const b=u<<2|m>>4;if(s.push(b),g!==64){const L=m<<4&240|g>>2;if(s.push(L),T!==64){const B=g<<6&192|T;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class r1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s1=function(r){const e=gT(r);return yT.encodeByteArray(e,!0)},lh=function(r){return s1(r).replace(/\./g,"")},_T=function(r){try{return yT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function a1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const o1=()=>a1().__FIREBASE_DEFAULTS__,l1=()=>{if(typeof process>"u"||typeof Rv>"u")return;const r=Rv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},u1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&_T(r[1]);return e&&JSON.parse(e)},Oh=()=>{try{return n1()||o1()||l1()||u1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},vT=r=>Oh()?.emulatorHosts?.[r],c1=r=>{const e=vT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},ET=()=>Oh()?.config,TT=r=>Oh()?.[`_${r}`];class h1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function fo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ST(r){return(await fetch(r,{credentials:"include"})).ok}function f1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[lh(JSON.stringify(n)),lh(JSON.stringify(f)),""].join(".")}const Vl={};function d1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Vl))Vl[e]?r.emulator.push(e):r.prod.push(e);return r}function m1(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Cv=!1;function AT(r,e){if(typeof window>"u"||typeof document>"u"||!fo(window.location.host)||Vl[r]===e||Vl[r]||Cv)return;Vl[r]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=d1().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,L){b.setAttribute("width","24"),b.setAttribute("id",L),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Cv=!0,f()},b}function E(b,L){b.setAttribute("id",L),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=m1(s),L=n("text"),B=document.getElementById(L)||document.createElement("span"),Q=n("learnmore"),j=document.getElementById(Q)||document.createElement("a"),Z=n("preprendIcon"),K=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const ie=b.element;m(ie),E(j,Q);const de=g();p(K,Z),ie.append(K,B,j,de),document.body.appendChild(ie)}u?(B.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function p1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function g1(){const r=Oh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function y1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function v1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function E1(){const r=Zt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function T1(){return!g1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S1(){try{return typeof indexedDB=="object"}catch{return!1}}function A1(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const b1="FirebaseError";class ur extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=b1,Object.setPrototypeOf(this,ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wl.prototype.create)}}class Wl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?w1(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ur(o,m,s)}}function w1(r,e){return r.replace(R1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const R1=/\{\$([^}]+)}/g;function C1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ir(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Iv(u)&&Iv(f)){if(!ir(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Iv(r){return r!==null&&typeof r=="object"}function eu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Il(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Nl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function I1(r,e){const n=new N1(r,e);return n.subscribe.bind(n)}class N1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");D1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=rm),o.error===void 0&&(o.error=rm),o.complete===void 0&&(o.complete=rm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function D1(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function rm(){}function Wt(r){return r&&r._delegate?r._delegate:r}class Ks{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fs="[DEFAULT]";class O1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new h1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(x1(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:M1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function M1(r){return r===Fs?void 0:r}function x1(r){return r.instantiationMode==="EAGER"}class V1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new O1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var xe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xe||(xe={}));const k1={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},L1=xe.INFO,P1={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},U1=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=P1[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jm{constructor(e){this.name=e,this._logLevel=L1,this._logHandler=U1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?k1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const j1=(r,e)=>e.some(n=>r instanceof n);let Nv,Dv;function z1(){return Nv||(Nv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function B1(){return Dv||(Dv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bT=new WeakMap,Em=new WeakMap,wT=new WeakMap,sm=new WeakMap,Zm=new WeakMap;function H1(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Zr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&bT.set(n,r)}).catch(()=>{}),Zm.set(e,r),e}function q1(r){if(Em.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Em.set(r,e)}let Tm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Em.get(r);if(e==="objectStoreNames")return r.objectStoreNames||wT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function F1(r){Tm=r(Tm)}function G1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(am(this),e,...n);return wT.set(s,e.sort?e.sort():[e]),Zr(s)}:B1().includes(r)?function(...e){return r.apply(am(this),e),Zr(bT.get(this))}:function(...e){return Zr(r.apply(am(this),e))}}function Y1(r){return typeof r=="function"?G1(r):(r instanceof IDBTransaction&&q1(r),j1(r,z1())?new Proxy(r,Tm):r)}function Zr(r){if(r instanceof IDBRequest)return H1(r);if(sm.has(r))return sm.get(r);const e=Y1(r);return e!==r&&(sm.set(r,e),Zm.set(e,r)),e}const am=r=>Zm.get(r);function K1(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Zr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Zr(f.result),p.oldVersion,p.newVersion,Zr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const Q1=["get","getKey","getAll","getAllKeys","count"],X1=["put","add","delete","clear"],om=new Map;function Ov(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(om.get(e))return om.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=X1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Q1.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return om.set(e,u),u}F1(r=>({...r,get:(e,n,s)=>Ov(e,n)||r.get(e,n,s),has:(e,n)=>!!Ov(e,n)||r.has(e,n)}));class $1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(J1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function J1(r){return r.getComponent()?.type==="VERSION"}const Sm="@firebase/app",Mv="0.14.6";const rr=new Jm("@firebase/app"),Z1="@firebase/app-compat",W1="@firebase/analytics-compat",eR="@firebase/analytics",tR="@firebase/app-check-compat",nR="@firebase/app-check",iR="@firebase/auth",rR="@firebase/auth-compat",sR="@firebase/database",aR="@firebase/data-connect",oR="@firebase/database-compat",lR="@firebase/functions",uR="@firebase/functions-compat",cR="@firebase/installations",hR="@firebase/installations-compat",fR="@firebase/messaging",dR="@firebase/messaging-compat",mR="@firebase/performance",pR="@firebase/performance-compat",gR="@firebase/remote-config",yR="@firebase/remote-config-compat",_R="@firebase/storage",vR="@firebase/storage-compat",ER="@firebase/firestore",TR="@firebase/ai",SR="@firebase/firestore-compat",AR="firebase",bR="12.6.0";const Am="[DEFAULT]",wR={[Sm]:"fire-core",[Z1]:"fire-core-compat",[eR]:"fire-analytics",[W1]:"fire-analytics-compat",[nR]:"fire-app-check",[tR]:"fire-app-check-compat",[iR]:"fire-auth",[rR]:"fire-auth-compat",[sR]:"fire-rtdb",[aR]:"fire-data-connect",[oR]:"fire-rtdb-compat",[lR]:"fire-fn",[uR]:"fire-fn-compat",[cR]:"fire-iid",[hR]:"fire-iid-compat",[fR]:"fire-fcm",[dR]:"fire-fcm-compat",[mR]:"fire-perf",[pR]:"fire-perf-compat",[gR]:"fire-rc",[yR]:"fire-rc-compat",[_R]:"fire-gcs",[vR]:"fire-gcs-compat",[ER]:"fire-fst",[SR]:"fire-fst-compat",[TR]:"fire-vertex","fire-js":"fire-js",[AR]:"fire-js-all"};const uh=new Map,RR=new Map,bm=new Map;function xv(r,e){try{r.container.addComponent(e)}catch(n){rr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function to(r){const e=r.name;if(bm.has(e))return rr.debug(`There were multiple attempts to register component ${e}.`),!1;bm.set(e,r);for(const n of uh.values())xv(n,r);for(const n of RR.values())xv(n,r);return!0}function Wm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Ln(r){return r==null?!1:r.settings!==void 0}const CR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wr=new Wl("app","Firebase",CR);class IR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}const mo=bR;function RT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Am,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Wr.create("bad-app-name",{appName:String(o)});if(n||(n=ET()),!n)throw Wr.create("no-options");const u=uh.get(o);if(u){if(ir(n,u.options)&&ir(s,u.config))return u;throw Wr.create("duplicate-app",{appName:o})}const f=new V1(o);for(const p of bm.values())f.addComponent(p);const m=new IR(n,s,f);return uh.set(o,m),m}function CT(r=Am){const e=uh.get(r);if(!e&&r===Am&&ET())return RT();if(!e)throw Wr.create("no-app",{appName:r});return e}function es(r,e,n){let s=wR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rr.warn(f.join(" "));return}to(new Ks(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const NR="firebase-heartbeat-database",DR=1,Hl="firebase-heartbeat-store";let lm=null;function IT(){return lm||(lm=K1(NR,DR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Hl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Wr.create("idb-open",{originalErrorMessage:r.message})})),lm}async function OR(r){try{const n=(await IT()).transaction(Hl),s=await n.objectStore(Hl).get(NT(r));return await n.done,s}catch(e){if(e instanceof ur)rr.warn(e.message);else{const n=Wr.create("idb-get",{originalErrorMessage:e?.message});rr.warn(n.message)}}}async function Vv(r,e){try{const s=(await IT()).transaction(Hl,"readwrite");await s.objectStore(Hl).put(e,NT(r)),await s.done}catch(n){if(n instanceof ur)rr.warn(n.message);else{const s=Wr.create("idb-set",{originalErrorMessage:n?.message});rr.warn(s.message)}}}function NT(r){return`${r.name}!${r.options.appId}`}const MR=1024,xR=30;class VR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=kv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>xR){const o=PR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){rr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=kv(),{heartbeatsToSend:n,unsentEntries:s}=kR(this._heartbeatsCache.heartbeats),o=lh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return rr.warn(e),""}}}function kv(){return new Date().toISOString().substring(0,10)}function kR(r,e=MR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Lv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Lv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class LR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return S1()?A1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await OR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Vv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Vv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Lv(r){return lh(JSON.stringify({version:2,heartbeats:r})).length}function PR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function UR(r){to(new Ks("platform-logger",e=>new $1(e),"PRIVATE")),to(new Ks("heartbeat",e=>new VR(e),"PRIVATE")),es(Sm,Mv,r),es(Sm,Mv,"esm2020"),es("fire-js","")}UR("");function DT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jR=DT,OT=new Wl("auth","Firebase",DT());const ch=new Jm("@firebase/auth");function zR(r,...e){ch.logLevel<=xe.WARN&&ch.warn(`Auth (${mo}): ${r}`,...e)}function Jc(r,...e){ch.logLevel<=xe.ERROR&&ch.error(`Auth (${mo}): ${r}`,...e)}function Zn(r,...e){throw ep(r,...e)}function Ai(r,...e){return ep(r,...e)}function MT(r,e,n){const s={...jR(),[e]:n};return new Wl("auth","Firebase",s).create(e,{appName:r.name})}function tr(r){return MT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ep(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return OT.create(r,...e)}function ve(r,e,...n){if(!r)throw ep(e,...n)}function Zi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Jc(e),new Error(e)}function sr(r,e){r||Zi(e)}function wm(){return typeof self<"u"&&self.location?.href||""}function BR(){return Pv()==="http:"||Pv()==="https:"}function Pv(){return typeof self<"u"&&self.location?.protocol||null}function HR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BR()||_1()||"connection"in navigator)?navigator.onLine:!0}function qR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class tu{constructor(e,n){this.shortDelay=e,this.longDelay=n,sr(n>e,"Short delay should be less than long delay!"),this.isMobile=p1()||v1()}get(){return HR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tp(r,e){sr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class xT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const FR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const GR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YR=new tu(3e4,6e4);function cr(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function hr(r,e,n,s,o={}){return VT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=eu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return y1()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&fo(r.emulatorConfig.host)&&(g.credentials="include"),xT.fetch()(await kT(r,r.config.apiHost,n,m),g)})}async function VT(r,e,n){r._canInitEmulator=!1;const s={...FR,...e};try{const o=new QR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Bc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Bc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Bc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw MT(r,E,g);Zn(r,E)}}catch(o){if(o instanceof ur)throw o;Zn(r,"network-request-failed",{message:String(o)})}}async function nu(r,e,n,s,o={}){const u=await hr(r,e,n,s,o);return"mfaPendingCredential"in u&&Zn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function kT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?tp(r.config,o):`${r.config.apiScheme}://${o}`;return GR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function KR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ai(this.auth,"network-request-failed")),YR.get())})}}function Bc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ai(r,e,s);return o.customData._tokenResponse=n,o}function Uv(r){return r!==void 0&&r.enterprise!==void 0}class XR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return KR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $R(r,e){return hr(r,"GET","/v2/recaptchaConfig",cr(r,e))}async function JR(r,e){return hr(r,"POST","/v1/accounts:delete",e)}async function hh(r,e){return hr(r,"POST","/v1/accounts:lookup",e)}function kl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZR(r,e=!1){const n=Wt(r),s=await n.getIdToken(e),o=np(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:kl(um(o.auth_time)),issuedAtTime:kl(um(o.iat)),expirationTime:kl(um(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function um(r){return Number(r)*1e3}function np(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Jc("JWT malformed, contained fewer than 3 sections"),null;try{const o=_T(n);return o?JSON.parse(o):(Jc("Failed to decode base64 JWT payload"),null)}catch(o){return Jc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function jv(r){const e=np(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ql(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ur&&WR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function WR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class eC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Rm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function fh(r){const e=r.auth,n=await r.getIdToken(),s=await ql(r,hh(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?LT(o.providerUserInfo):[],f=nC(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Rm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function tC(r){const e=Wt(r);await fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function LT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function iC(r,e){const n=await VT(r,{},async()=>{const s=eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await kT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&fo(r.emulatorConfig.host)&&(p.credentials="include"),xT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rC(r,e){return hr(r,"POST","/v2/accounts:revokeToken",cr(r,e))}class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=jv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await iC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ja;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return Zi("not implemented")}}function Gr(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class $n{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new eC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Rm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ql(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZR(this,e)}reload(){return tC(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $n({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await fh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(tr(this.auth));const e=await this.getIdToken();return await ql(this,JR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:b,isAnonymous:L,providerData:B,stsTokenManager:Q}=n;ve(T&&Q,e,"internal-error");const j=Ja.fromJSON(this.name,Q);ve(typeof T=="string",e,"internal-error"),Gr(s,e.name),Gr(o,e.name),ve(typeof b=="boolean",e,"internal-error"),ve(typeof L=="boolean",e,"internal-error"),Gr(u,e.name),Gr(f,e.name),Gr(m,e.name),Gr(p,e.name),Gr(g,e.name),Gr(E,e.name);const Z=new $n({uid:T,auth:e,email:o,emailVerified:b,displayName:s,isAnonymous:L,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:j,createdAt:g,lastLoginAt:E});return B&&Array.isArray(B)&&(Z.providerData=B.map(K=>({...K}))),p&&(Z._redirectEventId=p),Z}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ja;o.updateFromServerResponse(n);const u=new $n({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await fh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?LT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Ja;m.updateFromIdToken(s);const p=new $n({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Rm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const zv=new Map;function Wi(r){sr(r instanceof Function,"Expected a class definition");let e=zv.get(r);return e?(sr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,zv.set(r,e),e)}class PT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}PT.type="NONE";const Bv=PT;function Zc(r,e,n){return`firebase:${r}:${e}:${n}`}class Za{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Zc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Zc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await hh(this.auth,{idToken:e}).catch(()=>{});return n?$n._fromGetAccountInfoResponse(this.auth,n,e):null}return $n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Za(Wi(Bv),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Wi(Bv);const f=Zc(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let T;if(typeof E=="string"){const b=await hh(e,{idToken:E}).catch(()=>{});if(!b)break;T=await $n._fromGetAccountInfoResponse(e,b,E)}else T=$n._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Za(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Za(u,e,s))}}function Hv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qT(e))return"Blackberry";if(FT(e))return"Webos";if(jT(e))return"Safari";if((e.includes("chrome/")||zT(e))&&!e.includes("edge/"))return"Chrome";if(HT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function UT(r=Zt()){return/firefox\//i.test(r)}function jT(r=Zt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zT(r=Zt()){return/crios\//i.test(r)}function BT(r=Zt()){return/iemobile/i.test(r)}function HT(r=Zt()){return/android/i.test(r)}function qT(r=Zt()){return/blackberry/i.test(r)}function FT(r=Zt()){return/webos/i.test(r)}function ip(r=Zt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function sC(r=Zt()){return ip(r)&&!!window.navigator?.standalone}function aC(){return E1()&&document.documentMode===10}function GT(r=Zt()){return ip(r)||HT(r)||FT(r)||qT(r)||/windows phone/i.test(r)||BT(r)}function YT(r,e=[]){let n;switch(r){case"Browser":n=Hv(Zt());break;case"Worker":n=`${Hv(Zt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mo}/${s}`}class oC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function lC(r,e={}){return hr(r,"GET","/v2/passwordPolicy",cr(r,e))}const uC=6;class cC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??uC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class hC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qv(this),this.idTokenSubscription=new qv(this),this.beforeStateQueue=new oC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Za.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hh(this,{idToken:e}),s=await $n._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ln(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(tr(this));const n=e?Wt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lC(this),n=new cC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await rC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wi(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[Wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&zR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function cs(r){return Wt(r)}class qv{constructor(e){this.auth=e,this.observer=null,this.addObserver=I1(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fC(r){Mh=r}function KT(r){return Mh.loadJS(r)}function dC(){return Mh.recaptchaEnterpriseScript}function mC(){return Mh.gapiScript}function pC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class gC{constructor(){this.enterprise=new yC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class yC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const _C="recaptcha-enterprise",QT="NO_RECAPTCHA";class vC{constructor(e){this.type=_C,this.auth=cs(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{$R(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new XR(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Uv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(QT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new gC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Uv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=dC();p.length!==0&&(p+=m),KT(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function Fv(r,e,n,s=!1,o=!1){const u=new vC(r);let f;if(o)f=QT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function dh(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Fv(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Fv(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function EC(r,e){const n=Wm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ir(u,e??{}))return o;Zn(o,"already-initialized")}return n.initialize({options:e})}function TC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Wi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function SC(r,e,n){const s=cs(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=XT(e),{host:f,port:m}=AC(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(ir(g,s.config.emulator)&&ir(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,fo(f)?(ST(`${u}//${f}${p}`),AT("Auth",!0)):bC()}function XT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function AC(r){const e=XT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Gv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Gv(f)}}}function Gv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function bC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class rp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zi("not implemented")}_getIdTokenResponse(e){return Zi("not implemented")}_linkToIdToken(e,n){return Zi("not implemented")}_getReauthenticationResolver(e){return Zi("not implemented")}}async function wC(r,e){return hr(r,"POST","/v1/accounts:signUp",e)}async function RC(r,e){return nu(r,"POST","/v1/accounts:signInWithPassword",cr(r,e))}async function CC(r,e){return hr(r,"POST","/v1/accounts:sendOobCode",cr(r,e))}async function IC(r,e){return CC(r,e)}async function NC(r,e){return nu(r,"POST","/v1/accounts:signInWithEmailLink",cr(r,e))}async function DC(r,e){return nu(r,"POST","/v1/accounts:signInWithEmailLink",cr(r,e))}class Fl extends rp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Fl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Fl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,n,"signInWithPassword",RC);case"emailLink":return NC(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,s,"signUpPassword",wC);case"emailLink":return DC(e,{idToken:n,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Wa(r,e){return nu(r,"POST","/v1/accounts:signInWithIdp",cr(r,e))}const OC="http://localhost";class Qs extends rp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Qs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Wa(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Wa(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wa(e,n)}buildRequest(){const e={requestUri:OC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=eu(n)}return e}}function MC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xC(r){const e=Il(Nl(r)).link,n=e?Il(Nl(e)).deep_link_id:null,s=Il(Nl(r)).deep_link_id;return(s?Il(Nl(s)).link:null)||s||n||e||r}class sp{constructor(e){const n=Il(Nl(e)),s=n.apiKey??null,o=n.oobCode??null,u=MC(n.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=xC(e);try{return new sp(n)}catch{return null}}}class po{constructor(){this.providerId=po.PROVIDER_ID}static credential(e,n){return Fl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=sp.parseLink(n);return ve(s,"argument-error"),Fl._fromEmailAndCode(e,s.code,s.tenantId)}}po.PROVIDER_ID="password";po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class $T{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class iu extends $T{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Yr extends iu{constructor(){super("facebook.com")}static credential(e){return Qs._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yr.PROVIDER_ID="facebook.com";class Kr extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qs._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Kr.credential(n,s)}catch{return null}}}Kr.GOOGLE_SIGN_IN_METHOD="google.com";Kr.PROVIDER_ID="google.com";class Qr extends iu{constructor(){super("github.com")}static credential(e){return Qs._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.GITHUB_SIGN_IN_METHOD="github.com";Qr.PROVIDER_ID="github.com";class Xr extends iu{constructor(){super("twitter.com")}static credential(e,n){return Qs._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Xr.credential(n,s)}catch{return null}}}Xr.TWITTER_SIGN_IN_METHOD="twitter.com";Xr.PROVIDER_ID="twitter.com";async function VC(r,e){return nu(r,"POST","/v1/accounts:signUp",cr(r,e))}class Xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await $n._fromIdTokenResponse(e,s,o),f=Yv(s);return new Xs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Yv(s);return new Xs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Yv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class mh extends ur{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new mh(e,n,s,o)}}function JT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(r,u,e,s):u})}async function kC(r,e,n=!1){const s=await ql(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Xs._forOperation(r,"link",s)}async function LC(r,e,n=!1){const{auth:s}=r;if(Ln(s.app))return Promise.reject(tr(s));const o="reauthenticate";try{const u=await ql(r,JT(s,o,e,r),n);ve(u.idToken,s,"internal-error");const f=np(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(r.uid===m,s,"user-mismatch"),Xs._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Zn(s,"user-mismatch"),u}}async function ZT(r,e,n=!1){if(Ln(r.app))return Promise.reject(tr(r));const s="signIn",o=await JT(r,s,e),u=await Xs._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function PC(r,e){return ZT(cs(r),e)}async function WT(r){const e=cs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function UC(r,e,n){const s=cs(r);await dh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",IC)}async function jC(r,e,n){if(Ln(r.app))return Promise.reject(tr(r));const s=cs(r),f=await dh(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",VC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&WT(r),p}),m=await Xs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function zC(r,e,n){return Ln(r.app)?Promise.reject(tr(r)):PC(Wt(r),po.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&WT(r),s})}function BC(r,e,n,s){return Wt(r).onIdTokenChanged(e,n,s)}function HC(r,e,n){return Wt(r).beforeAuthStateChanged(e,n)}function qC(r,e,n,s){return Wt(r).onAuthStateChanged(e,n,s)}function FC(r){return Wt(r).signOut()}const ph="__sak";class e0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ph,"1"),this.storage.removeItem(ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const GC=1e3,YC=10;class t0 extends e0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);aC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,YC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},GC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}t0.type="LOCAL";const KC=t0;class n0 extends e0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}n0.type="SESSION";const i0=n0;function QC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new xh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await QC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xh.receivers=[];function ap(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class XC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=ap("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const b=T;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function bi(){return window}function $C(r){bi().location.href=r}function r0(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function JC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZC(){return navigator?.serviceWorker?.controller||null}function WC(){return r0()?self:null}const s0="firebaseLocalStorageDb",eI=1,gh="firebaseLocalStorage",a0="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vh(r,e){return r.transaction([gh],e?"readwrite":"readonly").objectStore(gh)}function tI(){const r=indexedDB.deleteDatabase(s0);return new ru(r).toPromise()}function Cm(){const r=indexedDB.open(s0,eI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(gh,{keyPath:a0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(gh)?e(s):(s.close(),await tI(),e(await Cm()))})})}async function Kv(r,e,n){const s=Vh(r,!0).put({[a0]:e,value:n});return new ru(s).toPromise()}async function nI(r,e){const n=Vh(r,!1).get(e),s=await new ru(n).toPromise();return s===void 0?null:s.value}function Qv(r,e){const n=Vh(r,!0).delete(e);return new ru(n).toPromise()}const iI=800,rI=3;class o0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>rI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return r0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xh._getInstance(WC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await JC(),!this.activeServiceWorker)return;this.sender=new XC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cm();return await Kv(e,ph,"1"),await Qv(e,ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Kv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>nI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Qv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Vh(o,!1).getAll();return new ru(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}o0.type="LOCAL";const sI=o0;new tu(3e4,6e4);function aI(r,e){return e?Wi(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class op extends rp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function oI(r){return ZT(r.auth,new op(r),r.bypassAuthState)}function lI(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),LC(n,new op(r),r.bypassAuthState)}async function uI(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),kC(n,new op(r),r.bypassAuthState)}class l0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oI;case"linkViaPopup":case"linkViaRedirect":return uI;case"reauthViaPopup":case"reauthViaRedirect":return lI;default:Zn(this.auth,"internal-error")}}resolve(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cI=new tu(2e3,1e4);class $a extends l0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,$a.currentPopupAction&&$a.currentPopupAction.cancel(),$a.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const e=ap();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$a.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cI.get())};e()}}$a.currentPopupAction=null;const hI="pendingRedirect",Wc=new Map;class fI extends l0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Wc.get(this.auth._key());if(!e){try{const s=await dI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Wc.set(this.auth._key(),e)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dI(r,e){const n=gI(e),s=pI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function mI(r,e){Wc.set(r._key(),e)}function pI(r){return Wi(r._redirectPersistence)}function gI(r){return Zc(hI,r.config.apiKey,r.name)}async function yI(r,e,n=!1){if(Ln(r.app))return Promise.reject(tr(r));const s=cs(r),o=aI(s,e),f=await new fI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const _I=600*1e3;class vI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!u0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ai(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_I&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xv(e))}saveEventToCache(e){this.cachedEventUids.add(Xv(e)),this.lastProcessedEventTime=Date.now()}}function Xv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function u0({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function EI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u0(r);default:return!1}}async function TI(r,e={}){return hr(r,"GET","/v1/projects",e)}const SI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AI=/^https?/;async function bI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await TI(r);for(const n of e)try{if(wI(n))return}catch{}Zn(r,"unauthorized-domain")}function wI(r){const e=wm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!AI.test(n))return!1;if(SI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const RI=new tu(3e4,6e4);function $v(){const r=bi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function CI(r){return new Promise((e,n)=>{function s(){$v(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$v(),n(Ai(r,"network-request-failed"))},timeout:RI.get()})}if(bi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(bi().gapi?.load)s();else{const o=pC("iframefcb");return bi()[o]=()=>{gapi.load?s():n(Ai(r,"network-request-failed"))},KT(`${mC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw eh=null,e})}let eh=null;function II(r){return eh=eh||CI(r),eh}const NI=new tu(5e3,15e3),DI="__/auth/iframe",OI="emulator/auth/iframe",MI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VI(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?tp(e,OI):`https://${r.config.authDomain}/${DI}`,s={apiKey:e.apiKey,appName:r.name,v:mo},o=xI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${eu(s).slice(1)}`}async function kI(r){const e=await II(r),n=bi().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:VI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ai(r,"network-request-failed"),m=bi().setTimeout(()=>{u(f)},NI.get());function p(){bi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const LI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PI=500,UI=600,jI="_blank",zI="http://localhost";class Jv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BI(r,e,n,s=PI,o=UI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...LI,width:s.toString(),height:o.toString(),top:u,left:f},g=Zt().toLowerCase();n&&(m=zT(g)?jI:n),UT(g)&&(e=e||zI,p.scrollbars="yes");const E=Object.entries(p).reduce((b,[L,B])=>`${b}${L}=${B},`,"");if(sC(g)&&m!=="_self")return HI(e||"",m),new Jv(null);const T=window.open(e||"",m,E);ve(T,r,"popup-blocked");try{T.focus()}catch{}return new Jv(T)}function HI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const qI="__/auth/handler",FI="emulator/auth/handler",GI=encodeURIComponent("fac");async function Zv(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:mo,eventId:o};if(e instanceof $T){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",C1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof iu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${GI}=${encodeURIComponent(p)}`:"";return`${YI(r)}?${eu(m).slice(1)}${g}`}function YI({config:r}){return r.emulator?tp(r,FI):`https://${r.authDomain}/${qI}`}const cm="webStorageSupport";class KI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=i0,this._completeRedirectFn=yI,this._overrideRedirectResult=mI}async _openPopup(e,n,s,o){sr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Zv(e,n,s,wm(),o);return BI(e,u,ap())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Zv(e,n,s,wm(),o);return $C(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(sr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await kI(e),s=new vI(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(cm,{type:cm},o=>{const u=o?.[0]?.[cm];u!==void 0&&n(!!u),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return GT()||jT()||ip()}}const QI=KI;var Wv="@firebase/auth",eE="1.11.1";class XI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function $I(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JI(r){to(new Ks("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YT(r)},g=new hC(s,o,u,p);return TC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),to(new Ks("auth-internal",e=>{const n=cs(e.getProvider("auth").getImmediate());return(s=>new XI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),es(Wv,eE,$I(r)),es(Wv,eE,"esm2020")}const ZI=300,WI=TT("authIdTokenMaxAge")||ZI;let tE=null;const e2=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>WI)return;const o=n?.token;tE!==o&&(tE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function t2(r=CT()){const e=Wm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=EC(r,{popupRedirectResolver:QI,persistence:[sI,KC,i0]}),s=TT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=e2(u.toString());HC(n,f,()=>f(n.currentUser)),BC(n,m=>f(m))}}const o=vT("auth");return o&&SC(n,`http://${o}`),n}function n2(){return document.getElementsByTagName("head")?.[0]??document}fC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ai("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",n2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JI("Browser");var i2="firebase",r2="12.6.0";es(i2,r2,"app");var nE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ts,c0;(function(){var r;function e(N,w){function I(){}I.prototype=w.prototype,N.F=w.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(M,C,k){for(var D=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)D[Fe-2]=arguments[Fe];return w.prototype[C].apply(M,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,w,I){I||(I=0);const M=Array(16);if(typeof w=="string")for(var C=0;C<16;++C)M[C]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(C=0;C<16;++C)M[C]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=N.g[0],I=N.g[1],C=N.g[2];let k=N.g[3],D;D=w+(k^I&(C^k))+M[0]+3614090360&4294967295,w=I+(D<<7&4294967295|D>>>25),D=k+(C^w&(I^C))+M[1]+3905402710&4294967295,k=w+(D<<12&4294967295|D>>>20),D=C+(I^k&(w^I))+M[2]+606105819&4294967295,C=k+(D<<17&4294967295|D>>>15),D=I+(w^C&(k^w))+M[3]+3250441966&4294967295,I=C+(D<<22&4294967295|D>>>10),D=w+(k^I&(C^k))+M[4]+4118548399&4294967295,w=I+(D<<7&4294967295|D>>>25),D=k+(C^w&(I^C))+M[5]+1200080426&4294967295,k=w+(D<<12&4294967295|D>>>20),D=C+(I^k&(w^I))+M[6]+2821735955&4294967295,C=k+(D<<17&4294967295|D>>>15),D=I+(w^C&(k^w))+M[7]+4249261313&4294967295,I=C+(D<<22&4294967295|D>>>10),D=w+(k^I&(C^k))+M[8]+1770035416&4294967295,w=I+(D<<7&4294967295|D>>>25),D=k+(C^w&(I^C))+M[9]+2336552879&4294967295,k=w+(D<<12&4294967295|D>>>20),D=C+(I^k&(w^I))+M[10]+4294925233&4294967295,C=k+(D<<17&4294967295|D>>>15),D=I+(w^C&(k^w))+M[11]+2304563134&4294967295,I=C+(D<<22&4294967295|D>>>10),D=w+(k^I&(C^k))+M[12]+1804603682&4294967295,w=I+(D<<7&4294967295|D>>>25),D=k+(C^w&(I^C))+M[13]+4254626195&4294967295,k=w+(D<<12&4294967295|D>>>20),D=C+(I^k&(w^I))+M[14]+2792965006&4294967295,C=k+(D<<17&4294967295|D>>>15),D=I+(w^C&(k^w))+M[15]+1236535329&4294967295,I=C+(D<<22&4294967295|D>>>10),D=w+(C^k&(I^C))+M[1]+4129170786&4294967295,w=I+(D<<5&4294967295|D>>>27),D=k+(I^C&(w^I))+M[6]+3225465664&4294967295,k=w+(D<<9&4294967295|D>>>23),D=C+(w^I&(k^w))+M[11]+643717713&4294967295,C=k+(D<<14&4294967295|D>>>18),D=I+(k^w&(C^k))+M[0]+3921069994&4294967295,I=C+(D<<20&4294967295|D>>>12),D=w+(C^k&(I^C))+M[5]+3593408605&4294967295,w=I+(D<<5&4294967295|D>>>27),D=k+(I^C&(w^I))+M[10]+38016083&4294967295,k=w+(D<<9&4294967295|D>>>23),D=C+(w^I&(k^w))+M[15]+3634488961&4294967295,C=k+(D<<14&4294967295|D>>>18),D=I+(k^w&(C^k))+M[4]+3889429448&4294967295,I=C+(D<<20&4294967295|D>>>12),D=w+(C^k&(I^C))+M[9]+568446438&4294967295,w=I+(D<<5&4294967295|D>>>27),D=k+(I^C&(w^I))+M[14]+3275163606&4294967295,k=w+(D<<9&4294967295|D>>>23),D=C+(w^I&(k^w))+M[3]+4107603335&4294967295,C=k+(D<<14&4294967295|D>>>18),D=I+(k^w&(C^k))+M[8]+1163531501&4294967295,I=C+(D<<20&4294967295|D>>>12),D=w+(C^k&(I^C))+M[13]+2850285829&4294967295,w=I+(D<<5&4294967295|D>>>27),D=k+(I^C&(w^I))+M[2]+4243563512&4294967295,k=w+(D<<9&4294967295|D>>>23),D=C+(w^I&(k^w))+M[7]+1735328473&4294967295,C=k+(D<<14&4294967295|D>>>18),D=I+(k^w&(C^k))+M[12]+2368359562&4294967295,I=C+(D<<20&4294967295|D>>>12),D=w+(I^C^k)+M[5]+4294588738&4294967295,w=I+(D<<4&4294967295|D>>>28),D=k+(w^I^C)+M[8]+2272392833&4294967295,k=w+(D<<11&4294967295|D>>>21),D=C+(k^w^I)+M[11]+1839030562&4294967295,C=k+(D<<16&4294967295|D>>>16),D=I+(C^k^w)+M[14]+4259657740&4294967295,I=C+(D<<23&4294967295|D>>>9),D=w+(I^C^k)+M[1]+2763975236&4294967295,w=I+(D<<4&4294967295|D>>>28),D=k+(w^I^C)+M[4]+1272893353&4294967295,k=w+(D<<11&4294967295|D>>>21),D=C+(k^w^I)+M[7]+4139469664&4294967295,C=k+(D<<16&4294967295|D>>>16),D=I+(C^k^w)+M[10]+3200236656&4294967295,I=C+(D<<23&4294967295|D>>>9),D=w+(I^C^k)+M[13]+681279174&4294967295,w=I+(D<<4&4294967295|D>>>28),D=k+(w^I^C)+M[0]+3936430074&4294967295,k=w+(D<<11&4294967295|D>>>21),D=C+(k^w^I)+M[3]+3572445317&4294967295,C=k+(D<<16&4294967295|D>>>16),D=I+(C^k^w)+M[6]+76029189&4294967295,I=C+(D<<23&4294967295|D>>>9),D=w+(I^C^k)+M[9]+3654602809&4294967295,w=I+(D<<4&4294967295|D>>>28),D=k+(w^I^C)+M[12]+3873151461&4294967295,k=w+(D<<11&4294967295|D>>>21),D=C+(k^w^I)+M[15]+530742520&4294967295,C=k+(D<<16&4294967295|D>>>16),D=I+(C^k^w)+M[2]+3299628645&4294967295,I=C+(D<<23&4294967295|D>>>9),D=w+(C^(I|~k))+M[0]+4096336452&4294967295,w=I+(D<<6&4294967295|D>>>26),D=k+(I^(w|~C))+M[7]+1126891415&4294967295,k=w+(D<<10&4294967295|D>>>22),D=C+(w^(k|~I))+M[14]+2878612391&4294967295,C=k+(D<<15&4294967295|D>>>17),D=I+(k^(C|~w))+M[5]+4237533241&4294967295,I=C+(D<<21&4294967295|D>>>11),D=w+(C^(I|~k))+M[12]+1700485571&4294967295,w=I+(D<<6&4294967295|D>>>26),D=k+(I^(w|~C))+M[3]+2399980690&4294967295,k=w+(D<<10&4294967295|D>>>22),D=C+(w^(k|~I))+M[10]+4293915773&4294967295,C=k+(D<<15&4294967295|D>>>17),D=I+(k^(C|~w))+M[1]+2240044497&4294967295,I=C+(D<<21&4294967295|D>>>11),D=w+(C^(I|~k))+M[8]+1873313359&4294967295,w=I+(D<<6&4294967295|D>>>26),D=k+(I^(w|~C))+M[15]+4264355552&4294967295,k=w+(D<<10&4294967295|D>>>22),D=C+(w^(k|~I))+M[6]+2734768916&4294967295,C=k+(D<<15&4294967295|D>>>17),D=I+(k^(C|~w))+M[13]+1309151649&4294967295,I=C+(D<<21&4294967295|D>>>11),D=w+(C^(I|~k))+M[4]+4149444226&4294967295,w=I+(D<<6&4294967295|D>>>26),D=k+(I^(w|~C))+M[11]+3174756917&4294967295,k=w+(D<<10&4294967295|D>>>22),D=C+(w^(k|~I))+M[2]+718787259&4294967295,C=k+(D<<15&4294967295|D>>>17),D=I+(k^(C|~w))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(C+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+C&4294967295,N.g[3]=N.g[3]+k&4294967295}s.prototype.v=function(N,w){w===void 0&&(w=N.length);const I=w-this.blockSize,M=this.C;let C=this.h,k=0;for(;k<w;){if(C==0)for(;k<=I;)o(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<w;)if(M[C++]=N.charCodeAt(k++),C==this.blockSize){o(this,M),C=0;break}}else for(;k<w;)if(M[C++]=N[k++],C==this.blockSize){o(this,M),C=0;break}}this.h=C,this.o+=w},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)N[w++]=this.g[I]>>>M&255;return N};function u(N,w){var I=m;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=w(N)}function f(N,w){this.h=w;const I=[];let M=!0;for(let C=N.length-1;C>=0;C--){const k=N[C]|0;M&&k==w||(I[C]=k,M=!1)}this.g=I}var m={};function p(N){return-128<=N&&N<128?u(N,function(w){return new f([w|0],w<0?-1:0)}):new f([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return T;if(N<0)return j(g(-N));const w=[];let I=1;for(let M=0;N>=I;M++)w[M]=N/I|0,I*=4294967296;return new f(w,0)}function E(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return j(E(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(w,8));let M=T;for(let k=0;k<N.length;k+=8){var C=Math.min(8,N.length-k);const D=parseInt(N.substring(k,k+C),w);C<8?(C=g(Math.pow(w,C)),M=M.j(C).add(g(D))):(M=M.j(I),M=M.add(g(D)))}return M}var T=p(0),b=p(1),L=p(16777216);r=f.prototype,r.m=function(){if(Q(this))return-j(this).m();let N=0,w=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);N+=(M>=0?M:4294967296+M)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(B(this))return"0";if(Q(this))return"-"+j(this).toString(N);const w=g(Math.pow(N,6));var I=this;let M="";for(;;){const C=de(I,w).g;I=Z(I,C.j(w));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=C,B(I))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function B(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function Q(N){return N.h==-1}r.l=function(N){return N=Z(this,N),Q(N)?-1:B(N)?0:1};function j(N){const w=N.g.length,I=[];for(let M=0;M<w;M++)I[M]=~N.g[M];return new f(I,~N.h).add(b)}r.abs=function(){return Q(this)?j(this):this},r.add=function(N){const w=Math.max(this.g.length,N.g.length),I=[];let M=0;for(let C=0;C<=w;C++){let k=M+(this.i(C)&65535)+(N.i(C)&65535),D=(k>>>16)+(this.i(C)>>>16)+(N.i(C)>>>16);M=D>>>16,k&=65535,D&=65535,I[C]=D<<16|k}return new f(I,I[I.length-1]&-2147483648?-1:0)};function Z(N,w){return N.add(j(w))}r.j=function(N){if(B(this)||B(N))return T;if(Q(this))return Q(N)?j(this).j(j(N)):j(j(this).j(N));if(Q(N))return j(this.j(j(N)));if(this.l(L)<0&&N.l(L)<0)return g(this.m()*N.m());const w=this.g.length+N.g.length,I=[];for(var M=0;M<2*w;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let C=0;C<N.g.length;C++){const k=this.i(M)>>>16,D=this.i(M)&65535,Fe=N.i(C)>>>16,It=N.i(C)&65535;I[2*M+2*C]+=D*It,K(I,2*M+2*C),I[2*M+2*C+1]+=k*It,K(I,2*M+2*C+1),I[2*M+2*C+1]+=D*Fe,K(I,2*M+2*C+1),I[2*M+2*C+2]+=k*Fe,K(I,2*M+2*C+2)}for(N=0;N<w;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=w;N<2*w;N++)I[N]=0;return new f(I,0)};function K(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function ie(N,w){this.g=N,this.h=w}function de(N,w){if(B(w))throw Error("division by zero");if(B(N))return new ie(T,T);if(Q(N))return w=de(j(N),w),new ie(j(w.g),j(w.h));if(Q(w))return w=de(N,j(w)),new ie(j(w.g),w.h);if(N.g.length>30){if(Q(N)||Q(w))throw Error("slowDivide_ only works with positive integers.");for(var I=b,M=w;M.l(N)<=0;)I=ge(I),M=ge(M);var C=me(I,1),k=me(M,1);for(M=me(M,2),I=me(I,2);!B(M);){var D=k.add(M);D.l(N)<=0&&(C=C.add(I),k=D),M=me(M,1),I=me(I,1)}return w=Z(N,C.j(w)),new ie(C,w)}for(C=T;N.l(w)>=0;){for(I=Math.max(1,Math.floor(N.m()/w.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=g(I),D=k.j(w);Q(D)||D.l(N)>0;)I-=M,k=g(I),D=k.j(w);B(k)&&(k=b),C=C.add(k),N=Z(N,D)}return new ie(C,N)}r.B=function(N){return de(this,N).h},r.and=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let M=0;M<w;M++)I[M]=this.i(M)&N.i(M);return new f(I,this.h&N.h)},r.or=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let M=0;M<w;M++)I[M]=this.i(M)|N.i(M);return new f(I,this.h|N.h)},r.xor=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let M=0;M<w;M++)I[M]=this.i(M)^N.i(M);return new f(I,this.h^N.h)};function ge(N){const w=N.g.length+1,I=[];for(let M=0;M<w;M++)I[M]=N.i(M)<<1|N.i(M-1)>>>31;return new f(I,N.h)}function me(N,w){const I=w>>5;w%=32;const M=N.g.length-I,C=[];for(let k=0;k<M;k++)C[k]=w>0?N.i(k+I)>>>w|N.i(k+I+1)<<32-w:N.i(k+I);return new f(C,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,c0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,ts=f}).apply(typeof nE<"u"?nE:typeof self<"u"?self:typeof window<"u"?window:{});var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var h0,Dl,f0,th,Im,d0,m0,p0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hc=="object"&&Hc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in v))break e;v=v[z]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&v.push([A,y[A]]);return v}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,z,G){for(var re=Array(arguments.length-2),we=2;we<arguments.length;we++)re[we-2]=arguments[we];return y.prototype[z].apply(A,re)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function L(c){const y=c.length;if(y>0){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function B(c,y){for(let A=1;A<arguments.length;A++){const z=arguments[A];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=c.length||0;const G=z.length||0;c.length=v+G;for(let re=0;re<G;re++)c[v+re]=z[re]}else c.push(z)}}class Q{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function j(c){f.setTimeout(()=>{throw c},0)}function Z(){var c=N;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class K{constructor(){this.h=this.g=null}add(y,v){const A=ie.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ie=new Q(()=>new de,c=>c.reset());class de{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,me=!1,N=new K,w=()=>{const c=Promise.resolve(void 0);ge=()=>{c.then(I)}};function I(){for(var c;c=Z();){try{c.h.call(c.g)}catch(v){j(v)}var y=ie;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}me=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,y),f.removeEventListener("test",v,y)}catch{}return c})();function D(c){return/^[\s\xa0]*$/.test(c)}function Fe(c,y){C.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(Fe,C),Fe.prototype.init=function(c,y){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Fe.Z.h.call(this)},Fe.prototype.h=function(){Fe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var It="closure_listenable_"+(Math.random()*1e6|0),$=0;function se(c,y,v,A,z){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=z,this.key=++$,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function Ye(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function V(c){const y={};for(const v in c)y[v]=c[v];return y}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let v,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(v in A)c[v]=A[v];for(let G=0;G<ee.length;G++)v=ee[G],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function le(c){this.src=c,this.g={},this.h=0}le.prototype.add=function(c,y,v,A,z){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const re=Ce(c,y,A,z);return re>-1?(y=c[re],v||(y.fa=!1)):(y=new se(y,this.src,G,!!A,z),y.fa=v,c.push(y)),y};function Te(c,y){const v=y.type;if(v in c.g){var A=c.g[v],z=Array.prototype.indexOf.call(A,y,void 0),G;(G=z>=0)&&Array.prototype.splice.call(A,z,1),G&&(pe(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ce(c,y,v,A){for(let z=0;z<c.length;++z){const G=c[z];if(!G.da&&G.listener==y&&G.capture==!!v&&G.ha==A)return z}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),Nt={};function rt(c,y,v,A,z){if(Array.isArray(y)){for(let G=0;G<y.length;G++)rt(c,y[G],v,A,z);return null}return v=Ao(v),c&&c[It]?c.J(y,v,m(A)?!!A.capture:!1,z):ds(c,y,v,!1,A,z)}function ds(c,y,v,A,z,G){if(!y)throw Error("Invalid event type");const re=m(z)?!!z.capture:!!z;let we=ms(c);if(we||(c[Pe]=we=new le(c)),v=we.add(y,v,A,re,G),v.proxy)return v;if(A=na(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)k||(z=re),z===void 0&&(z=!1),c.addEventListener(y.toString(),A,z);else if(c.attachEvent)c.attachEvent(ei(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function na(){function c(v){return y.call(c.src,c.listener,v)}const y=To;return c}function ia(c,y,v,A,z){if(Array.isArray(y))for(var G=0;G<y.length;G++)ia(c,y[G],v,A,z);else A=m(A)?!!A.capture:!!A,v=Ao(v),c&&c[It]?(c=c.i,G=String(y).toString(),G in c.g&&(y=c.g[G],v=Ce(y,v,A,z),v>-1&&(pe(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[G],c.h--)))):c&&(c=ms(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ce(y,v,A,z)),(v=c>-1?y[c]:null)&&ra(v))}function ra(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[It])Te(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(ei(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=ms(y))?(Te(v,c),v.h==0&&(v.src=null,y[Pe]=null)):pe(c)}}}function ei(c){return c in Nt?Nt[c]:Nt[c]="on"+c}function To(c,y){if(c.da)c=!0;else{y=new Fe(y,this);const v=c.listener,A=c.ha||c.src;c.fa&&ra(c),c=v.call(A,y)}return c}function ms(c){return c=c[Pe],c instanceof le?c:null}var So="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ao(c){return typeof c=="function"?c:(c[So]||(c[So]=function(y){return c.handleEvent(y)}),c[So])}function yt(){M.call(this),this.i=new le(this),this.M=this,this.G=null}T(yt,M),yt.prototype[It]=!0,yt.prototype.removeEventListener=function(c,y,v,A){ia(this,c,y,v,A)};function Dt(c,y){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new C(y,c);else if(y instanceof C)y.target=y.target||c;else{var z=y;y=new C(A,c),ae(y,z)}z=!0;let G,re;if(v)for(re=v.length-1;re>=0;re--)G=y.g=v[re],z=fr(G,A,!0,y)&&z;if(G=y.g=c,z=fr(G,A,!0,y)&&z,z=fr(G,A,!1,y)&&z,v)for(re=0;re<v.length;re++)G=y.g=v[re],z=fr(G,A,!1,y)&&z}yt.prototype.N=function(){if(yt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let A=0;A<v.length;A++)pe(v[A]);delete c.g[y],c.h--}}this.G=null},yt.prototype.J=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},yt.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function fr(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let G=0;G<y.length;++G){const re=y[G];if(re&&!re.da&&re.capture==v){const we=re.listener,dt=re.ha||re.src;re.fa&&Te(c.i,re),z=we.call(dt,A)!==!1&&z}}return z&&!A.defaultPrevented}function Jh(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function hu(c){c.g=Jh(()=>{c.g=null,c.i&&(c.i=!1,hu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class en extends M{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:hu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ps(c){M.call(this),this.h=c,this.g={}}T(ps,M);var bo=[];function wo(c){je(c.g,function(y,v){this.g.hasOwnProperty(v)&&ra(y)},c),c.g={}}ps.prototype.N=function(){ps.Z.N.call(this),wo(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dr=f.JSON.stringify,Zh=f.JSON.parse,fu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function du(){}function mu(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jt(){C.call(this,"d")}T(jt,C);function An(){C.call(this,"c")}T(An,C);var ft={},pu=null;function sa(){return pu=pu||new yt}ft.Ia="serverreachability";function gu(c){C.call(this,ft.Ia,c)}T(gu,C);function ti(c){const y=sa();Dt(y,new gu(y))}ft.STAT_EVENT="statevent";function gs(c,y){C.call(this,ft.STAT_EVENT,c),this.stat=y}T(gs,C);function _t(c){const y=sa();Dt(y,new gs(y,c))}ft.Ja="timingevent";function ni(c,y){C.call(this,ft.Ja,c),this.size=y}T(ni,C);function ii(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function Wh(c,y,v,A,z,G){c.info(function(){if(c.g)if(G){var re="",we=G.split("&");for(let He=0;He<we.length;He++){var dt=we[He].split("=");if(dt.length>1){const st=dt[0];dt=dt[1];const Cn=st.split("_");re=Cn.length>=2&&Cn[1]=="type"?re+(st+"="+dt+"&"):re+(st+"=redacted&")}}}else re=null;else re=G;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+y+`
`+v+`
`+re})}function yu(c,y,v,A,z,G,re){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+y+`
`+v+`
`+G+" "+re})}function ri(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ef(c,v)+(A?" "+A:"")})}function ys(c,y){c.info(function(){return"TIMEOUT: "+y})}jn.prototype.info=function(){};function ef(c,y){if(!c.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var v=G[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let re=1;re<A.length;re++)A[re]=""}}}}return dr(G)}catch{return y}}var _s={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ro={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Co;function vs(){}T(vs,du),vs.prototype.g=function(){return new XMLHttpRequest},Co=new vs;function Mi(c){return encodeURIComponent(String(c))}function _u(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function zn(c,y,v,A){this.j=c,this.i=y,this.l=v,this.S=A||1,this.V=new ps(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var vt={},kt={};function si(c,y,v){c.M=1,c.A=Es(Tt(y)),c.u=v,c.R=!0,aa(c,null)}function aa(c,y){c.F=Date.now(),ai(c),c.B=Tt(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ca(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Bn,c.g=xu(c.j,v?y:null,!c.u),c.P>0&&(c.O=new en(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,A=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(bo[0]=z.toString()),z=bo);for(let G=0;G<z.length;G++){const re=rt(v,z[G],A||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ti(),Wh(c.i,c.v,c.B,c.l,c.S,c.u)}zn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Fn(c)==3?y.j():this.Y(c)},zn.prototype.Y=function(c){try{if(c==this.g)e:{const we=Fn(this.g),dt=this.g.ya(),He=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||zt(this.g)))){this.K||we!=4||dt==7||(dt==8||He<=0?ti(3):ti(2)),oi(this);var y=this.g.ca();this.X=y;var v=tf(this);if(this.o=y==200,yu(this.i,this.v,this.B,this.l,this.S,we,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(A)){var G=A;break t}}G=null}if(c=G)ri(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,c);else{this.o=!1,this.m=3,_t(12),dn(this),bn(this);break e}}if(this.R){c=!0;let st;for(;!this.K&&this.C<v.length;)if(st=Eu(this,v),st==kt){we==4&&(this.m=4,_t(14),c=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(st==vt){this.m=4,_t(15),ri(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ri(this.i,this.l,st,null),li(this,st);if(vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,_t(16),c=!1),this.o=this.o&&c,!c)ri(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),bn(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Ho(re),re.P=!0,_t(11))}}else ri(this.i,this.l,v,null),li(this,v);we==4&&dn(this),this.o&&!this.K&&(we==4?Nu(this.j,this):(this.o=!1,ai(this)))}else Vi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),dn(this),bn(this)}}}catch{}finally{}};function tf(c){if(!vu(c))return c.g.la();const y=zt(c.g);if(y==="")return"";let v="";const A=y.length,z=Fn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return dn(c),bn(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<A;G++)c.h.h=!0,v+=c.h.i.decode(y[G],{stream:!(z&&G==A-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function vu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Eu(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?kt:(v=Number(y.substring(v,A)),isNaN(v)?vt:(A+=1,A+v>y.length?kt:(y=y.slice(A,A+v),c.C=A+v,y)))}zn.prototype.cancel=function(){this.K=!0,dn(this)};function ai(c){c.T=Date.now()+c.H,oa(c,c.H)}function oa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ii(g(c.aa,c),y)}function oi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}zn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ys(this.i,this.B),this.M!=2&&(ti(),_t(17)),dn(this),this.m=2,bn(this)):oa(this,this.T-c)};function bn(c){c.j.I==0||c.K||Nu(c.j,c)}function dn(c){oi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,wo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function li(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||ci(v.h,c))){if(!c.L&&ci(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)pa(v),Tr(v);else break e;Cs(v),_t(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ii(g(v.Va,v),6e3));ui(v.h)<=1&&v.ta&&(v.ta=void 0)}else gi(v,11)}else if((c.L||v.g==c)&&pa(v),!D(y))for(z=v.Ba.g.parse(y),y=0;y<z.length;y++){let He=z[y];const st=He[0];if(!(st<=v.K))if(v.K=st,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const Cn=He[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const yi=He[4];yi!=null&&(v.za=yi,v.j.info("SVER="+v.za));const Gn=He[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(A=1.5*Gn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Yn=c.g;if(Yn){const Is=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Is){var G=A.h;G.g||Is.indexOf("spdy")==-1&&Is.indexOf("quic")==-1&&Is.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Do(G,G.h),G.h=null))}if(A.G){const ga=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(A.wa=ga,Ke(A.J,A.G,ga))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var re=c;if(A.na=Mu(A,A.L?A.ba:null,A.W),re.L){Oo(A.h,re);var we=re,dt=A.O;dt&&(we.H=dt),we.D&&(oi(we),ai(we)),A.g=re}else Cu(A);v.i.length>0&&pi(v)}else He[0]!="stop"&&He[0]!="close"||gi(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?gi(v,7):zo(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}ti(4)}catch{}}var Et=class{constructor(c,y){this.g=c,this.map=y}};function Io(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function No(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ui(c){return c.h?1:c.g?c.g.size:0}function ci(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Do(c,y){c.g?c.g.add(y):c.h=y}function Oo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Io.prototype.cancel=function(){if(this.i=Mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Mo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return L(c.i)}var Tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function la(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let z,G=null;A>=0?(z=c[v].substring(0,A),G=c[v].substring(A+1)):z=c[v],y(z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function mn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof mn?(this.l=c.l,Lt(this,c.j),this.o=c.o,this.g=c.g,mr(this,c.u),this.h=c.h,xo(this,wu(c.i)),this.m=c.m):c&&(y=String(c).match(Tu))?(this.l=!1,Lt(this,y[1]||"",!0),this.o=hi(y[2]||""),this.g=hi(y[3]||"",!0),mr(this,y[4]),this.h=hi(y[5]||"",!0),xo(this,y[6]||"",!0),this.m=hi(y[7]||"")):(this.l=!1,this.i=new gr(null,this.l))}mn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ts(y,ua,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ts(y,ua,!0),"@"),c.push(Mi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ts(v,v.charAt(0)=="/"?Vo:Su,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ts(v,Au)),c.join("")},mn.prototype.resolve=function(c){const y=Tt(this);let v=!!c.j;v?Lt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var A=c.h;if(v)mr(y,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=y.h.lastIndexOf("/");z!=-1&&(A=y.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const G=[];for(let re=0;re<z.length;){const we=z[re++];we=="."?A&&re==z.length&&G.push(""):we==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),A&&re==z.length&&G.push("")):(G.push(we),A=!0)}A=G.join("/")}else A=z}return v?y.h=A:v=c.i.toString()!=="",v?xo(y,wu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function Tt(c){return new mn(c)}function Lt(c,y,v){c.j=v?hi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function mr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function xo(c,y,v){y instanceof gr?(c.i=y,ha(c.i,c.l)):(v||(y=Ts(y,pr)),c.i=new gr(y,c.l))}function Ke(c,y,v){c.i.set(y,v)}function Es(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function hi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ts(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,rn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ua=/[#\/\?@]/g,Su=/[#\?:]/g,Vo=/[#\?]/g,pr=/[#\?@]/g,Au=/#/g;function gr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function sn(c){c.g||(c.g=new Map,c.h=0,c.i&&la(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=gr.prototype,r.add=function(c,y){sn(this),this.i=null,c=yr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function bu(c,y){sn(c),y=yr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function ko(c,y){return sn(c),y=yr(c,y),c.g.has(y)}r.forEach=function(c,y){sn(this),this.g.forEach(function(v,A){v.forEach(function(z){c.call(y,z,A,this)},this)},this)};function Lo(c,y){sn(c);let v=[];if(typeof y=="string")ko(c,y)&&(v=v.concat(c.g.get(yr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return sn(this),this.i=null,c=yr(this,c),ko(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Lo(this,c),c.length>0?String(c[0]):y):y};function ca(c,y,v){bu(c,y),v.length>0&&(c.i=null,c.g.set(yr(c,y),L(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var v=y[A];const z=Mi(v);v=Lo(this,v);for(let G=0;G<v.length;G++){let re=z;v[G]!==""&&(re+="="+Mi(v[G])),c.push(re)}}return this.i=c.join("&")};function wu(c){const y=new gr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function yr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ha(c,y){y&&!c.j&&(sn(c),c.i=null,c.g.forEach(function(v,A){const z=A.toLowerCase();A!=z&&(bu(this,A),ca(this,z,v))},c)),c.j=y}function Hn(c,y){const v=new jn;if(f.Image){const A=new Image;A.onload=E(wn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=E(wn,v,"TestLoadImage: error",!1,y,A),A.onabort=E(wn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=E(wn,v,"TestLoadImage: timeout",!1,y,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Po(c,y){const v=new jn,A=new AbortController,z=setTimeout(()=>{A.abort(),wn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(z),G.ok?wn(v,"TestPingServer: ok",!0,y):wn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),wn(v,"TestPingServer: error",!1,y)})}function wn(c,y,v,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(v)}catch{}}function _r(){this.g=new fu}function fi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(fi,du),fi.prototype.g=function(){return new Ss(this.i,this.h)};function Ss(c,y){yt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ss,yt),r=Ss.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,qn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function fa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?vr(this):qn(this),this.readyState==3&&fa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,vr(this))},r.Na=function(c){this.g&&(this.response=c,vr(this))},r.ga=function(){this.g&&vr(this)};function vr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,qn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ss.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Rn(c){let y="";return je(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function As(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Rn(v),typeof c=="string"?v!=null&&Mi(v):Ke(c,y,v))}function $e(c){yt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T($e,yt);var di=/^https?$/i,Uo=["POST","PUT"];r=$e.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Co.g(),this.g.onreadystatechange=b(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){bs(this,G);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)v.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())v.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),z=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Uo,y,void 0)>=0)||A||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,re]of v)this.g.setRequestHeader(G,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){bs(this,G)}};function bs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,jo(c),xi(c)}function jo(c){c.A||(c.A=!0,Dt(c,"complete"),Dt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Dt(this,"complete"),Dt(this,"abort"),xi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),$e.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ws(this):this.Xa())},r.Xa=function(){ws(this)};function ws(c){if(c.h&&typeof u<"u"){if(c.v&&Fn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Dt(c,"readystatechange"),Fn(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=G===0){let re=String(c.D).match(Tu)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),A=!di.test(re?re.toLowerCase():"")}v=A}if(v)Dt(c,"complete"),Dt(c,"success");else{c.o=6;try{var z=Fn(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",jo(c)}}finally{xi(c)}}}}function xi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Dt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Zh(y)}};function zt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(c){const y={};c=(c.g&&Fn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(D(c[A]))continue;var v=_u(c[A]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=y[z]||[];y[z]=G,G.push(v)}Ye(y,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Er(c){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,c),this.Za=mi("retryDelaySeedMs",1e4,c),this.Ta=mi("forwardChannelMaxRetries",2,c),this.va=mi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Io(c&&c.concurrentRequestLimit),this.Ba=new _r,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Er.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,A){_t(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Mu(this,null,this.W),pi(this)};function zo(c){if(da(c),c.I==3){var y=c.V++,v=Tt(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",y),Ke(v,"TYPE","terminate"),Rs(c,v),y=new zn(c,c.j,y),y.M=2,y.A=Es(Tt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=y.A,v=!0),v||(y.g=xu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),ai(y)}Ou(c)}function Tr(c){c.g&&(Ho(c),c.g.cancel(),c.g=null)}function da(c){Tr(c),c.v&&(f.clearTimeout(c.v),c.v=null),pa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function pi(c){if(!No(c.h)&&!c.m){c.m=!0;var y=c.Ea;ge||w(),me||(ge(),me=!0),N.add(y,c),c.D=0}}function ma(c,y){return ui(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ii(g(c.Ea,c,y),Du(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new zn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=V(G),ae(G,this.U)):G=this.U),this.u!==null||this.R||(z.J=G,G=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Ru(this,z,y),v=Tt(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),Rs(this,v),G&&(this.R?y="headers="+Mi(Rn(G))+"&"+y:this.u&&As(v,this.u,G)),Do(this.h,z),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",y),Ke(v,"SID","null"),z.U=!0,si(z,v,null)):si(z,v,y),this.I=2}}else this.I==3&&(c?Bo(this,c):this.i.length==0||No(this.h)||Bo(this))};function Bo(c,y){var v;y?v=y.l:v=c.V++;const A=Tt(c.J);Ke(A,"SID",c.M),Ke(A,"RID",v),Ke(A,"AID",c.K),Rs(c,A),c.u&&c.o&&As(A,c.u,c.o),v=new zn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Ru(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Do(c.h,v),si(v,A,y)}function Rs(c,y){c.H&&je(c.H,function(v,A){Ke(y,A,v)}),c.l&&je({},function(v,A){Ke(y,A,v)})}function Ru(c,y,v){v=Math.min(c.i.length,v);const A=c.l?g(c.l.Ka,c.l,c):null;e:{var z=c.i;let we=-1;for(;;){const dt=["count="+v];we==-1?v>0?(we=z[0].g,dt.push("ofs="+we)):we=0:dt.push("ofs="+we);let He=!0;for(let st=0;st<v;st++){var G=z[st].g;const Cn=z[st].map;if(G-=we,G<0)we=Math.max(0,z[st].g-100),He=!1;else try{G="req"+G+"_"||"";try{var re=Cn instanceof Map?Cn:Object.entries(Cn);for(const[yi,Gn]of re){let Yn=Gn;m(Gn)&&(Yn=dr(Gn)),dt.push(G+yi+"="+encodeURIComponent(Yn))}}catch(yi){throw dt.push(G+"type="+encodeURIComponent("_badmap")),yi}}catch{A&&A(Cn)}}if(He){re=dt.join("&");break e}}re=void 0}return c=c.i.splice(0,v),y.G=c,re}function Cu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;ge||w(),me||(ge(),me=!0),N.add(y,c),c.A=0}}function Cs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ii(g(c.Da,c),Du(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Iu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ii(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),Tr(this),Iu(this))};function Ho(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Iu(c){c.g=new zn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Tt(c.na);Ke(y,"RID","rpc"),Ke(y,"SID",c.M),Ke(y,"AID",c.K),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(y,"TO",c.ia),Ke(y,"TYPE","xmlhttp"),Rs(c,y),c.u&&c.o&&As(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Es(Tt(y)),v.u=null,v.R=!0,aa(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Tr(this),Cs(this),_t(19))};function pa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Nu(c,y){var v=null;if(c.g==y){pa(c),Ho(c),c.g=null;var A=2}else if(ci(c.h,y))v=y.G,Oo(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;A=sa(),Dt(A,new ni(A,v)),pi(c)}else Cu(c);else if(z=y.m,z==3||z==0&&y.X>0||!(A==1&&ma(c,y)||A==2&&Cs(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),z){case 1:gi(c,5);break;case 4:gi(c,10);break;case 3:gi(c,6);break;default:gi(c,2)}}}function Du(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function gi(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),A=c.Ua;const z=!A;A=new mn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Lt(A,"https"),Es(A),z?Hn(A.toString(),v):Po(A.toString(),v)}else _t(2);c.I=0,c.l&&c.l.pa(y),Ou(c),da(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Ou(c){if(c.I=0,c.ja=[],c.l){const y=Mo(c.h);(y.length!=0||c.i.length!=0)&&(B(c.ja,y),B(c.ja,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.oa()}}function Mu(c,y,v){var A=v instanceof mn?Tt(v):new mn(v);if(A.g!="")y&&(A.g=y+"."+A.g),mr(A,A.u);else{var z=f.location;A=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const G=new mn(null);A&&Lt(G,A),y&&(G.g=y),z&&mr(G,z),v&&(G.h=v),A=G}return v=c.G,y=c.wa,v&&y&&Ke(A,v,y),Ke(A,"VER",c.ka),Rs(c,A),A}function xu(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new $e(new fi({ab:v})):new $e(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}r=Vu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Sr(){}Sr.prototype.g=function(c,y){return new tn(c,y)};function tn(c,y){yt.call(this),this.g=new Er(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!D(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ki(this)}T(tn,yt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){zo(this.g)},tn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=dr(c),c=v);y.i.push(new Et(y.Ya++,c)),y.I==3&&pi(y)},tn.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,tn.Z.N.call(this)};function ku(c){jt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(ku,jt);function Lu(){An.call(this),this.status=1}T(Lu,An);function ki(c){this.g=c}T(ki,Vu),ki.prototype.ra=function(){Dt(this.g,"a")},ki.prototype.qa=function(c){Dt(this.g,new ku(c))},ki.prototype.pa=function(c){Dt(this.g,new Lu)},ki.prototype.oa=function(){Dt(this.g,"b")},Sr.prototype.createWebChannel=Sr.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,p0=function(){return new Sr},m0=function(){return sa()},d0=ft,Im={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_s.NO_ERROR=0,_s.TIMEOUT=8,_s.HTTP_ERROR=6,th=_s,Ro.COMPLETE="complete",f0=Ro,mu.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",yt.prototype.listen=yt.prototype.J,Dl=mu,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,h0=$e}).apply(typeof Hc<"u"?Hc:typeof self<"u"?self:typeof window<"u"?window:{});const iE="@firebase/firestore",rE="4.9.2";class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");let go="12.3.0";const $s=new Jm("@firebase/firestore");function Ya(){return $s.logLevel}function oe(r,...e){if($s.logLevel<=xe.DEBUG){const n=e.map(lp);$s.debug(`Firestore (${go}): ${r}`,...n)}}function ar(r,...e){if($s.logLevel<=xe.ERROR){const n=e.map(lp);$s.error(`Firestore (${go}): ${r}`,...n)}}function no(r,...e){if($s.logLevel<=xe.WARN){const n=e.map(lp);$s.warn(`Firestore (${go}): ${r}`,...n)}}function lp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Ee(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,g0(r,s,n)}function g0(r,e,n){let s=`FIRESTORE (${go}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ar(s),new Error(s)}function Ge(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||g0(e,o,s)}function be(r,e){return r}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends ur{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ns{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class y0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class s2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n($t.UNAUTHENTICATED)))}shutdown(){}}class a2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class o2{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ns;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ns,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ns)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new y0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class l2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class u2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new l2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class sE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class c2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new sE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new sE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function h2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class up{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=h2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function Nm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return hm(o)===hm(u)?Ve(o,u):hm(o)?1:-1}return Ve(r.length,e.length)}const f2=55296,d2=57343;function hm(r){const e=r.charCodeAt(0);return e>=f2&&e<=d2}function io(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const aE="__name__";class Si{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Si.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Si?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Si.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Si.isNumericId(e),o=Si.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Si.extractNumericId(e).compare(Si.extractNumericId(n)):Nm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ts.fromString(e.substring(4,e.length-2))}}class ot extends Si{construct(e,n,s){return new ot(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ot(n)}static emptyPath(){return new ot([])}}const m2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Si{construct(e,n,s){return new Yt(e,n,s)}static isValidIdentifier(e){return m2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===aE}static keyField(){return new Yt([aE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new he(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(ot.fromString(e))}static fromName(e){return new ye(ot.fromString(e).popFirst(5))}static empty(){return new ye(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new ot(e.slice()))}}function p2(r,e,n){if(!n)throw new he(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function g2(r,e,n,s){if(e===!0&&s===!0)throw new he(ne.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function oE(r){if(!ye.isDocumentKey(r))throw new he(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function _0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function cp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function Js(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cp(r);throw new he(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Ct(r,e){const n={typeString:r};return e&&(n.value=e),n}function su(r,e){if(!_0(r))throw new he(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new he(ne.INVALID_ARGUMENT,n);return!0}const lE=-62135596800,uE=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*uE);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<lE)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(su(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-lE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Ct("string",it._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new it(0,0))}static max(){return new Se(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Gl=-1;function y2(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new is(o,ye.empty(),e)}function _2(r){return new is(r.readTime,r.key,Gl)}class is{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new is(Se.min(),ye.empty(),Gl)}static max(){return new is(Se.max(),ye.empty(),Gl)}}function v2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}const E2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function yo(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==E2)throw r;oe("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((o=>o?te.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{f[g]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new te(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function S2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _o(r){return r.name==="IndexedDbTransactionError"}class kh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}kh.ce=-1;const hp=-1;function Lh(r){return r==null}function yh(r){return r===0&&1/r==-1/0}function A2(r){return typeof r=="number"&&Number.isInteger(r)&&!yh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const v0="";function b2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=cE(e)),e=w2(r.get(n),e);return cE(e)}function w2(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case v0:n+="";break;default:n+=u}}return n}function cE(r){return r+v0+""}function hE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function hs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function E0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qc(this.root,e,this.comparator,!0)}}class qc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Gt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fE(this.data.getIterator())}getIteratorFrom(e){return new fE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class fE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new Vt(Yt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return io(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class T0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new T0("Invalid base64 string: "+u):u}})(e);return new Kt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const R2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(r){if(Ge(!!r,39018),typeof r=="string"){let e=0;const n=R2.exec(r);if(Ge(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ss(r){return typeof r=="string"?Kt.fromBase64String(r):Kt.fromUint8Array(r)}const S0="server_timestamp",A0="__type__",b0="__previous_value__",w0="__local_write_time__";function fp(r){return(r?.mapValue?.fields||{})[A0]?.stringValue===S0}function Ph(r){const e=r.mapValue.fields[b0];return fp(e)?Ph(e):e}function Yl(r){const e=rs(r.mapValue.fields[w0].timestampValue);return new it(e.seconds,e.nanos)}class C2{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const _h="(default)";class Kl{constructor(e,n){this.projectId=e,this.database=n||_h}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database===_h}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}const R0="__type__",I2="__max__",Fc={mapValue:{}},C0="__vector__",vh="value";function as(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?fp(r)?4:D2(r)?9007199254740991:N2(r)?10:11:Ee(28295,{value:r})}function Di(r,e){if(r===e)return!0;const n=as(r);if(n!==as(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Yl(r).isEqual(Yl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=rs(o.timestampValue),m=rs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ss(o.bytesValue).isEqual(ss(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=gt(o.doubleValue),m=gt(u.doubleValue);return f===m?yh(f)===yh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return io(r.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(hE(f)!==hE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Di(f[p],m[p])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function Ql(r,e){return(r.values||[]).find((n=>Di(n,e)))!==void 0}function ro(r,e){if(r===e)return 0;const n=as(r),s=as(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=gt(u.integerValue||u.doubleValue),p=gt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return dE(r.timestampValue,e.timestampValue);case 4:return dE(Yl(r),Yl(e));case 5:return Nm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=ss(u),p=ss(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ve(m[g],p[g]);if(E!==0)return E}return Ve(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ve(gt(u.latitude),gt(f.latitude));return m!==0?m:Ve(gt(u.longitude),gt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return mE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[vh]?.arrayValue,E=p[vh]?.arrayValue,T=Ve(g?.values?.length||0,E?.values?.length||0);return T!==0?T:mE(g,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Fc.mapValue&&f===Fc.mapValue)return 0;if(u===Fc.mapValue)return 1;if(f===Fc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const b=Nm(p[T],E[T]);if(b!==0)return b;const L=ro(m[p[T]],g[E[T]]);if(L!==0)return L}return Ve(p.length,E.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function dE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=rs(r),s=rs(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function mE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=ro(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function so(r){return Dm(r)}function Dm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=rs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ss(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ye.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Dm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Dm(n.fields[f])}`;return o+"}"})(r.mapValue):Ee(61005,{value:r})}function nh(r){switch(as(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ph(r);return e?16+nh(e):16;case 5:return 2*r.stringValue.length;case 6:return ss(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+nh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return hs(s.fields,((u,f)=>{o+=u.length+nh(f)})),o})(r.mapValue);default:throw Ee(13486,{value:r})}}function Om(r){return!!r&&"integerValue"in r}function dp(r){return!!r&&"arrayValue"in r}function pE(r){return!!r&&"nullValue"in r}function gE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ih(r){return!!r&&"mapValue"in r}function N2(r){return(r?.mapValue?.fields||{})[R0]?.stringValue===C0}function Ll(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return hs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Ll(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ll(r.arrayValue.values[n]);return e}return{...r}}function D2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===I2}class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(n)}setAll(e){let n=Yt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Ll(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ih(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){hs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new fn(Ll(this.value))}}function I0(r){const e=[];return hs(r.fields,((n,s)=>{const o=new Yt([n]);if(ih(s)){const u=I0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Sn(e)}class Jt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Jt(e,0,Se.min(),Se.min(),Se.min(),fn.empty(),0)}static newFoundDocument(e,n,s,o){return new Jt(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new Jt(e,2,n,Se.min(),Se.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,Se.min(),Se.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Eh{constructor(e,n){this.position=e,this.inclusive=n}}function yE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=ro(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function _E(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Di(r.position[n],e.position[n]))return!1;return!0}class Th{constructor(e,n="asc"){this.field=e,this.dir=n}}function O2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class N0{}class Mt extends N0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new x2(e,n,s):n==="array-contains"?new L2(e,s):n==="in"?new P2(e,s):n==="not-in"?new U2(e,s):n==="array-contains-any"?new j2(e,s):new Mt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new V2(e,s):new k2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ro(n,this.value)):n!==null&&as(this.value)===as(n)&&this.matchesComparison(ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oi extends N0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Oi(e,n)}matches(e){return D0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function D0(r){return r.op==="and"}function O0(r){return M2(r)&&D0(r)}function M2(r){for(const e of r.filters)if(e instanceof Oi)return!1;return!0}function Mm(r){if(r instanceof Mt)return r.field.canonicalString()+r.op.toString()+so(r.value);if(O0(r))return r.filters.map((e=>Mm(e))).join(",");{const e=r.filters.map((n=>Mm(n))).join(",");return`${r.op}(${e})`}}function M0(r,e){return r instanceof Mt?(function(s,o){return o instanceof Mt&&s.op===o.op&&s.field.isEqual(o.field)&&Di(s.value,o.value)})(r,e):r instanceof Oi?(function(s,o){return o instanceof Oi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&M0(f,o.filters[m])),!0):!1})(r,e):void Ee(19439)}function x0(r){return r instanceof Mt?(function(n){return`${n.field.canonicalString()} ${n.op} ${so(n.value)}`})(r):r instanceof Oi?(function(n){return n.op.toString()+" {"+n.getFilters().map(x0).join(" ,")+"}"})(r):"Filter"}class x2 extends Mt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class V2 extends Mt{constructor(e,n){super(e,"in",n),this.keys=V0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class k2 extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=V0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function V0(r,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class L2 extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dp(n)&&Ql(n.arrayValue,this.value)}}class P2 extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ql(this.value.arrayValue,n)}}class U2 extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ql(this.value.arrayValue,n)}}class j2 extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Ql(this.value.arrayValue,s)))}}class z2{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function vE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new z2(r,e,n,s,o,u,f)}function mp(r){const e=be(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Mm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>so(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>so(s))).join(",")),e.Te=n}return e.Te}function pp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!O2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!M0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!_E(r.startAt,e.startAt)&&_E(r.endAt,e.endAt)}function xm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Uh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function B2(r,e,n,s,o,u,f,m){return new Uh(r,e,n,s,o,u,f,m)}function gp(r){return new Uh(r)}function EE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function H2(r){return r.collectionGroup!==null}function Pl(r){const e=be(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Vt(Yt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Th(u,s))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new Th(Yt.keyField(),s))}return e.Ie}function wi(r){const e=be(r);return e.Ee||(e.Ee=q2(e,Pl(r))),e.Ee}function q2(r,e){if(r.limitType==="F")return vE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Th(o.field,u)}));const n=r.endAt?new Eh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Eh(r.startAt.position,r.startAt.inclusive):null;return vE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Vm(r,e,n){return new Uh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function jh(r,e){return pp(wi(r),wi(e))&&r.limitType===e.limitType}function k0(r){return`${mp(wi(r))}|lt:${r.limitType}`}function Ka(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>x0(o))).join(", ")}]`),Lh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>so(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>so(o))).join(",")),`Target(${s})`})(wi(r))}; limitType=${r.limitType})`}function zh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Pl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=yE(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,Pl(s),o)||s.endAt&&!(function(f,m,p){const g=yE(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,Pl(s),o))})(r,e)}function F2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function L0(r){return(e,n)=>{let s=!1;for(const o of Pl(r)){const u=G2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function G2(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?ro(p,g):Ee(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}class Ws{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){hs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return E0(this.inner)}size(){return this.innerSize}}const Y2=new ut(ye.comparator);function or(){return Y2}const P0=new ut(ye.comparator);function Ol(...r){let e=P0;for(const n of r)e=e.insert(n.key,n);return e}function U0(r){let e=P0;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Gs(){return Ul()}function j0(){return Ul()}function Ul(){return new Ws((r=>r.toString()),((r,e)=>r.isEqual(e)))}const K2=new ut(ye.comparator),Q2=new Vt(ye.comparator);function ke(...r){let e=Q2;for(const n of r)e=e.add(n);return e}const X2=new Vt(Ve);function $2(){return X2}function yp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(e)?"-0":e}}function z0(r){return{integerValue:""+r}}function J2(r,e){return A2(e)?z0(e):yp(r,e)}class Bh{constructor(){this._=void 0}}function Z2(r,e,n){return r instanceof Sh?(function(o,u){const f={fields:{[A0]:{stringValue:S0},[w0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&fp(u)&&(u=Ph(u)),u&&(f.fields[b0]=u),{mapValue:f}})(n,e):r instanceof ao?H0(r,e):r instanceof oo?q0(r,e):(function(o,u){const f=B0(o,u),m=TE(f)+TE(o.Ae);return Om(f)&&Om(o.Ae)?z0(m):yp(o.serializer,m)})(r,e)}function W2(r,e,n){return r instanceof ao?H0(r,e):r instanceof oo?q0(r,e):n}function B0(r,e){return r instanceof Ah?(function(s){return Om(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Sh extends Bh{}class ao extends Bh{constructor(e){super(),this.elements=e}}function H0(r,e){const n=F0(e);for(const s of r.elements)n.some((o=>Di(o,s)))||n.push(s);return{arrayValue:{values:n}}}class oo extends Bh{constructor(e){super(),this.elements=e}}function q0(r,e){let n=F0(e);for(const s of r.elements)n=n.filter((o=>!Di(o,s)));return{arrayValue:{values:n}}}class Ah extends Bh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function TE(r){return gt(r.integerValue||r.doubleValue)}function F0(r){return dp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class G0{constructor(e,n){this.field=e,this.transform=n}}function eN(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof ao&&o instanceof ao||s instanceof oo&&o instanceof oo?io(s.elements,o.elements,Di):s instanceof Ah&&o instanceof Ah?Di(s.Ae,o.Ae):s instanceof Sh&&o instanceof Sh})(r.transform,e.transform)}class tN{constructor(e,n){this.version=e,this.transformResults=n}}class Ri{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ri}static exists(e){return new Ri(void 0,e)}static updateTime(e){return new Ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Hh{}function Y0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Q0(r.key,Ri.none()):new au(r.key,r.data,Ri.none());{const n=r.data,s=fn.empty();let o=new Vt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new fs(r.key,s,new Sn(o.toArray()),Ri.none())}}function nN(r,e,n){r instanceof au?(function(o,u,f){const m=o.value.clone(),p=AE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof fs?(function(o,u,f){if(!rh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=AE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(K0(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function jl(r,e,n,s){return r instanceof au?(function(u,f,m,p){if(!rh(u.precondition,f))return m;const g=u.value.clone(),E=bE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof fs?(function(u,f,m,p){if(!rh(u.precondition,f))return m;const g=bE(u.fieldTransforms,p,f),E=f.data;return E.setAll(K0(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,f,m){return rh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function iN(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=B0(s.transform,o||null);u!=null&&(n===null&&(n=fn.empty()),n.set(s.field,u))}return n||null}function SE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&io(s,o,((u,f)=>eN(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class au extends Hh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class fs extends Hh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function K0(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function AE(r,e,n){const s=new Map;Ge(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,W2(f,m,n[o]))}return s}function bE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,Z2(u,f,e))}return s}class Q0 extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rN extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&nN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=jl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=jl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=j0();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=Y0(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&io(this.mutations,e.mutations,((n,s)=>SE(n,s)))&&io(this.baseMutations,e.baseMutations,((n,s)=>SE(n,s)))}}class _p{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return K2})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new _p(e,n,s,o)}}class aN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class oN{constructor(e,n){this.count=e,this.unchangedNames=n}}var Rt,Ue;function lN(r){switch(r){case ne.OK:return Ee(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function X0(r){if(r===void 0)return ar("GRPC error has no .code"),ne.UNKNOWN;switch(r){case Rt.OK:return ne.OK;case Rt.CANCELLED:return ne.CANCELLED;case Rt.UNKNOWN:return ne.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return ne.INTERNAL;case Rt.UNAVAILABLE:return ne.UNAVAILABLE;case Rt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Rt.NOT_FOUND:return ne.NOT_FOUND;case Rt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Rt.ABORTED:return ne.ABORTED;case Rt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Rt.DATA_LOSS:return ne.DATA_LOSS;default:return Ee(39323,{code:r})}}(Ue=Rt||(Rt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";function uN(){return new TextEncoder}const cN=new ts([4294967295,4294967295],0);function wE(r){const e=uN().encode(r),n=new c0;return n.update(e),new Uint8Array(n.digest())}function RE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ts([n,s],0),new ts([o,u],0)]}class vp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ml(`Invalid padding: ${n}`);if(s<0)throw new Ml(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ts.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ts.fromNumber(s)));return o.compare(cN)===1&&(o=new ts([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=wE(e),[s,o]=RE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new vp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=wE(e),[s,o]=RE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class qh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new qh(Se.min(),o,new ut(Ve),or(),ke())}}class ou{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ou(s,n,ke(),ke(),ke())}}class sh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class $0{constructor(e,n){this.targetId=e,this.Ce=n}}class J0{constructor(e,n,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class CE{constructor(){this.ve=0,this.Fe=IE(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),s=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new ou(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=IE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hN{constructor(e){this.Ge=e,this.ze=new Map,this.je=or(),this.Je=Gc(),this.He=Gc(),this.Ye=new ut(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(xm(u))if(s===0){const f=new ye(u.path);this.et(n,f,Jt.newNoDocument(f,Se.min()))}else Ge(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ss(s).toUint8Array()}catch(p){if(p instanceof T0)return no("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new vp(f,o,u)}catch(p){return no(p instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&xm(m.target)){const p=new ye(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Jt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=ke();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new qh(e,n,this.Ye,this.je,s);return this.je=or(),this.Je=Gc(),this.He=Gc(),this.Ye=new ut(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new CE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Vt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Vt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new CE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Gc(){return new ut(ye.comparator)}function IE(){return new ut(ye.comparator)}const fN={asc:"ASCENDING",desc:"DESCENDING"},dN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mN={and:"AND",or:"OR"};class pN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function km(r,e){return r.useProto3Json||Lh(e)?e:{value:e}}function bh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Z0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function gN(r,e){return bh(r,e.toTimestamp())}function Ci(r){return Ge(!!r,49232),Se.fromTimestamp((function(n){const s=rs(n);return new it(s.seconds,s.nanos)})(r))}function Ep(r,e){return Lm(r,e).canonicalString()}function Lm(r,e){const n=(function(o){return new ot(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function W0(r){const e=ot.fromString(r);return Ge(rS(e),10190,{key:e.toString()}),e}function Pm(r,e){return Ep(r.databaseId,e.path)}function fm(r,e){const n=W0(e);if(n.get(1)!==r.databaseId.projectId)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(tS(n))}function eS(r,e){return Ep(r.databaseId,e)}function yN(r){const e=W0(r);return e.length===4?ot.emptyPath():tS(e)}function Um(r){return new ot(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function tS(r){return Ge(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function NE(r,e,n){return{name:Pm(r,e),fields:n.value.mapValue.fields}}function _N(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Ge(E===void 0||typeof E=="string",58123),Kt.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Kt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?ne.UNKNOWN:X0(g.code);return new he(E,g.message||"")})(f);n=new J0(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=fm(r,s.document.name),u=Ci(s.document.updateTime),f=s.document.createTime?Ci(s.document.createTime):Se.min(),m=new fn({mapValue:{fields:s.document.fields}}),p=Jt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new sh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=fm(r,s.document),u=s.readTime?Ci(s.readTime):Se.min(),f=Jt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new sh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=fm(r,s.document),u=s.removedTargetIds||[];n=new sh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new oN(o,u),m=s.targetId;n=new $0(m,f)}}return n}function vN(r,e){let n;if(e instanceof au)n={update:NE(r,e.key,e.value)};else if(e instanceof Q0)n={delete:Pm(r,e.key)};else if(e instanceof fs)n={update:NE(r,e.key,e.data),updateMask:IN(e.fieldMask)};else{if(!(e instanceof rN))return Ee(16599,{Vt:e.type});n={verify:Pm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Sh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ao)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof oo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ah)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:gN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(r,e.precondition)),n}function EN(r,e){return r&&r.length>0?(Ge(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Ci(o.updateTime):Ci(u);return f.isEqual(Se.min())&&(f=Ci(u)),new tN(f,o.transformResults||[])})(n,e)))):[]}function TN(r,e){return{documents:[eS(r,e.path)]}}function SN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=eS(r,o);const u=(function(g){if(g.length!==0)return iS(Oi.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(b){return{field:Qa(b.field),direction:wN(b.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=km(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function AN(r){let e=yN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const b=nS(T);return b instanceof Oi&&O0(b)?b.getFilters():[b]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((b=>(function(B){return new Th(Xa(B.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(b)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let b;return b=typeof T=="object"?T.value:T,Lh(b)?null:b})(n.limit));let p=null;n.startAt&&(p=(function(T){const b=!!T.before,L=T.values||[];return new Eh(L,b)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const b=!T.before,L=T.values||[];return new Eh(L,b)})(n.endAt)),B2(e,o,f,u,m,"F",p,g)}function bN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Xa(n.unaryFilter.field);return Mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Xa(n.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Xa(n.unaryFilter.field);return Mt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Xa(n.unaryFilter.field);return Mt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Mt.create(Xa(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Oi.create(n.compositeFilter.filters.map((s=>nS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(r):Ee(30097,{filter:r})}function wN(r){return fN[r]}function RN(r){return dN[r]}function CN(r){return mN[r]}function Qa(r){return{fieldPath:r.canonicalString()}}function Xa(r){return Yt.fromServerFormat(r.fieldPath)}function iS(r){return r instanceof Mt?(function(n){if(n.op==="=="){if(gE(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NAN"}};if(pE(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gE(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NAN"}};if(pE(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(n.field),op:RN(n.op),value:n.value}}})(r):r instanceof Oi?(function(n){const s=n.getFilters().map((o=>iS(o)));return s.length===1?s[0]:{compositeFilter:{op:CN(n.op),filters:s}}})(r):Ee(54877,{filter:r})}function IN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function rS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Jr{constructor(e,n,s,o,u=Se.min(),f=Se.min(),m=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class NN{constructor(e){this.yt=e}}function DN(r){const e=AN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Vm(e,e.limit,"L"):e}class ON{constructor(){this.Cn=new MN}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(is.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(is.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class MN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Vt(ot.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Vt(ot.comparator)).toArray()}}const DE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sS=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(sS,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class lo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new lo(0)}static cr(){return new lo(-1)}}const OE="LruGarbageCollector",xN=1048576;function ME([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class VN{constructor(e){this.Ir=e,this.buffer=new Vt(ME),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();ME(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class kN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(OE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_o(n)?oe(OE,"Ignoring IndexedDB error during garbage collection: ",n):await yo(n)}await this.Vr(3e5)}))}}class LN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(kh.ce);const s=new VN(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(DE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),Ya()<=xe.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function PN(r,e){return new LN(r,e)}class UN{constructor(){this.changes=new Ws((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class zN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&jl(s.mutation,o,Sn.empty(),it.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ke()){const o=Gs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Ol();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Gs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ke())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=or();const f=Ul(),m=(function(){return Ul()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof fs)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),jl(E.mutation,g,E.mutation.getFieldMask(),it.now())):f.set(g.key,Sn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>m.set(g,new jN(E,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Ul();let o=new ut(((f,m)=>f-m)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Sn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=j0();E.forEach((b=>{if(!u.has(b)){const L=Y0(n.get(b),s.get(b));L!==null&&T.set(b,L),u=u.add(b)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,T))}return te.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):H2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(Gs());let m=Gl,p=u;return f.next((g=>te.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next((b=>{p=p.insert(E,b)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,ke()))).next((E=>({batchId:m,changes:U0(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let o=Ol();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ol();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(p=>{const g=(function(T,b){return new Uh(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((T,b)=>{f=f.insert(T,b)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Jt.newInvalidDocument(E)))}));let m=Ol();return f.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&jl(E.mutation,g,Sn.empty(),it.now()),zh(n,g)&&(m=m.insert(p,g))})),m}))}}class BN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ci(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:DN(o.bundledQuery),readTime:Ci(o.readTime)}})(n)),te.resolve()}}class HN{constructor(){this.overlays=new ut(ye.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Gs();return te.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=Gs(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Gs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Gs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return te.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new aN(n,s));let u=this.qr.get(n);u===void 0&&(u=ke(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class qN{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class Tp{constructor(){this.Qr=new Vt(Ut.$r),this.Ur=new Vt(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Ut(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Ut(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new ot([])),s=new Ut(n,e),o=new Ut(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new ot([])),s=new Ut(n,e),o=new Ut(n,e+1);let u=ke();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Ut(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class FN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(Ut.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new sN(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Ut(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?hp:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Vt(Ve);return n.forEach((o=>{const u=new Ut(o,0),f=new Ut(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new Ut(new ye(u),0);let m=new Vt(Ve);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),f),te.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(n.mutations,(o=>{const u=new Ut(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Ut(n,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class GN{constructor(e){this.ri=e,this.docs=(function(){return new ut(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let s=or();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Jt.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=or();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||v2(_2(E),s)<=0||(o.has(E.key)||zh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new YN(this)}getSize(e){return te.resolve(this.size)}}class YN extends UN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class KN{constructor(e){this.persistence=e,this.si=new Ws((n=>mp(n)),pp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new Tp,this.targetCount=0,this.ai=lo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new lo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}class aS{constructor(e,n){this.ui={},this.overlays={},this.ci=new kh(0),this.li=!1,this.li=!0,this.hi=new qN,this.referenceDelegate=e(this),this.Pi=new KN(this),this.indexManager=new ON,this.remoteDocumentCache=(function(o){return new GN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new NN(n),this.Ii=new BN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new HN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new FN(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){oe("MemoryPersistence","Starting transaction:",e);const o=new QN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return te.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class QN extends T2{constructor(e){super(),this.currentSequenceNumber=e}}class Sp{constructor(e){this.persistence=e,this.Ri=new Tp,this.Vi=null}static mi(e){return new Sp(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(s=>{const o=ye.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Se.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class wh{constructor(e,n){this.persistence=e,this.pi=new Ws((s=>b2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=PN(this,n)}static mi(e,n){return new wh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?te.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Se.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nh(e.data.value)),n}br(e,n,s){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ap{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ap(e,n.fromCache,s,o)}}class XN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class $N{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return T1()?8:S2(Zt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new XN;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Ya()<=xe.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Ka(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(Ya()<=xe.DEBUG&&oe("QueryEngine","Query:",Ka(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ya()<=xe.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Ka(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wi(n))):te.resolve())}ys(e,n){if(EE(n))return te.resolve(null);let s=wi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Vm(n,null,"F"),s=wi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=ke(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,Vm(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return EE(n)||o.isEqual(Se.min())?te.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?te.resolve(null):(Ya()<=xe.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ka(n)),this.vs(e,f,n,y2(o,Gl)).next((m=>m)))}))}Ds(e,n){let s=new Vt(L0(e));return n.forEach(((o,u)=>{zh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Ya()<=xe.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Ka(n)),this.ps.getDocumentsMatchingQuery(e,n,is.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const bp="LocalStore",JN=3e8;class ZN{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ut(Ve),this.xs=new Ws((u=>mp(u)),pp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function WN(r,e,n,s){return new ZN(r,e,n,s)}async function oS(r,e){const n=be(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=ke();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function eD(r,e){const n=be(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,b=T.keys();let L=te.resolve();return b.forEach((B=>{L=L.next((()=>E.getEntry(p,B))).next((Q=>{const j=g.docVersions.get(B);Ge(j!==null,48541),Q.version.compareTo(j)<0&&(T.applyToRemoteDocument(Q,g),Q.isValidDocument()&&(Q.setReadTime(g.commitVersion),E.addEntry(Q)))}))})),L.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=ke();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function lS(r){const e=be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function tD(r,e){const n=be(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const b=o.get(T);if(!b)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let L=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?L=L.withResumeToken(Kt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(T,L),(function(Q,j,Z){return Q.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=JN?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(b,L,E)&&m.push(n.Pi.updateTargetData(u,L))}));let p=or(),g=ke();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(nD(u,f,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(Se.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return te.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function nD(r,e,n){let s=ke(),o=ke();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=or();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):oe(bp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function iD(r,e){const n=be(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=hp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function rD(r,e){const n=be(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,te.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Jr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function jm(r,e,n){const s=be(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!_o(f))throw f;oe(bp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function xE(r,e,n){const s=be(r);let o=Se.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,E){const T=be(p),b=T.xs.get(E);return b!==void 0?te.resolve(T.Ms.get(b)):T.Pi.getTargetData(g,E)})(s,f,wi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:ke()))).next((m=>(sD(s,F2(e),m),{documents:m,Qs:u})))))}function sD(r,e,n){let s=r.Os.get(e)||Se.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class VE{constructor(){this.activeTargetIds=$2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aD{constructor(){this.Mo=new VE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new VE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class oD{Oo(e){}shutdown(){}}const kE="ConnectivityMonitor";class LE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(kE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(kE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Yc=null;function zm(){return Yc===null?Yc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yc++,"0x"+Yc.toString(16)}const dm="RestConnection",lD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===_h?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=zm(),m=this.zo(e,n.toUriEncodedString());oe(dm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=fo(g);return this.Jo(e,m,p,s,E).then((T=>(oe(dm,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw no(dm,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+go})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=lD[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class cD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xt="WebChannelConnection";class hD extends uD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=zm();return new Promise(((m,p)=>{const g=new h0;g.setWithCredentials(!0),g.listenOnce(f0.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case th.NO_ERROR:const T=g.getResponseJson();oe(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case th.TIMEOUT:oe(Xt,`RPC '${e}' ${f} timed out`),p(new he(ne.DEADLINE_EXCEEDED,"Request time out"));break;case th.HTTP_ERROR:const b=g.getStatus();if(oe(Xt,`RPC '${e}' ${f} failed with status:`,b,"response text:",g.getResponseText()),b>0){let L=g.getResponseJson();Array.isArray(L)&&(L=L[0]);const B=L?.error;if(B&&B.status&&B.message){const Q=(function(Z){const K=Z.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(K)>=0?K:ne.UNKNOWN})(B.status);p(new he(Q,B.message))}else p(new he(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new he(ne.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{oe(Xt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);oe(Xt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=zm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=p0(),m=m0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");oe(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=f.createWebChannel(E,p);this.I_(T);let b=!1,L=!1;const B=new cD({Yo:j=>{L?oe(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(b||(oe(Xt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),b=!0),oe(Xt,`RPC '${e}' stream ${o} sending:`,j),T.send(j))},Zo:()=>T.close()}),Q=(j,Z,K)=>{j.listen(Z,(ie=>{try{K(ie)}catch(de){setTimeout((()=>{throw de}),0)}}))};return Q(T,Dl.EventType.OPEN,(()=>{L||(oe(Xt,`RPC '${e}' stream ${o} transport opened.`),B.o_())})),Q(T,Dl.EventType.CLOSE,(()=>{L||(L=!0,oe(Xt,`RPC '${e}' stream ${o} transport closed`),B.a_(),this.E_(T))})),Q(T,Dl.EventType.ERROR,(j=>{L||(L=!0,no(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),B.a_(new he(ne.UNAVAILABLE,"The operation could not be completed")))})),Q(T,Dl.EventType.MESSAGE,(j=>{if(!L){const Z=j.data[0];Ge(!!Z,16349);const K=Z,ie=K?.error||K[0]?.error;if(ie){oe(Xt,`RPC '${e}' stream ${o} received error:`,ie);const de=ie.status;let ge=(function(w){const I=Rt[w];if(I!==void 0)return X0(I)})(de),me=ie.message;ge===void 0&&(ge=ne.INTERNAL,me="Unknown error status: "+de+" with message "+ie.message),L=!0,B.a_(new he(ge,me)),T.close()}else oe(Xt,`RPC '${e}' stream ${o} received:`,Z),B.u_(Z)}})),Q(m,d0.STAT_EVENT,(j=>{j.stat===Im.PROXY?oe(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===Im.NOPROXY&&oe(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{B.__()}),0),B}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function mm(){return typeof document<"u"?document:null}function Fh(r){return new pN(r,!0)}class uS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const PE="PersistentStream";class cS{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(ar(n.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(PE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(oe(PE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class fD extends cS{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=_N(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?Ci(f.readTime):Se.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Um(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=xm(p)?{documents:TN(u,p)}:{query:SN(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Z0(u,f.resumeToken);const g=km(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=bh(u,f.snapshotVersion.toTimestamp());const g=km(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=bN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Um(this.serializer),n.removeTarget=e,this.q_(n)}}class dD extends cS{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=EN(e.writeResults,e.commitTime),s=Ci(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Um(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>vN(this.serializer,s)))};this.q_(n)}}class mD{}class pD extends mD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Lm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ne.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Lm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(ne.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class gD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ar(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Zs="RemoteStore";class yD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ea(this)&&(oe(Zs,"Restarting streams for network reachability change."),await(async function(p){const g=be(p);g.Ea.add(4),await lu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Gh(g)})(this))}))})),this.Ra=new gD(s,o)}}async function Gh(r){if(ea(r))for(const e of r.da)await e(!0)}async function lu(r){for(const e of r.da)await e(!1)}function hS(r,e){const n=be(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ip(n)?Cp(n):vo(n).O_()&&Rp(n,e))}function wp(r,e){const n=be(r),s=vo(n);n.Ia.delete(e),s.O_()&&fS(n,e),n.Ia.size===0&&(s.O_()?s.L_():ea(n)&&n.Ra.set("Unknown"))}function Rp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vo(r).Y_(e)}function fS(r,e){r.Va.Ue(e),vo(r).Z_(e)}function Cp(r){r.Va=new hN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),vo(r).start(),r.Ra.ua()}function Ip(r){return ea(r)&&!vo(r).x_()&&r.Ia.size>0}function ea(r){return be(r).Ea.size===0}function dS(r){r.Va=void 0}async function _D(r){r.Ra.set("Online")}async function vD(r){r.Ia.forEach(((e,n)=>{Rp(r,e)}))}async function ED(r,e){dS(r),Ip(r)?(r.Ra.ha(e),Cp(r)):r.Ra.set("Unknown")}async function TD(r,e,n){if(r.Ra.set("Online"),e instanceof J0&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){oe(Zs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Rh(r,s)}else if(e instanceof sh?r.Va.Ze(e):e instanceof $0?r.Va.st(e):r.Va.tt(e),!n.isEqual(Se.min()))try{const s=await lS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Kt.EMPTY_BYTE_STRING,E.snapshotVersion)),fS(u,p);const T=new Jr(E.target,p,g,E.sequenceNumber);Rp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){oe(Zs,"Failed to raise snapshot:",s),await Rh(r,s)}}async function Rh(r,e,n){if(!_o(e))throw e;r.Ea.add(1),await lu(r),r.Ra.set("Offline"),n||(n=()=>lS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{oe(Zs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Gh(r)}))}function mS(r,e){return e().catch((n=>Rh(r,n,e)))}async function Yh(r){const e=be(r),n=os(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hp;for(;SD(e);)try{const o=await iD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,AD(e,o)}catch(o){await Rh(e,o)}pS(e)&&gS(e)}function SD(r){return ea(r)&&r.Ta.length<10}function AD(r,e){r.Ta.push(e);const n=os(r);n.O_()&&n.X_&&n.ea(e.mutations)}function pS(r){return ea(r)&&!os(r).x_()&&r.Ta.length>0}function gS(r){os(r).start()}async function bD(r){os(r).ra()}async function wD(r){const e=os(r);for(const n of r.Ta)e.ea(n.mutations)}async function RD(r,e,n){const s=r.Ta.shift(),o=_p.from(s,e,n);await mS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Yh(r)}async function CD(r,e){e&&os(r).X_&&await(async function(s,o){if((function(f){return lN(f)&&f!==ne.ABORTED})(o.code)){const u=s.Ta.shift();os(s).B_(),await mS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Yh(s)}})(r,e),pS(r)&&gS(r)}async function UE(r,e){const n=be(r);n.asyncQueue.verifyOperationInProgress(),oe(Zs,"RemoteStore received new credentials");const s=ea(n);n.Ea.add(3),await lu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Gh(n)}async function ID(r,e){const n=be(r);e?(n.Ea.delete(2),await Gh(n)):e||(n.Ea.add(2),await lu(n),n.Ra.set("Unknown"))}function vo(r){return r.ma||(r.ma=(function(n,s,o){const u=be(n);return u.sa(),new fD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:_D.bind(null,r),t_:vD.bind(null,r),r_:ED.bind(null,r),H_:TD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Ip(r)?Cp(r):r.Ra.set("Unknown")):(await r.ma.stop(),dS(r))}))),r.ma}function os(r){return r.fa||(r.fa=(function(n,s,o){const u=be(n);return u.sa(),new dD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:bD.bind(null,r),r_:CD.bind(null,r),ta:wD.bind(null,r),na:RD.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Yh(r)):(await r.fa.stop(),r.Ta.length>0&&(oe(Zs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Np{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Np(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dp(r,e){if(ar("AsyncQueue",`${e}: ${r}`),_o(r))return new he(ne.UNAVAILABLE,`${e}: ${r}`);throw r}class eo{static emptySet(e){return new eo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Ol(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new eo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class jE{constructor(){this.ga=new ut(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class uo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new uo(e,n,eo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class ND{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class DD{constructor(){this.queries=zE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=be(n),u=o.queries;o.queries=zE(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new he(ne.ABORTED,"Firestore shutting down"))}}function zE(){return new Ws((r=>k0(r)),jh)}async function OD(r,e){const n=be(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new ND,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Dp(f,`Initialization of query '${Ka(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Op(n)}async function MD(r,e){const n=be(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function xD(r,e){const n=be(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Op(n)}function VD(r,e,n){const s=be(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Op(r){r.Ca.forEach((e=>{e.next()}))}var Bm,BE;(BE=Bm||(Bm={})).Ma="default",BE.Cache="cache";class kD{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new uo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Bm.Cache}}class yS{constructor(e){this.key=e}}class _S{constructor(e){this.key=e}}class LD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=L0(e),this.tu=new eo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new jE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const b=o.get(E),L=zh(this.query,T)?T:null,B=!!b&&this.mutatedKeys.has(b.key),Q=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let j=!1;b&&L?b.data.isEqual(L.data)?B!==Q&&(s.track({type:3,doc:L}),j=!0):this.su(b,L)||(s.track({type:2,doc:L}),j=!0,(p&&this.eu(L,p)>0||g&&this.eu(L,g)<0)&&(m=!0)):!b&&L?(s.track({type:0,doc:L}),j=!0):b&&!L&&(s.track({type:1,doc:b}),j=!0,(p||g)&&(m=!0)),j&&(L?(f=f.add(L),u=Q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,T)=>(function(L,B){const Q=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:j})}};return Q(L)-Q(B)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new uo(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new _S(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new yS(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Mp="SyncEngine";class PD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class UD{constructor(e){this.key=e,this.hu=!1}}class jD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ws((m=>k0(m)),jh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(ye.comparator),this.Au=new Map,this.Ru=new Tp,this.Vu={},this.mu=new Map,this.fu=lo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zD(r,e,n=!0){const s=bS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await vS(s,e,n,!0),o}async function BD(r,e){const n=bS(r);await vS(n,e,!0,!1)}async function vS(r,e,n,s){const o=await rD(r.localStore,wi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await HD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&hS(r.remoteStore,o),m}async function HD(r,e,n,s,o){r.pu=(T,b,L)=>(async function(Q,j,Z,K){let ie=j.view.ru(Z);ie.Cs&&(ie=await xE(Q.localStore,j.query,!1).then((({documents:N})=>j.view.ru(N,ie))));const de=K&&K.targetChanges.get(j.targetId),ge=K&&K.targetMismatches.get(j.targetId)!=null,me=j.view.applyChanges(ie,Q.isPrimaryClient,de,ge);return qE(Q,j.targetId,me.au),me.snapshot})(r,T,b,L);const u=await xE(r.localStore,e,!0),f=new LD(e,u.Qs),m=f.ru(u.documents),p=ou.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);qE(r,n,g.au);const E=new PD(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function qD(r,e,n){const s=be(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!jh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await jm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&wp(s.remoteStore,o.targetId),Hm(s,o.targetId)})).catch(yo)):(Hm(s,o.targetId),await jm(s.localStore,o.targetId,!0))}async function FD(r,e){const n=be(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),wp(n.remoteStore,s.targetId))}async function GD(r,e,n){const s=ZD(r);try{const o=await(function(f,m){const p=be(f),g=it.now(),E=m.reduce(((L,B)=>L.add(B.key)),ke());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let B=or(),Q=ke();return p.Ns.getEntries(L,E).next((j=>{B=j,B.forEach(((Z,K)=>{K.isValidDocument()||(Q=Q.add(Z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(L,B))).next((j=>{T=j;const Z=[];for(const K of m){const ie=iN(K,T.get(K.key).overlayedDocument);ie!=null&&Z.push(new fs(K.key,ie,I0(ie.value.mapValue),Ri.exists(!0)))}return p.mutationQueue.addMutationBatch(L,g,Z,m)})).next((j=>{b=j;const Z=j.applyToLocalDocumentSet(T,Q);return p.documentOverlayCache.saveOverlays(L,j.batchId,Z)}))})).then((()=>({batchId:b.batchId,changes:U0(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new ut(Ve)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,n),await uu(s,o.changes),await Yh(s.remoteStore)}catch(o){const u=Dp(o,"Failed to persist write");n.reject(u)}}async function ES(r,e){const n=be(r);try{const s=await tD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ge(f.hu,14607):o.removedDocuments.size>0&&(Ge(f.hu,42227),f.hu=!1))})),await uu(n,s,e)}catch(s){await yo(s)}}function HE(r,e,n){const s=be(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=be(f);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const b of T.Sa)b.va(m)&&(g=!0)})),g&&Op(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function YD(r,e,n){const s=be(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ut(ye.comparator);f=f.insert(u,Jt.newNoDocument(u,Se.min()));const m=ke().add(u),p=new qh(Se.min(),new Map,new ut(Ve),f,m);await ES(s,p),s.du=s.du.remove(u),s.Au.delete(e),xp(s)}else await jm(s.localStore,e,!1).then((()=>Hm(s,e,n))).catch(yo)}async function KD(r,e){const n=be(r),s=e.batch.batchId;try{const o=await eD(n.localStore,e);SS(n,s,null),TS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await uu(n,o)}catch(o){await yo(o)}}async function QD(r,e,n){const s=be(r);try{const o=await(function(f,m){const p=be(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Ge(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);SS(s,e,n),TS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await uu(s,o)}catch(o){await yo(o)}}function TS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function SS(r,e,n){const s=be(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Hm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||AS(r,s)}))}function AS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(wp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),xp(r))}function qE(r,e,n){for(const s of n)s instanceof yS?(r.Ru.addReference(s.key,e),XD(r,s)):s instanceof _S?(oe(Mp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||AS(r,s.key)):Ee(19791,{wu:s})}function XD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(oe(Mp,"New document in limbo: "+n),r.Eu.add(s),xp(r))}function xp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ye(ot.fromString(e)),s=r.fu.next();r.Au.set(s,new UD(n)),r.du=r.du.insert(n,s),hS(r.remoteStore,new Jr(wi(gp(n.path)),s,"TargetPurposeLimboResolution",kh.ce))}}async function uu(r,e,n){const s=be(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Ap.As(p.targetId,g);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,g){const E=be(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>te.forEach(g,(b=>te.forEach(b.Es,(L=>E.persistence.referenceDelegate.addReference(T,b.targetId,L))).next((()=>te.forEach(b.ds,(L=>E.persistence.referenceDelegate.removeReference(T,b.targetId,L)))))))))}catch(T){if(!_o(T))throw T;oe(bp,"Failed to update sequence numbers: "+T)}for(const T of g){const b=T.targetId;if(!T.fromCache){const L=E.Ms.get(b),B=L.snapshotVersion,Q=L.withLastLimboFreeSnapshotVersion(B);E.Ms=E.Ms.insert(b,Q)}}})(s.localStore,u))}async function $D(r,e){const n=be(r);if(!n.currentUser.isEqual(e)){oe(Mp,"User change. New user:",e.toKey());const s=await oS(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new he(ne.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await uu(n,s.Ls)}}function JD(r,e){const n=be(r),s=n.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function bS(r){const e=be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=ES.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YD.bind(null,e),e.Pu.H_=xD.bind(null,e.eventManager),e.Pu.yu=VD.bind(null,e.eventManager),e}function ZD(r){const e=be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QD.bind(null,e),e}class Ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return WN(this.persistence,new $N,e.initialUser,this.serializer)}Cu(e){return new aS(Sp.mi,this.serializer)}Du(e){return new aD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ch.provider={build:()=>new Ch};class WD extends Ch{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof wh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new kN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new aS((s=>wh.mi(s,n)),this.serializer)}}class qm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>HE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=$D.bind(null,this.syncEngine),await ID(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new DD})()}createDatastore(e){const n=Fh(e.databaseInfo.databaseId),s=(function(u){return new hD(u)})(e.databaseInfo);return(function(u,f,m,p){return new pD(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new yD(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>HE(this.syncEngine,n,0)),(function(){return LE.v()?new LE:new oD})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,E){const T=new jD(o,u,f,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=be(n);oe(Zs,"RemoteStore shutting down."),s.Ea.add(5),await lu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}qm.provider={build:()=>new qm};class eO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ls="FirestoreClient";class tO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=up.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{oe(ls,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(oe(ls,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Dp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function pm(r,e){r.asyncQueue.verifyOperationInProgress(),oe(ls,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await oS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function FE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await nO(r);oe(ls,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>UE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>UE(e.remoteStore,o))),r._onlineComponents=e}async function nO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){oe(ls,"Using user provided OfflineComponentProvider");try{await pm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;no("Error using user provided cache. Falling back to memory cache: "+n),await pm(r,new Ch)}}else oe(ls,"Using default OfflineComponentProvider"),await pm(r,new WD(void 0));return r._offlineComponents}async function wS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(oe(ls,"Using user provided OnlineComponentProvider"),await FE(r,r._uninitializedComponentsProvider._online)):(oe(ls,"Using default OnlineComponentProvider"),await FE(r,new qm))),r._onlineComponents}function iO(r){return wS(r).then((e=>e.syncEngine))}async function rO(r){const e=await wS(r),n=e.eventManager;return n.onListen=zD.bind(null,e.syncEngine),n.onUnlisten=qD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=BD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=FD.bind(null,e.syncEngine),n}function sO(r,e,n={}){const s=new ns;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new eO({next:b=>{E.Nu(),f.enqueueAndForget((()=>MD(u,T)));const L=b.docs.has(m);!L&&b.fromCache?g.reject(new he(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&b.fromCache&&p&&p.source==="server"?g.reject(new he(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new kD(gp(m.path),E,{includeMetadataChanges:!0,qa:!0});return OD(u,T)})(await rO(r),r.asyncQueue,e,n,s))),s.promise}function RS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const GE=new Map;const CS="firestore.googleapis.com",YE=!0;class KE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CS,this.ssl=YE}else this.host=e.host,this.ssl=e.ssl??YE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<xN)throw new he(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}g2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vp{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new s2;switch(s.type){case"firstParty":return new u2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=GE.get(n);s&&(oe("ComponentProvider","Removing Datastore"),GE.delete(n),s.terminate())})(this),Promise.resolve()}}function aO(r,e,n,s={}){r=Js(r,Vp);const o=fo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(ST(`https://${m}`),AT("Firestore",!0)),u.host!==CS&&u.host!==m&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ir(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=$t.MOCK_USER;else{g=f1(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new he(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $t(T)}r._authCredentials=new a2(new y0(g,E))}}class kp{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new kp(this.firestore,e,this._query)}}class xt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(su(n,xt._jsonSchema))return new xt(e,s||null,new ye(ot.fromString(n.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:Ct("string",xt._jsonSchemaVersion),referencePath:Ct("string")};class Xl extends kp{constructor(e,n,s){super(e,n,gp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new ye(e))}withConverter(e){return new Xl(this.firestore,e,this._path)}}function gm(r,e,...n){if(r=Wt(r),arguments.length===1&&(e=up.newId()),p2("doc","path",e),r instanceof Vp){const s=ot.fromString(e,...n);return oE(s),new xt(r,null,new ye(s))}{if(!(r instanceof xt||r instanceof Xl))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ot.fromString(e,...n));return oE(s),new xt(r.firestore,r instanceof Xl?r.converter:null,new ye(s))}}const QE="AsyncQueue";class XE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uS(this,"async_queue_retry"),this._c=()=>{const s=mm();s&&oe(QE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ns;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!_o(e))throw e;oe(QE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ar("INTERNAL UNHANDLED ERROR: ",$E(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Np.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:$E(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function $E(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Kh extends Vp{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new XE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new XE(e),this._firestoreClient=void 0,await e}}}function oO(r,e){const n=typeof r=="object"?r:CT(),s=typeof r=="string"?r:_h,o=Wm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=c1("firestore");u&&aO(o,...u)}return o}function IS(r){if(r._terminated)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||lO(r),r._firestoreClient}function lO(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new C2(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,RS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new tO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(Kt.fromBase64String(e))}catch(n){throw new he(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pn(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(su(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Ct("string",Pn._jsonSchemaVersion),bytes:Ct("string")};class Qh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cu{constructor(e){this._methodName=e}}class Ii{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ii._jsonSchemaVersion}}static fromJSON(e){if(su(e,Ii._jsonSchema))return new Ii(e.latitude,e.longitude)}}Ii._jsonSchemaVersion="firestore/geoPoint/1.0",Ii._jsonSchema={type:Ct("string",Ii._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};class Ni{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(su(e,Ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ni(e.vectorValues);throw new he(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:Ct("string",Ni._jsonSchemaVersion),vectorValues:Ct("object")};const uO=/^__.*__$/;class cO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new fs(e,this.data,this.fieldMask,n,this.fieldTransforms):new au(e,this.data,n,this.fieldTransforms)}}class NS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new fs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function DS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:r})}}class Xh{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ih(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(DS(this.Ac)&&uO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class hO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Fh(e)}Cc(e,n,s,o=!1){return new Xh({Ac:e,methodName:n,Dc:s,path:Yt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function OS(r){const e=r._freezeSettings(),n=Fh(r._databaseId);return new hO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function fO(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Up("Data must be an object, but it was:",f,s);const m=xS(s,f);let p,g;if(u.merge)p=new Sn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const b=Fm(e,T,n);if(!f.contains(b))throw new he(ne.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);kS(E,b)||E.push(b)}p=new Sn(E),g=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=f.fieldTransforms;return new cO(new fn(m),p,g)}class $h extends cu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $h}}function MS(r,e,n){return new Xh({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Lp extends cu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=MS(this,e,!0),s=this.vc.map((u=>Eo(u,n))),o=new ao(s);return new G0(e.path,o)}isEqual(e){return e instanceof Lp&&ir(this.vc,e.vc)}}class Pp extends cu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=MS(this,e,!0),s=this.vc.map((u=>Eo(u,n))),o=new oo(s);return new G0(e.path,o)}isEqual(e){return e instanceof Pp&&ir(this.vc,e.vc)}}function dO(r,e,n,s){const o=r.Cc(1,e,n);Up("Data must be an object, but it was:",o,s);const u=[],f=fn.empty();hs(s,((p,g)=>{const E=jp(e,p,n);g=Wt(g);const T=o.yc(E);if(g instanceof $h)u.push(E);else{const b=Eo(g,T);b!=null&&(u.push(E),f.set(E,b))}}));const m=new Sn(u);return new NS(f,m,o.fieldTransforms)}function mO(r,e,n,s,o,u){const f=r.Cc(1,e,n),m=[Fm(e,s,n)],p=[o];if(u.length%2!=0)throw new he(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(Fm(e,u[b])),p.push(u[b+1]);const g=[],E=fn.empty();for(let b=m.length-1;b>=0;--b)if(!kS(g,m[b])){const L=m[b];let B=p[b];B=Wt(B);const Q=f.yc(L);if(B instanceof $h)g.push(L);else{const j=Eo(B,Q);j!=null&&(g.push(L),E.set(L,j))}}const T=new Sn(g);return new NS(E,T,f.fieldTransforms)}function Eo(r,e){if(VS(r=Wt(r)))return Up("Unsupported field value:",e,r),xS(r,e);if(r instanceof cu)return(function(s,o){if(!DS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Eo(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Wt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return J2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:bh(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:bh(o.serializer,u)}}if(s instanceof Ii)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Pn)return{bytesValue:Z0(o.serializer,s._byteString)};if(s instanceof xt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ep(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ni)return(function(f,m){return{mapValue:{fields:{[R0]:{stringValue:C0},[vh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return yp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${cp(s)}`)})(r,e)}function xS(r,e){const n={};return E0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hs(r,((s,o)=>{const u=Eo(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function VS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof it||r instanceof Ii||r instanceof Pn||r instanceof xt||r instanceof cu||r instanceof Ni)}function Up(r,e,n){if(!VS(n)||!_0(n)){const s=cp(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Fm(r,e,n){if((e=Wt(e))instanceof Qh)return e._internalPath;if(typeof e=="string")return jp(r,e);throw Ih("Field path arguments must be of type string or ",r,!1,void 0,n)}const pO=new RegExp("[~\\*/\\[\\]]");function jp(r,e,n){if(e.search(pO)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Qh(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ih(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new he(ne.INVALID_ARGUMENT,m+r+p)}function kS(r,e){return r.some((n=>n.isEqual(e)))}class LS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(PS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gO extends LS{data(){return super.data()}}function PS(r,e){return typeof e=="string"?jp(r,e):e instanceof Qh?e._internalPath:e._delegate._internalPath}class yO{convertValue(e,n="none"){switch(as(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return hs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[vh].arrayValue?.values?.map((s=>gt(s.doubleValue)));return new Ni(n)}convertGeoPoint(e){return new Ii(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ph(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const n=rs(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ot.fromString(e);Ge(rS(s),9688,{name:e});const o=new Kl(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||ar(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function _O(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ys extends LS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(PS("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ys._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ys._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ys._jsonSchema={type:Ct("string",Ys._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class ah extends Ys{data(e={}){return super.data(e)}}class zl{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new xl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new ah(this._firestore,this._userDataWriter,s.key,s,new xl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:vO(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=up.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function vO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}function EO(r){r=Js(r,xt);const e=Js(r.firestore,Kh);return sO(IS(e),r._key).then((n=>bO(e,r,n)))}zl._jsonSchemaVersion="firestore/querySnapshot/1.0",zl._jsonSchema={type:Ct("string",zl._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class TO extends yO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,n)}}function SO(r,e,n){r=Js(r,xt);const s=Js(r.firestore,Kh),o=_O(r.converter,e,n);return US(s,[fO(OS(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Ri.none())])}function AO(r,e,n,...s){r=Js(r,xt);const o=Js(r.firestore,Kh),u=OS(o);let f;return f=typeof(e=Wt(e))=="string"||e instanceof Qh?mO(u,"updateDoc",r._key,e,n,s):dO(u,"updateDoc",r._key,e),US(o,[f.toMutation(r._key,Ri.exists(!0))])}function US(r,e){return(function(s,o){const u=new ns;return s.asyncQueue.enqueueAndForget((async()=>GD(await iO(s),o,u))),u.promise})(IS(r),e)}function bO(r,e,n){const s=n.docs.get(e._key),o=new TO(r);return new Ys(r,o,e._key,s,new xl(n.hasPendingWrites,n.fromCache),e.converter)}function wO(...r){return new Lp("arrayUnion",r)}function RO(...r){return new Pp("arrayRemove",r)}(function(e,n=!0){(function(o){go=o})(mo),to(new Ks("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Kh(new o2(s.getProvider("auth-internal")),new c2(f,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(g.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),es(iE,rE,e),es(iE,rE,"esm2020")})();const CO={apiKey:"AIzaSyBmuibsjXBem9CN6pB-0nye7NryFJSya2g",authDomain:"filmorex.firebaseapp.com",projectId:"filmorex",storageBucket:"filmorex.firebasestorage.app",messagingSenderId:"962389606250",appId:"1:962389606250:web:4ba4c4fd8d70b077e56f13",measurementId:"G-XYT7Y5H7G9"},jS=RT(CO),Ji=t2(jS),ym=oO(jS);function zS(){const[r,e]=U.useState(null),[n,s]=U.useState(!0);return U.useEffect(()=>qC(Ji,g=>{e(g),s(!1)}),[]),{user:r,loading:n,register:async(p,g)=>await jC(Ji,p,g),login:async(p,g)=>await zC(Ji,p,g),logout:async()=>await FC(Ji),resetPassword:async p=>await UC(Ji,p)}}const IO="/my-project-cinemania/img/logo.png",Kc="/my-project-cinemania/img/symbol-defs.svg";function NO({onLoginClick:r}){const{user:e,logout:n,resetPassword:s}=zS(),o=us(),[u,f]=U.useState(!1),[m,p]=U.useState(!1),[g,E]=U.useState(!1),T=[{code:"tr",name:"Turkish",flag:"tr"},{code:"fr",name:"Franais",flag:"fr"},{code:"de",name:"Deutsch",flag:"de"},{code:"en",name:"English",flag:"gb"},{code:"es",name:"Espaol",flag:"es"},{code:"it",name:"Italiano",flag:"it"},{code:"pt",name:"Portugus",flag:"pt"},{code:"ru",name:"",flag:"ru"},{code:"ar",name:"",flag:"sa"},{code:"fa",name:"",flag:"ir"},{code:"zh",name:" (Chinese)",flag:"cn"},{code:"ja",name:" (Japanese)",flag:"jp"},{code:"ko",name:" (Korean)",flag:"kr"}],b=K=>o.pathname===K?"active":"",L=K=>{window.innerWidth<=768&&(K.preventDefault(),f(!0))},B=()=>{f(!1)},Q=async()=>{await n(),window.location.reload()},j=async()=>{if(e&&e.email)try{await s(e.email),alert("Password reset email sent! Please check your inbox.")}catch(K){alert(`Failed to send password reset email: ${K.message}`)}},Z=K=>{const ie=`/auto/${K}`;document.cookie=`googtrans=${ie}; path=/;`,window.location.reload()};return U.useEffect(()=>{const K=()=>{window.innerWidth>768&&f(!1)};return window.addEventListener("resize",K),()=>window.removeEventListener("resize",K)},[]),U.useEffect(()=>{const K=ie=>{m&&!ie.target.closest("#user-account-container")&&(p(!1),E(!1))};return document.addEventListener("click",K),()=>document.removeEventListener("click",K)},[m]),R.jsxs("header",{className:"site-header",children:[R.jsxs("div",{className:"container header-container",children:[R.jsxs($r,{to:"/",className:"logo",onClick:L,children:[R.jsx("img",{src:IO,alt:"Cinemania Logo"}),R.jsx("span",{children:"cprookie"})]}),R.jsxs("nav",{className:`main-nav ${u?"is-open":""}`,children:[R.jsx("button",{className:"mobile-nav-close",onClick:B,children:""}),R.jsxs("ul",{children:[R.jsx("li",{children:R.jsx($r,{to:"/",className:`nav-link ${b("/")}`,onClick:B,children:"HOME"})}),R.jsx("li",{children:R.jsx($r,{to:"/catalog",className:`nav-link ${b("/catalog")}`,onClick:B,children:"CATALOG"})}),R.jsx("li",{children:R.jsx($r,{to:"/library",className:`nav-link ${b("/library")}`,onClick:B,children:"MY LIBRARY"})})]})]}),R.jsxs("div",{className:"auth-buttons",children:[e?R.jsxs("div",{id:"user-account-container",className:"user-dropdown-container",children:[R.jsxs("button",{id:"btn-account",className:"nav-link account-btn",onClick:K=>{K.stopPropagation(),p(!m)},children:[R.jsx("span",{children:"My Account"}),R.jsx("i",{className:"fas fa-chevron-down",style:{marginLeft:"5px",fontSize:"0.8em"}})]}),R.jsxs("div",{id:"account-dropdown",className:`dropdown-content ${m?"show":""}`,children:[R.jsx("div",{className:"dropdown-user-info",children:R.jsx("span",{id:"dropdown-email",children:e.email})}),R.jsx("hr",{}),R.jsxs("div",{className:"submenu-wrapper",children:[R.jsxs("button",{id:"btn-languages",className:`dropdown-item submenu-trigger ${g?"open":""}`,onClick:K=>{K.stopPropagation(),E(!g)},children:[R.jsxs("span",{children:[R.jsx("i",{className:"fas fa-globe"}),R.jsx("span",{children:"Languages"})]}),R.jsx("i",{className:"fas fa-chevron-right arrow-icon"})]}),R.jsx("div",{id:"languages-list",className:`submenu-content ${g?"show":""}`,children:T.map(K=>R.jsxs("a",{href:"#",className:"dropdown-item lang-opt","data-val":K.code,onClick:ie=>{ie.preventDefault(),Z(K.code)},children:[R.jsx("img",{className:"flag-icon",src:`https://flagcdn.com/w20/${K.flag}.png`,alt:K.name}),K.name]},K.code))})]}),R.jsxs("a",{href:"#",className:"dropdown-item",id:"btn-change-password",onClick:j,children:[R.jsx("i",{className:"fas fa-key"}),R.jsx("span",{children:"Change Password"})]}),R.jsxs("a",{href:"#",className:"dropdown-item",id:"btn-logout",onClick:Q,children:[R.jsx("i",{className:"fas fa-sign-out-alt"}),R.jsx("span",{children:"Logout"})]})]})]}):R.jsx("button",{id:"btn-login",className:"nav-link",onClick:r,children:"Login / Register"}),R.jsx("div",{className:"theme-switcher",children:R.jsxs("label",{className:"switch",children:[R.jsx("input",{type:"checkbox",id:"theme-toggle-checkbox"}),R.jsxs("span",{className:"slider round",children:[R.jsx("svg",{className:"icon icon-sun",children:R.jsx("use",{xlinkHref:`${Kc}#icon-sun`})}),R.jsx("svg",{className:"icon-moon",children:R.jsx("use",{xlinkHref:`${Kc}#icon-moon`})}),R.jsxs("span",{className:"slider-circle-container",children:[R.jsx("svg",{className:"slider-circle-white",children:R.jsx("use",{xlinkHref:`${Kc}#icon-circle1`})}),R.jsx("svg",{className:"slider-circle-orange",children:R.jsx("use",{xlinkHref:`${Kc}#icon-circle1`})})]})]})]})})]})]}),u&&R.jsx("div",{className:"mobile-overlay active",onClick:B})]})}const DO="/my-project-cinemania/img/symbol-defs.svg";function OO({onTeamModalOpen:r}){return R.jsx("footer",{className:"site-footer",children:R.jsx("div",{className:"container",children:R.jsxs("p",{children:[" 2025 | All Rights Reserved | Developed with",R.jsx("svg",{className:"footer-heart",children:R.jsx("use",{xlinkHref:`${DO}#icon-heart`})}),"by"," ",R.jsx("a",{href:"#",className:"footer-link",onClick:e=>{e.preventDefault(),r&&r()},children:"GoIT Students"})]})})})}function MO({isOpen:r,onClose:e}){const[n,s]=U.useState(!0),[o,u]=U.useState(""),[f,m]=U.useState(""),[p,g]=U.useState(!1),{login:E,register:T}=zS(),b=async B=>{B.preventDefault(),g(!0);try{n?await E(o,f):await T(o,f),e(),u(""),m("")}catch(Q){alert("Hata: "+Q.message)}finally{g(!1)}},L=B=>{B.target===B.currentTarget&&e()};return r?R.jsx("div",{className:"modal-backdrop",id:"auth-modal-backdrop",onClick:L,children:R.jsxs("div",{className:"modal-window auth-window",children:[R.jsx("button",{type:"button",className:"modal-close-btn",onClick:e,children:""}),R.jsxs("div",{className:"auth-content",children:[R.jsx("h2",{id:"auth-title",children:n?"Login":"Register"}),R.jsxs("form",{id:"auth-form",onSubmit:b,children:[R.jsx("input",{type:"email",id:"auth-email",placeholder:"Email",required:!0,value:o,onChange:B=>u(B.target.value)}),R.jsx("input",{type:"password",id:"auth-password",placeholder:"Password",required:!0,value:f,onChange:B=>m(B.target.value)}),R.jsx("button",{type:"submit",className:"btn-primary",disabled:p,children:p?"Please wait...":n?"Sign In":"Sign Up"})]}),R.jsxs("p",{className:"auth-switch-text",children:[n?"Don't have an account? ":"Already have an account? ",R.jsx("span",{id:"auth-switch-btn",onClick:()=>s(!n),style:{color:"orange",cursor:"pointer"},children:n?"Register here":"Login here"})]})]})]})}):null}const xO="362ee522f1af2dedac989b8df9cfb4eb",VO="https://api.themoviedb.org/3",kO="https://image.tmdb.org/t/p/w500",LO="https://image.tmdb.org/t/p/original";async function ta(r,e={},n="en-US"){const s=new URL(`${VO}${r}`);s.searchParams.append("api_key",xO),n&&s.searchParams.append("language",n);for(const o in e)e[o]&&s.searchParams.append(o,e[o]);try{const o=await fetch(s);if(!o.ok)throw new Error(`API Error: ${o.status}`);return await o.json()}catch(o){return console.error("API Request Failed:",o),null}}async function JE(r=1){return await ta("/movie/popular",{page:r})}async function ZE(r="week",e=1){return await ta(`/trending/movie/${r}`,{page:e})}async function PO(r=1){return await ta("/movie/upcoming",{page:r,region:"US"})}async function UO(r,e=1,n=""){return await ta("/search/movie",{query:r,page:e,primary_release_year:n})}async function zp(r){return await ta(`/movie/${r}`)}async function jO(r){return await ta(`/movie/${r}/videos`,{},null)}function BS(r){return r?`${kO}${r}`:"https://via.placeholder.com/500x750?text=No+Poster"}function zO(r){return r?`${LO}${r}`:"https://via.placeholder.com/1920x1080?text=No+Image"}function BO(r){return r?`https://image.tmdb.org/t/p/w1280${r}`:""}async function HO(r){return await ta(`/movie/${r}/watch/providers`)}function HS(){const[r,e]=U.useState([]),[n,s]=U.useState(!0),o=async()=>{s(!0);const p=Ji.currentUser;if(p){const g=gm(ym,"users",p.uid);try{const E=await EO(g);E.exists()?e(E.data().library||[]):e([])}catch(E){console.error(E),e([])}}else{const g=JSON.parse(localStorage.getItem("myLibrary"))||[];e(g)}s(!1)};return U.useEffect(()=>(o(),Ji.onAuthStateChanged(()=>{o()})),[]),{library:r,loading:n,addToLibrary:async p=>{const g=Ji.currentUser,E=Number(p);if(g){const T=gm(ym,"users",g.uid);await SO(T,{library:wO(E)},{merge:!0})}else{const T=JSON.parse(localStorage.getItem("myLibrary"))||[];T.includes(E)||(T.push(E),localStorage.setItem("myLibrary",JSON.stringify(T)))}await o()},removeFromLibrary:async p=>{const g=Ji.currentUser,E=Number(p);if(g){const T=gm(ym,"users",g.uid);await AO(T,{library:RO(E)})}else{let T=JSON.parse(localStorage.getItem("myLibrary"))||[];T=T.filter(b=>b!==E),localStorage.setItem("myLibrary",JSON.stringify(T))}await o()},isInLibrary:p=>r.includes(Number(p)),refreshLibrary:o}}function qO({isOpen:r,onClose:e,movieId:n}){const[s,o]=U.useState(null),[u,f]=U.useState(null),[m,p]=U.useState(!1),{isInLibrary:g,addToLibrary:E,removeFromLibrary:T}=HS();U.useEffect(()=>{r&&n&&b()},[r,n]);const b=async()=>{p(!0);const[K,ie]=await Promise.all([zp(n),HO(n)]);o(K),f(ie),p(!1)},L=async()=>{if(s)try{g(s.id)?await T(s.id):await E(s.id)}catch(K){console.error("Library Error:",K),alert("Bir hata olutu. Giri yapmam olabilir misiniz?")}},B=()=>{if(s){const K=encodeURIComponent(`${s.title} izle`);window.open(`https://www.google.com/search?q=${K}`,"_blank")}},Q=K=>{K.target===K.currentTarget&&e()};if(!r||!s)return null;const j=u?.results?.TR,Z=j&&j.flatrate&&j.flatrate.length>0;return R.jsx("div",{className:"modal-backdrop",id:"movie-modal-backdrop",onClick:Q,children:R.jsxs("div",{className:"modal-window movie-modal-size",children:[R.jsx("button",{type:"button",className:"modal-close-btn",onClick:e,children:""}),R.jsxs("div",{className:"modal-content",children:[R.jsx("div",{className:"modal-poster-wrapper",children:R.jsx("img",{src:BS(s.poster_path),alt:"Movie Poster",className:"modal-poster"})}),R.jsxs("div",{className:"modal-info",children:[R.jsx("h2",{className:"modal-title",children:s.title.toUpperCase()}),R.jsxs("div",{className:"modal-details-grid",children:[R.jsxs("div",{className:"detail-row",children:[R.jsx("span",{className:"detail-label",children:"Vote / Votes"}),R.jsxs("div",{className:"detail-value",children:[R.jsx("span",{className:"vote-tag",children:s.vote_average.toFixed(1)}),R.jsx("span",{className:"slash",children:"/"}),R.jsx("span",{className:"vote-tag",children:s.vote_count})]})]}),R.jsxs("div",{className:"detail-row",children:[R.jsx("span",{className:"detail-label",children:"Popularity"}),R.jsx("span",{className:"detail-value",children:s.popularity.toFixed(1)})]}),R.jsxs("div",{className:"detail-row",children:[R.jsx("span",{className:"detail-label",children:"Genre"}),R.jsx("span",{className:"detail-value",children:s.genres.map(K=>K.name).join(", ")||"N/A"})]})]}),R.jsx("h3",{className:"modal-about-title",children:"ABOUT"}),R.jsx("p",{className:"modal-description",children:s.overview||"No description available."}),Z&&R.jsxs("div",{id:"modal-providers-container",className:"providers-container",children:[R.jsx("h3",{className:"modal-about-title",children:"WATCH ON"}),R.jsx("div",{className:"providers-list",children:j.flatrate.slice(0,5).map((K,ie)=>R.jsx("img",{src:`https://image.tmdb.org/t/p/original${K.logo_path}`,alt:K.provider_name,title:`Watch on ${K.provider_name}`,className:"provider-logo",onClick:()=>{const de=encodeURIComponent(s.title),ge=K.provider_name.toLowerCase();let me="";ge.includes("netflix")?me=`https://www.netflix.com/search?q=${de}`:ge.includes("amazon")||ge.includes("prime")?me=`https://www.primevideo.com/search/ref=atv_nb_sr?phrase=${de}`:ge.includes("disney")?me=`https://www.disneyplus.com/search?q=${de}`:ge.includes("apple")?me=`https://tv.apple.com/search?term=${de}`:ge.includes("blutv")?me=`https://www.blutv.com/arama?q=${de}`:ge.includes("mubi")?me=`https://mubi.com/tr/search/films?query=${de}`:me=j.link,window.open(me,"_blank")}},ie))}),R.jsx("a",{href:j.link,target:"_blank",rel:"noopener noreferrer",className:"watch-link",children:"View all options"})]}),R.jsxs("div",{className:"modal-btn-wrapper",children:[R.jsx("button",{type:"button",className:`btn-modal-add ${g(s.id)?"btn-remove":""}`,onClick:L,children:g(s.id)?"Remove from my library":"Add to my library"}),R.jsx("button",{type:"button",className:"btn-modal-google",onClick:B,children:"Search on Google"})]})]})]})]})})}function FO({isOpen:r,onClose:e,videoKey:n}){U.useEffect(()=>{const o=u=>{u.key==="Escape"&&r&&e()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[r,e]);const s=o=>{o.target===o.currentTarget&&e()};return r?R.jsx("div",{className:"modal-backdrop",id:"trailer-modal-backdrop",onClick:s,children:R.jsxs("div",{className:"modal-window trailer-modal-content",children:[R.jsx("button",{type:"button",className:"modal-close-btn",id:"trailer-modal-close-btn",onClick:e,children:""}),R.jsx("div",{className:"trailer-modal-body",children:R.jsx("iframe",{id:"trailer-iframe",width:"100%",height:"500",src:`https://www.youtube.com/embed/${n}?autoplay=1&rel=0&showinfo=0`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]})}):null}function GO({isOpen:r,onClose:e}){U.useEffect(()=>{const s=o=>{o.key==="Escape"&&r&&e()};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[r,e]);const n=s=>{s.target===s.currentTarget&&e()};return r?R.jsx("div",{className:"modal-backdrop",id:"trailer-error-backdrop",onClick:n,children:R.jsxs("div",{className:"modal-window trailer-error-window",children:[R.jsx("button",{type:"button",className:"modal-close-btn",onClick:e,children:""}),R.jsxs("div",{className:"trailer-error-content",children:[R.jsxs("div",{className:"trailer-error-text",children:[R.jsx("h2",{children:"OOPS..."}),R.jsx("p",{children:"We are very sorry!"}),R.jsx("p",{children:"But we couldn't find the trailer."})]}),R.jsx("div",{className:"trailer-error-image",children:R.jsx("img",{src:"/my-project-cinemania/img/trailer-modal.png",alt:"No Trailer"})})]})]})}):null}function YO({isOpen:r,onClose:e}){U.useEffect(()=>{const s=o=>{o.key==="Escape"&&r&&e()};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[r,e]);const n=s=>{s.target===s.currentTarget&&e()};return r?R.jsx("div",{className:"modal-backdrop",id:"team-modal-backdrop",onClick:n,children:R.jsxs("div",{className:"modal-window team-modal-window",children:[R.jsx("button",{type:"button",className:"modal-close-btn",onClick:e,children:""}),R.jsx("h2",{className:"team-title",children:"Our Dream Team"}),R.jsx("p",{className:"team-subtitle",children:"The creative minds behind Cinemania"}),R.jsx("div",{className:"team-list",children:R.jsxs("div",{className:"team-member",children:[R.jsx("div",{className:"member-img-wrapper",children:R.jsx("img",{src:"/my-project-cinemania/img/omer.jpg",alt:"Student 1",className:"member-img"})}),R.jsx("h3",{className:"member-name",children:"mer ZDEMR"}),R.jsx("p",{className:"member-role",children:"Team Lead"}),R.jsxs("div",{className:"member-social",children:[R.jsx("a",{href:"https://github.com/omerozdemir7",target:"_blank",rel:"noopener noreferrer",children:R.jsx("i",{className:"fab fa-github"})}),R.jsx("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",children:R.jsx("i",{className:"fab fa-linkedin"})})]})]})})]})}):null}function Bp({movieId:r,onWatchTrailer:e,onMoreDetails:n,children:s}){const[o,u]=U.useState(null),[f,m]=U.useState("");U.useEffect(()=>{r&&p()},[r]);const p=async()=>{const T=await zp(r);if(T){u(T);const b=BO(T.backdrop_path||T.poster_path);m(`
        linear-gradient(to right, 
          #111 0%, 
          rgba(17, 17, 17, 1) 30%, 
          rgba(17, 17, 17, 0.5) 50%, 
          transparent 100%),
        url('${b}')
      `)}},g=async()=>{if(o)try{const T=await jO(o.id);let b=T?.results?.find(L=>L.type==="Trailer"&&L.site==="YouTube");b||(b=T?.results?.find(L=>L.type==="Teaser"&&L.site==="YouTube")),b&&b.key?e(b.key):e(null)}catch(T){console.error(T),e(null)}},E=T=>{const b=Math.round((T||0)/2),L=[];for(let B=1;B<=5;B++)L.push(R.jsx("i",{className:`fa-star ${B<=b?"fas active":"far"}`},B));return L};return s?R.jsx("section",{className:"hero-section",style:{backgroundImage:f},children:R.jsx("div",{className:"container hero-container",children:R.jsx("div",{className:"hero-content",children:s})})}):o?R.jsx("section",{className:"hero-section",style:{backgroundImage:f},children:R.jsx("div",{className:"container hero-container",children:R.jsxs("div",{className:"hero-content",children:[R.jsx("h1",{className:"hero-title",children:o.title}),R.jsx("div",{className:"star-rating hero-stars",children:E(o.vote_average)}),R.jsx("p",{className:"hero-description",children:o.overview||"No description available."}),R.jsxs("div",{className:"hero-buttons",children:[R.jsx("button",{className:"btn btn-primary",onClick:g,children:"Watch Trailer"}),R.jsx("button",{className:"btn btn-secondary",onClick:()=>n(o.id),children:"More details"})]})]})})}):R.jsx("section",{className:"hero-section",children:R.jsx("div",{className:"container hero-container",children:R.jsx("div",{className:"hero-content",children:R.jsx("h1",{className:"hero-title",children:"Loading..."})})})})}function KO(r){if(!r||!Array.isArray(r)||r.length===0)return"N/A";const e=r[0];if(typeof e=="object"&&e!==null&&e.name)return r.map(n=>n.name).slice(0,2).join(", ");if(typeof e=="number"){const n={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Sci-Fi",10770:"TV Movie",53:"Thriller",10752:"War",37:"Western"},s=r.map(o=>n[o]).filter(Boolean);return s.length>0?s.slice(0,2).join(", "):"Other"}return"N/A"}function QO(r){const e=Math.round((r||0)/2),n=[];for(let s=1;s<=5;s++)n.push(R.jsx("i",{className:`fa-star ${s<=e?"fas active":"far"}`},s));return n}function XO(r){return r?new Date(r).getFullYear():"N/A"}function Hp({movie:r,onClick:e}){const n=r.genres||r.genre_ids,s=XO(r.release_date);return R.jsxs("div",{className:"movie-card","data-id":r.id,onClick:()=>e&&e(r.id),children:[R.jsx("img",{src:BS(r.poster_path),alt:r.title,className:"movie-card-poster",loading:"lazy"}),R.jsxs("div",{className:"movie-card-overlay",children:[R.jsx("h3",{className:"movie-title",children:r.title}),R.jsxs("div",{className:"movie-meta",children:[R.jsxs("span",{className:"movie-genre",children:[KO(n)," | ",s]}),R.jsx("div",{className:"movie-rating",children:QO(r.vote_average)})]})]})]})}function qp(){const r={position:"fixed",inset:0,background:"#000",display:"flex",justifyContent:"center",alignItems:"center",zIndex:99999,color:"white",fontSize:"18px",flexDirection:"column",backdropFilter:"blur(3px)"},e={border:"6px solid #333",borderTop:"6px solid var(--primary-orange, orange)",borderRadius:"50%",width:"60px",height:"60px",animation:"spin 1s linear infinite",marginBottom:"10px"};return R.jsxs("div",{style:r,children:[R.jsx("div",{style:e}),R.jsx("p",{children:"Loading..."}),R.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})}function $O({onMovieClick:r,onWatchTrailer:e}){const[n,s]=U.useState(!0),[o,u]=U.useState(null),[f,m]=U.useState([]),[p,g]=U.useState(null);U.useEffect(()=>{E()},[]);const E=async()=>{s(!0);try{const[b,L,B]=await Promise.all([ZE("day"),ZE("week"),PO()]);let Q=null;if(b?.results?.length){const j=Math.floor(Math.random()*Math.min(5,b.results.length));Q=b.results[j]}else L?.results?.length&&(Q=L.results[0]);if(Q&&u(Q.id),L?.results?.length&&m(L.results.slice(0,3)),B?.results?.length){const j=Math.floor(Math.random()*Math.min(10,B.results.length));g(B.results[j])}}catch(b){console.error("Anasayfa ykleme hatas:",b)}finally{s(!1)}},T=b=>{u(b),window.scrollTo({top:0,behavior:"smooth"})};return n?R.jsx(qp,{}):R.jsxs(R.Fragment,{children:[R.jsx(Bp,{movieId:o,onWatchTrailer:e,onMoreDetails:r}),R.jsx("section",{className:"weekly-trends-section",children:R.jsxs("div",{className:"container",children:[R.jsxs("div",{className:"section-header",children:[R.jsx("h2",{children:"WEEKLY TRENDS"}),R.jsx($r,{to:"/catalog",className:"see-all-link",children:"See all"})]}),R.jsx("div",{className:"movie-grid-container",children:f.map(b=>R.jsx(Hp,{movie:b,onClick:T},b.id))})]})}),p&&R.jsx("section",{className:"upcoming-section",children:R.jsxs("div",{className:"container",children:[R.jsx("h2",{children:"UPCOMING THIS MONTH"}),R.jsxs("div",{className:"upcoming-container",children:[R.jsx("div",{className:"upcoming-image",children:R.jsx("img",{src:zO(p.poster_path),alt:p.title})}),R.jsxs("div",{className:"upcoming-info",children:[R.jsx("h3",{children:p.title}),R.jsxs("div",{className:"movie-details-list",children:[R.jsxs("div",{className:"detail-item",children:[R.jsx("span",{className:"detail-key",children:"Release Date"}),R.jsx("span",{className:"detail-value",children:new Date(p.release_date).toLocaleDateString("en-US")})]}),R.jsxs("div",{className:"detail-item",children:[R.jsx("span",{className:"detail-key",children:"Vote"}),R.jsx("span",{className:"detail-value",children:p.vote_average.toFixed(1)})]}),R.jsxs("div",{className:"detail-item",children:[R.jsx("span",{className:"detail-key",children:"Vote Count"}),R.jsx("span",{className:"detail-value",children:p.vote_count})]}),R.jsxs("div",{className:"detail-item",children:[R.jsx("span",{className:"detail-key",children:"Popularity"}),R.jsx("span",{className:"detail-value",children:p.popularity.toFixed(1)})]})]}),R.jsx("h4",{className:"upcoming-about-title",children:"ABOUT"}),R.jsx("p",{className:"upcoming-description",children:p.overview||"No description available."}),R.jsx("button",{className:"btn btn-primary upcoming-btn",onClick:()=>r(p.id),children:"More details"})]})]})]})})]})}function JO({totalPages:r,currentPage:e,onPageChange:n}){if(r<=1)return null;const s=5;let o=Math.max(e-2,1),u=Math.min(o+s-1,r);u-o<s-1&&(o=Math.max(u-s+1,1));const f=[];f.push(R.jsx("button",{className:"pagination-arrow",disabled:e===1,onClick:()=>n(e-1),children:""},"prev")),o>1&&(f.push(R.jsx("button",{className:"pagination-btn",onClick:()=>n(1),children:"1"},1)),o>2&&f.push(R.jsx("span",{className:"pagination-dots",children:"..."},"dots1")));for(let m=o;m<=u;m++)f.push(R.jsx("button",{className:`pagination-btn ${m===e?"active":""}`,onClick:()=>n(m),children:m},m));return u<r&&(u<r-1&&f.push(R.jsx("span",{className:"pagination-dots",children:"..."},"dots2")),f.push(R.jsx("button",{className:"pagination-btn",onClick:()=>n(r),children:r},r))),f.push(R.jsx("button",{className:"pagination-arrow",disabled:e===r,onClick:()=>n(e+1),children:""},"next")),R.jsx("div",{className:"pagination",children:f})}function ZO({onMovieClick:r,onWatchTrailer:e}){const[n,s]=U.useState(!0),[o,u]=U.useState(null),[f,m]=U.useState([]),[p,g]=U.useState(1),[E,T]=U.useState(1),[b,L]=U.useState(""),[B,Q]=U.useState(""),[j,Z]=U.useState(!1),K=U.useRef(null);U.useEffect(()=>{ie()},[]),U.useEffect(()=>{const C=k=>{K.current&&!K.current.contains(k.target)&&Z(!1)};return document.addEventListener("click",C),()=>document.removeEventListener("click",C)},[]);const ie=async()=>{s(!0);const C=await JE(1);s(!1),C?.results?.length&&(m(C.results),T(C.total_pages),u(C.results[0].id))},de=async C=>{C.preventDefault(),b.trim()&&(g(1),await ge(b,B,1))},ge=async(C,k,D)=>{s(!0);const Fe=await UO(C,D,k);if(s(!1),!Fe?.results?.length){m([]),T(1);return}m(Fe.results),T(Math.min(Fe.total_pages,500)),Fe.results[0]&&u(Fe.results[0].id)},me=C=>{g(C),b?ge(b,B,C):N(C),window.scrollTo({top:0,behavior:"smooth"})},N=async C=>{s(!0);const k=await JE(C);s(!1),k?.results?.length&&(m(k.results),T(k.total_pages))},w=C=>{u(C),window.scrollTo({top:0,behavior:"smooth"})},I=new Date().getFullYear(),M=[];for(let C=I;C>=1950;C--)M.push(C);return R.jsxs(R.Fragment,{children:[n&&R.jsx(qp,{}),R.jsx(Bp,{movieId:o,onWatchTrailer:e,onMoreDetails:r}),R.jsx("section",{className:"search-section",children:R.jsx("div",{className:"container",children:R.jsxs("form",{className:"search-form",onSubmit:de,children:[R.jsx("input",{type:"text",className:"search-bar",placeholder:"Search",value:b,onChange:C=>L(C.target.value)}),R.jsxs("div",{className:`custom-dropdown ${j?"active":""}`,ref:K,children:[R.jsxs("div",{className:"dropdown-header",onClick:C=>{C.stopPropagation(),Z(!j)},children:[R.jsx("span",{style:{color:B?"var(--primary-orange)":""},children:B||"Year"}),R.jsx("i",{className:"fas fa-chevron-down"})]}),R.jsxs("ul",{className:`dropdown-list ${j?"":"is-hidden"}`,children:[R.jsx("li",{className:"dropdown-item",onClick:()=>{Q(""),Z(!1)},children:"Year"}),M.map(C=>R.jsx("li",{className:"dropdown-item",onClick:()=>{Q(C.toString()),Z(!1)},children:C},C))]})]}),R.jsx("button",{type:"submit",className:"search-btn",children:R.jsx("i",{className:"fas fa-search"})})]})})}),R.jsx("section",{className:"movie-grid-section",children:R.jsx("div",{className:"container",children:f.length===0&&!n?R.jsxs("div",{className:"no-results-container",children:[R.jsx("h2",{children:"OOPS!"}),R.jsx("h3",{children:"Search result not successful"}),R.jsx("p",{children:"Enter a different keyword or remove the search filter"})]}):R.jsx("div",{className:"movie-grid-container",children:f.map(C=>R.jsx(Hp,{movie:C,onClick:w},C.id))})})}),R.jsx("section",{className:"pagination-section",children:R.jsx("div",{className:"container",children:R.jsx(JO,{totalPages:E,currentPage:p,onPageChange:me})})})]})}function WO({onMovieClick:r,onWatchTrailer:e}){const{library:n,loading:s}=HS(),[o,u]=U.useState(!0),[f,m]=U.useState(null),[p,g]=U.useState([]),[E,T]=U.useState([]),[b,L]=U.useState([]),[B,Q]=U.useState("all"),[j,Z]=U.useState(!1),K=U.useRef(null);U.useEffect(()=>{s||ie()},[n,s]),U.useEffect(()=>{const w=I=>{K.current&&!K.current.contains(I.target)&&Z(!1)};return document.addEventListener("click",w),()=>document.removeEventListener("click",w)},[]);const ie=async()=>{if(!n||n.length===0){u(!1),g([]),T([]);return}u(!0);try{const w=n.map(C=>zp(C)),M=(await Promise.all(w)).filter(C=>C!==null);g(M),T(M),M.length>0&&(m(M[0].id),de(M))}catch(w){console.error("Ktphane yklenirken hata:",w)}finally{u(!1)}},de=w=>{const I=new Map;w.forEach(C=>{C&&C.genres&&Array.isArray(C.genres)&&C.genres.forEach(k=>{k&&k.id&&k.name&&I.set(k.id,k.name)})});const M=Array.from(I,([C,k])=>({id:C,name:k}));L(M)},ge=w=>{if(Q(w),Z(!1),w==="all")T(p);else{const I=p.filter(M=>M.genres&&Array.isArray(M.genres)&&M.genres.some(C=>C.id.toString()===w.toString()));T(I)}},me=w=>{m(w),window.scrollTo({top:0,behavior:"smooth"})},N=()=>{if(B==="all")return"Genre";const w=b.find(I=>I.id.toString()===B.toString());return w?w.name:"Genre"};return o||s?R.jsx(qp,{}):R.jsxs(R.Fragment,{children:[R.jsx(Bp,{movieId:f,onWatchTrailer:e,onMoreDetails:r,children:p.length===0&&R.jsx("h1",{children:"Your Library is Empty"})}),R.jsx("section",{className:"library-content-section",children:R.jsx("div",{className:"container",children:p.length===0?R.jsxs("div",{className:"empty-library",children:[R.jsx("p",{children:"OOPS..."}),R.jsx("p",{children:"You haven't added any movies yet."}),R.jsx($r,{to:"/catalog",className:"btn-modal-add",style:{display:"inline-block",marginTop:"20px",textDecoration:"none"},children:"Go to Catalog"})]}):R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:`genre-filter-container ${j?"is-open":""}`,ref:K,children:[R.jsxs("div",{className:"genre-header",onClick:w=>{w.stopPropagation(),Z(!j)},children:[R.jsx("span",{children:N()}),R.jsx("i",{className:"fas fa-chevron-down"})]}),R.jsxs("div",{className:`genre-list ${j?"":"is-hidden"}`,children:[R.jsx("div",{className:`genre-item ${B==="all"?"active":""}`,onClick:()=>ge("all"),children:"All Genres"}),b.map(w=>R.jsx("div",{className:`genre-item ${B===w.id.toString()?"active":""}`,onClick:()=>ge(w.id.toString()),children:w.name},w.id))]})]}),E.length===0?R.jsx("p",{style:{color:"white",textAlign:"center",gridColumn:"1/-1"},children:"No movies found for this genre."}):R.jsx("div",{className:"movie-grid-container",children:E.map(w=>R.jsx(Hp,{movie:w,onClick:me},w.id))})]})})})]})}function eM(){const[r,e]=U.useState(!1),[n,s]=U.useState(!1),[o,u]=U.useState(!1),[f,m]=U.useState(!1),[p,g]=U.useState(!1),[E,T]=U.useState(null),[b,L]=U.useState(null);U.useEffect(()=>{const j=document.getElementById("theme-toggle-checkbox"),Z=document.body;if(j){localStorage.getItem("theme")==="light"&&(Z.classList.add("light-mode"),j.checked=!0);const ie=()=>{j.checked?(Z.classList.add("light-mode"),localStorage.setItem("theme","light")):(Z.classList.remove("light-mode"),localStorage.setItem("theme","dark"))};return j.addEventListener("change",ie),()=>j.removeEventListener("change",ie)}},[]),U.useEffect(()=>{(()=>{if(document.querySelector('script[src*="translate.google.com"]'))return;window.googleTranslateElementInit=function(){new window.google.translate.TranslateElement({pageLanguage:"en",autoDisplay:!1},"google_translate_element")};const Z=document.createElement("script");Z.type="text/javascript",Z.src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit",document.body.appendChild(Z)})()},[]);const B=j=>{T(j),s(!0)},Q=j=>{j?(L(j),u(!0)):m(!0)};return R.jsx(Yw,{basename:"/my-project-cinemania/",children:R.jsxs("div",{className:"App",children:[R.jsx(NO,{onLoginClick:()=>e(!0)}),R.jsx("main",{children:R.jsxs(Aw,{children:[R.jsx(Qc,{path:"/",element:R.jsx($O,{onMovieClick:B,onWatchTrailer:Q})}),R.jsx(Qc,{path:"/catalog",element:R.jsx(ZO,{onMovieClick:B,onWatchTrailer:Q})}),R.jsx(Qc,{path:"/library",element:R.jsx(WO,{onMovieClick:B,onWatchTrailer:Q})})]})}),R.jsx(OO,{onTeamModalOpen:()=>g(!0)}),R.jsx(MO,{isOpen:r,onClose:()=>e(!1)}),R.jsx(qO,{isOpen:n,onClose:()=>s(!1),movieId:E}),R.jsx(FO,{isOpen:o,onClose:()=>u(!1),videoKey:b}),R.jsx(GO,{isOpen:f,onClose:()=>m(!1)}),R.jsx(YO,{isOpen:p,onClose:()=>g(!1)})]})})}Db.createRoot(document.getElementById("root")).render(R.jsx(Sb.StrictMode,{children:R.jsx(eM,{})}));
//# sourceMappingURL=index-5cGBfCpG.js.map
