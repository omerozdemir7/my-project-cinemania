import{s as Y,u as y,r as D,d as q}from"./ui-helpers-SZr4zYk4.js";import{s as b,h as x}from"./loader-Bo_Pa9Zr.js";function N(t,c,s,o){if(!t||c<=1){t&&(t.innerHTML="");return}t.innerHTML="";const u=5;let d=Math.max(s-2,1),a=Math.min(d+u-1,c);a-d<u-1&&(d=Math.max(a-u+1,1));const m=document.createElement("button");m.className="pagination-arrow",m.innerHTML="&laquo;",m.disabled=s===1,m.addEventListener("click",()=>o(s-1)),t.appendChild(m),d>1&&(t.appendChild(L(1,o)),d>2&&t.appendChild(B()));for(let r=d;r<=a;r++){const p=L(r,o,r===s);t.appendChild(p)}a<c&&(a<c-1&&t.appendChild(B()),t.appendChild(L(c,o)));const i=document.createElement("button");i.className="pagination-arrow",i.innerHTML="&raquo;",i.disabled=s===c,i.addEventListener("click",()=>o(s+1)),t.appendChild(i)}function L(t,c,s=!1){const o=document.createElement("button");return o.className="pagination-btn",s&&o.classList.add("active"),o.textContent=t,o.addEventListener("click",()=>c(t)),o}function B(){const t=document.createElement("span");return t.className="pagination-dots",t.textContent="...",t}const S=async()=>{const t=document.getElementById("search-form"),c=document.getElementById("search-input"),s=document.getElementById("movie-grid"),o=document.querySelector(".pagination"),u=document.getElementById("catalog-hero"),d=document.getElementById("catalog-hero-content"),a=document.getElementById("year-dropdown"),m=document.getElementById("dropdown-header"),i=document.getElementById("dropdown-list"),r=document.getElementById("selected-year"),p=document.getElementById("year-input");if(!s)return;const H=new Date().getFullYear();if(i){const e=document.createElement("li");e.classList.add("dropdown-item"),e.textContent="Year",e.onclick=()=>{p&&(p.value=""),r&&(r.textContent="Year",r.style.color=""),h()},i.appendChild(e);for(let n=H;n>=1950;n--){const l=document.createElement("li");l.classList.add("dropdown-item"),l.textContent=n,l.onclick=()=>{p&&(p.value=n),r&&(r.textContent=n,r.style.color="var(--primary-orange)"),h()},i.appendChild(l)}}function T(){a&&a.classList.toggle("active"),i&&i.classList.toggle("is-hidden")}function h(){a&&a.classList.remove("active"),i&&i.classList.add("is-hidden")}m&&m.addEventListener("click",e=>{e.stopPropagation(),T()}),document.addEventListener("click",e=>{a&&!a.contains(e.target)&&h()});let v=1,w="",E="",g=1;async function k(){b();const e=await q(1);x(),e?.results?.length&&(C(e.results),e.results[0]&&await y(e.results[0].id,u,d))}t&&t.addEventListener("submit",async e=>{e.preventDefault();const n=c.value.trim(),l=p?p.value:"";n&&(v=1,w=n,E=l,h(),await M(n,l,v))});async function M(e,n,l){b();const f=await Y(e,l,n);if(x(),!f?.results?.length){s.innerHTML=`
        <div class="no-results-container">
          <h2 class="no-results-title">OOPS...</h2>
          <h3 class="no-results-text">We are very sorry!</h3>
          <h3 class="no-results-text">We donâ€™t have any results matching your search.</h3>
        </div>
      `,o.innerHTML="",d.innerHTML="",u.style.backgroundImage="none";return}g=f.total_pages,C(f.results),f.results[0]&&await y(f.results[0].id,u,d),N(o,g,l,I=>{v=I,M(w,E,I),window.scrollTo({top:0,behavior:"smooth"})})}function C(e){s.innerHTML=e.map(n=>D(n)).join("")}s.addEventListener("click",e=>{const n=e.target.closest(".movie-card");n&&n.dataset.id&&(y(n.dataset.id,u,d),window.scrollTo({top:0,behavior:"smooth"}))}),await k()};S();
//# sourceMappingURL=catalog-fvJ_Qvm6.js.map
