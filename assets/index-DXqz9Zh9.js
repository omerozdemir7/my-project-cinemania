(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function uT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Jd={exports:{}},Al={};var mv;function Ob(){if(mv)return Al;mv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Al.Fragment=e,Al.jsx=n,Al.jsxs=n,Al}var pv;function xb(){return pv||(pv=1,Jd.exports=Ob()),Jd.exports}var A=xb(),Wd={exports:{}},be={};var gv;function Mb(){if(gv)return be;gv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),R=Symbol.iterator;function M(L){return L===null||typeof L!="object"?null:(L=R&&L[R]||L["@@iterator"],typeof L=="function"?L:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,q={};function Y(L,Z,ae){this.props=L,this.context=Z,this.refs=q,this.updater=ae||j}Y.prototype.isReactComponent={},Y.prototype.setState=function(L,Z){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Z,"setState")},Y.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function te(){}te.prototype=Y.prototype;function ie(L,Z,ae){this.props=L,this.context=Z,this.refs=q,this.updater=ae||j}var he=ie.prototype=new te;he.constructor=ie,Q(he,Y.prototype),he.isPureReactComponent=!0;var me=Array.isArray;function Te(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(L,Z,ae){var le=ae.ref;return{$$typeof:r,type:L,key:Z,ref:le!==void 0?le:null,props:ae}}function x(L,Z){return I(L.type,Z,L.props)}function C(L){return typeof L=="object"&&L!==null&&L.$$typeof===r}function k(L){var Z={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ae){return Z[ae]})}var D=/\/+/g;function Be(L,Z){return typeof L=="object"&&L!==null&&L.key!=null?k(""+L.key):Z.toString(36)}function ft(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(Te,Te):(L.status="pending",L.then(function(Z){L.status==="pending"&&(L.status="fulfilled",L.value=Z)},function(Z){L.status==="pending"&&(L.status="rejected",L.reason=Z)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function X(L,Z,ae,le,ge){var Ie=typeof L;(Ie==="undefined"||Ie==="boolean")&&(L=null);var je=!1;if(L===null)je=!0;else switch(Ie){case"bigint":case"string":case"number":je=!0;break;case"object":switch(L.$$typeof){case r:case e:je=!0;break;case E:return je=L._init,X(je(L._payload),Z,ae,le,ge)}}if(je)return ge=ge(L),je=le===""?"."+Be(L,0):le,me(ge)?(ae="",je!=null&&(ae=je.replace(D,"$&/")+"/"),X(ge,Z,ae,"",function(fs){return fs})):ge!=null&&(C(ge)&&(ge=x(ge,ae+(ge.key==null||L&&L.key===ge.key?"":(""+ge.key).replace(D,"$&/")+"/")+je)),Z.push(ge)),1;je=0;var Nt=le===""?".":le+":";if(me(L))for(var rt=0;rt<L.length;rt++)le=L[rt],Ie=Nt+Be(le,rt),je+=X(le,Z,ae,Ie,ge);else if(rt=M(L),typeof rt=="function")for(L=rt.call(L),rt=0;!(le=L.next()).done;)le=le.value,Ie=Nt+Be(le,rt++),je+=X(le,Z,ae,Ie,ge);else if(Ie==="object"){if(typeof L.then=="function")return X(ft(L),Z,ae,le,ge);throw Z=String(L),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return je}function J(L,Z,ae){if(L==null)return L;var le=[],ge=0;return X(L,le,"","",function(Ie){return Z.call(ae,Ie,ge++)}),le}function oe(L){if(L._status===-1){var Z=L._result;Z=Z(),Z.then(function(ae){(L._status===0||L._status===-1)&&(L._status=1,L._result=ae)},function(ae){(L._status===0||L._status===-1)&&(L._status=2,L._result=ae)}),L._status===-1&&(L._status=0,L._result=Z)}if(L._status===1)return L._result.default;throw L._result}var Se=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},xe={map:J,forEach:function(L,Z,ae){J(L,function(){Z.apply(this,arguments)},ae)},count:function(L){var Z=0;return J(L,function(){Z++}),Z},toArray:function(L){return J(L,function(Z){return Z})||[]},only:function(L){if(!C(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return be.Activity=T,be.Children=xe,be.Component=Y,be.Fragment=n,be.Profiler=o,be.PureComponent=ie,be.StrictMode=s,be.Suspense=p,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,be.__COMPILER_RUNTIME={__proto__:null,c:function(L){return N.H.useMemoCache(L)}},be.cache=function(L){return function(){return L.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(L,Z,ae){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var le=Q({},L.props),ge=L.key;if(Z!=null)for(Ie in Z.key!==void 0&&(ge=""+Z.key),Z)!w.call(Z,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&Z.ref===void 0||(le[Ie]=Z[Ie]);var Ie=arguments.length-2;if(Ie===1)le.children=ae;else if(1<Ie){for(var je=Array(Ie),Nt=0;Nt<Ie;Nt++)je[Nt]=arguments[Nt+2];le.children=je}return I(L.type,ge,le)},be.createContext=function(L){return L={$$typeof:f,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:u,_context:L},L},be.createElement=function(L,Z,ae){var le,ge={},Ie=null;if(Z!=null)for(le in Z.key!==void 0&&(Ie=""+Z.key),Z)w.call(Z,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ge[le]=Z[le]);var je=arguments.length-2;if(je===1)ge.children=ae;else if(1<je){for(var Nt=Array(je),rt=0;rt<je;rt++)Nt[rt]=arguments[rt+2];ge.children=Nt}if(L&&L.defaultProps)for(le in je=L.defaultProps,je)ge[le]===void 0&&(ge[le]=je[le]);return I(L,Ie,ge)},be.createRef=function(){return{current:null}},be.forwardRef=function(L){return{$$typeof:m,render:L}},be.isValidElement=C,be.lazy=function(L){return{$$typeof:E,_payload:{_status:-1,_result:L},_init:oe}},be.memo=function(L,Z){return{$$typeof:y,type:L,compare:Z===void 0?null:Z}},be.startTransition=function(L){var Z=N.T,ae={};N.T=ae;try{var le=L(),ge=N.S;ge!==null&&ge(ae,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Te,Se)}catch(Ie){Se(Ie)}finally{Z!==null&&ae.types!==null&&(Z.types=ae.types),N.T=Z}},be.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},be.use=function(L){return N.H.use(L)},be.useActionState=function(L,Z,ae){return N.H.useActionState(L,Z,ae)},be.useCallback=function(L,Z){return N.H.useCallback(L,Z)},be.useContext=function(L){return N.H.useContext(L)},be.useDebugValue=function(){},be.useDeferredValue=function(L,Z){return N.H.useDeferredValue(L,Z)},be.useEffect=function(L,Z){return N.H.useEffect(L,Z)},be.useEffectEvent=function(L){return N.H.useEffectEvent(L)},be.useId=function(){return N.H.useId()},be.useImperativeHandle=function(L,Z,ae){return N.H.useImperativeHandle(L,Z,ae)},be.useInsertionEffect=function(L,Z){return N.H.useInsertionEffect(L,Z)},be.useLayoutEffect=function(L,Z){return N.H.useLayoutEffect(L,Z)},be.useMemo=function(L,Z){return N.H.useMemo(L,Z)},be.useOptimistic=function(L,Z){return N.H.useOptimistic(L,Z)},be.useReducer=function(L,Z,ae){return N.H.useReducer(L,Z,ae)},be.useRef=function(L){return N.H.useRef(L)},be.useState=function(L){return N.H.useState(L)},be.useSyncExternalStore=function(L,Z,ae){return N.H.useSyncExternalStore(L,Z,ae)},be.useTransition=function(){return N.H.useTransition()},be.version="19.2.1",be}var yv;function Qm(){return yv||(yv=1,Wd.exports=Mb()),Wd.exports}var P=Qm();const Vb=uT(P);var Zd={exports:{}},bl={},em={exports:{}},tm={};var _v;function Lb(){return _v||(_v=1,(function(r){function e(X,J){var oe=X.length;X.push(J);e:for(;0<oe;){var Se=oe-1>>>1,xe=X[Se];if(0<o(xe,J))X[Se]=J,X[oe]=xe,oe=Se;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var J=X[0],oe=X.pop();if(oe!==J){X[0]=oe;e:for(var Se=0,xe=X.length,L=xe>>>1;Se<L;){var Z=2*(Se+1)-1,ae=X[Z],le=Z+1,ge=X[le];if(0>o(ae,oe))le<xe&&0>o(ge,ae)?(X[Se]=ge,X[le]=oe,Se=le):(X[Se]=ae,X[Z]=oe,Se=Z);else if(le<xe&&0>o(ge,oe))X[Se]=ge,X[le]=oe,Se=le;else break e}}return J}function o(X,J){var oe=X.sortIndex-J.sortIndex;return oe!==0?oe:X.id-J.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,T=null,R=3,M=!1,j=!1,Q=!1,q=!1,Y=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function he(X){for(var J=n(y);J!==null;){if(J.callback===null)s(y);else if(J.startTime<=X)s(y),J.sortIndex=J.expirationTime,e(p,J);else break;J=n(y)}}function me(X){if(Q=!1,he(X),!j)if(n(p)!==null)j=!0,Te||(Te=!0,k());else{var J=n(y);J!==null&&ft(me,J.startTime-X)}}var Te=!1,N=-1,w=5,I=-1;function x(){return q?!0:!(r.unstable_now()-I<w)}function C(){if(q=!1,Te){var X=r.unstable_now();I=X;var J=!0;try{e:{j=!1,Q&&(Q=!1,te(N),N=-1),M=!0;var oe=R;try{t:{for(he(X),T=n(p);T!==null&&!(T.expirationTime>X&&x());){var Se=T.callback;if(typeof Se=="function"){T.callback=null,R=T.priorityLevel;var xe=Se(T.expirationTime<=X);if(X=r.unstable_now(),typeof xe=="function"){T.callback=xe,he(X),J=!0;break t}T===n(p)&&s(p),he(X)}else s(p);T=n(p)}if(T!==null)J=!0;else{var L=n(y);L!==null&&ft(me,L.startTime-X),J=!1}}break e}finally{T=null,R=oe,M=!1}J=void 0}}finally{J?k():Te=!1}}}var k;if(typeof ie=="function")k=function(){ie(C)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Be=D.port2;D.port1.onmessage=C,k=function(){Be.postMessage(null)}}else k=function(){Y(C,0)};function ft(X,J){N=Y(function(){X(r.unstable_now())},J)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(X){switch(R){case 1:case 2:case 3:var J=3;break;default:J=R}var oe=R;R=J;try{return X()}finally{R=oe}},r.unstable_requestPaint=function(){q=!0},r.unstable_runWithPriority=function(X,J){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var oe=R;R=X;try{return J()}finally{R=oe}},r.unstable_scheduleCallback=function(X,J,oe){var Se=r.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Se+oe:Se):oe=Se,X){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=oe+xe,X={id:E++,callback:J,priorityLevel:X,startTime:oe,expirationTime:xe,sortIndex:-1},oe>Se?(X.sortIndex=oe,e(y,X),n(p)===null&&X===n(y)&&(Q?(te(N),N=-1):Q=!0,ft(me,oe-Se))):(X.sortIndex=xe,e(p,X),j||M||(j=!0,Te||(Te=!0,k()))),X},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(X){var J=R;return function(){var oe=R;R=J;try{return X.apply(this,arguments)}finally{R=oe}}}})(tm)),tm}var vv;function kb(){return vv||(vv=1,em.exports=Lb()),em.exports}var nm={exports:{}},Qt={};var Ev;function Pb(){if(Ev)return Qt;Ev=1;var r=Qm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},Qt.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Qt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Qt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,M=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:R,fetchPriority:M}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:R,fetchPriority:M,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Qt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Qt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Qt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Qt.requestFormReset=function(p){s.d.r(p)},Qt.unstable_batchedUpdates=function(p,y){return p(y)},Qt.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Qt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qt.version="19.2.1",Qt}var Tv;function Ub(){if(Tv)return nm.exports;Tv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),nm.exports=Pb(),nm.exports}var Sv;function jb(){if(Sv)return bl;Sv=1;var r=kb(),e=Qm(),n=Ub();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,R=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=C&&t[C]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Be(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case Y:return"Profiler";case q:return"StrictMode";case me:return"Suspense";case Te:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case ie:return t.displayName||"Context";case te:return(t._context.displayName||"Context")+".Consumer";case he:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:Be(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return Be(t(i))}catch{}}return null}var ft=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Se=[],xe=-1;function L(t){return{current:t}}function Z(t){0>xe||(t.current=Se[xe],Se[xe]=null,xe--)}function ae(t,i){xe++,Se[xe]=t.current,t.current=i}var le=L(null),ge=L(null),Ie=L(null),je=L(null);function Nt(t,i){switch(ae(Ie,i),ae(ge,t),ae(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?P_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=P_(i),t=U_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(le),ae(le,t)}function rt(){Z(le),Z(ge),Z(Ie)}function fs(t){t.memoizedState!==null&&ae(je,t);var i=le.current,a=U_(i,t.type);i!==a&&(ae(ge,t),ae(le,a))}function ta(t){ge.current===t&&(Z(le),Z(ge)),je.current===t&&(Z(je),vl._currentValue=oe)}var na,ia;function ei(t){if(na===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);na=i&&i[1]||"",ia=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+na+t+ia}var vo=!1;function ds(t,i){if(!t||vo)return"";vo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(K){var F=K}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(K){F=K}t.call(ee.prototype)}}else{try{throw Error()}catch(K){F=K}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var O=_.split(`
`),H=S.split(`
`);for(h=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===O.length||h===H.length)for(l=O.length-1,h=H.length-1;1<=l&&0<=h&&O[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(O[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||O[l]!==H[h]){var $=`
`+O[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{vo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ei(a):""}function Eo(t,i){switch(t.tag){case 26:case 27:case 5:return ei(t.type);case 16:return ei("Lazy");case 13:return t.child!==i&&i!==null?ei("Suspense Fallback"):ei("Suspense");case 19:return ei("SuspenseList");case 0:case 15:return ds(t.type,!1);case 11:return ds(t.type.render,!1);case 1:return ds(t.type,!0);case 31:return ei("Activity");default:return""}}function To(t){try{var i="",a=null;do i+=Eo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _t=Object.prototype.hasOwnProperty,Dt=r.unstable_scheduleCallback,mr=r.unstable_cancelCallback,Wh=r.unstable_shouldYield,cu=r.unstable_requestPaint,Zt=r.unstable_now,ms=r.unstable_getCurrentPriorityLevel,So=r.unstable_ImmediatePriority,Ao=r.unstable_UserBlockingPriority,pr=r.unstable_NormalPriority,Zh=r.unstable_LowPriority,hu=r.unstable_IdlePriority,fu=r.log,du=r.unstable_setDisableYieldValue,Pn=null,jt=null;function Tn(t){if(typeof fu=="function"&&du(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(Pn,t)}catch{}}var dt=Math.clz32?Math.clz32:pu,mu=Math.log,ra=Math.LN2;function pu(t){return t>>>=0,t===0?32:31-(mu(t)/ra|0)|0}var ti=256,ps=262144,vt=4194304;function ni(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ii(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=ni(l):(_&=S,_!==0?h=ni(_):a||(a=S&~t,a!==0&&(h=ni(a))))):(S=l&~d,S!==0?h=ni(S):_!==0?h=ni(_):a||(a=l&~t,a!==0&&(h=ni(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Un(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ef(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gu(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function ri(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function gs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function tf(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,O=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-dt(a),ee=1<<$;S[$]=0,O[$]=-1;var F=H[$];if(F!==null)for(H[$]=null,$=0;$<F.length;$++){var K=F[$];K!==null&&(K.lane&=-536870913)}a&=~ee}l!==0&&ys(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function ys(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-dt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function bo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-dt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function wo(t,i){var a=i&-i;return a=(a&42)!==0?1:_s(a),(a&(t.suspendedLanes|i))!==0?0:a}function _s(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function xi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function yu(){var t=J.p;return t!==0?t:(t=window.event,t===void 0?32:ov(t.type))}function jn(t,i){var a=J.p;try{return J.p=t,i()}finally{J.p=a}}var zn=Math.random().toString(36).slice(2),Et="__reactFiber$"+zn,Vt="__reactProps$"+zn,si="__reactContainer$"+zn,sa="__reactEvents$"+zn,nf="__reactListeners$"+zn,_u="__reactHandles$"+zn,vu="__reactResources$"+zn,ai="__reactMarker$"+zn;function aa(t){delete t[Et],delete t[Vt],delete t[sa],delete t[nf],delete t[_u]}function oi(t){var i=t[Et];if(i)return i;for(var a=t.parentNode;a;){if(i=a[si]||a[Et]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=G_(t);t!==null;){if(a=t[Et])return a;t=G_(t)}return i}t=a,a=t.parentNode}return null}function Sn(t){if(t=t[Et]||t[si]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function hn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function li(t){var i=t[vu];return i||(i=t[vu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Tt(t){t[ai]=!0}var Ro=new Set,Co={};function ui(t,i){ci(t,i),ci(t+"Capture",i)}function ci(t,i){for(Co[t]=i,t=0;t<i.length;t++)Ro.add(i[t])}var Io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},Do={};function Eu(t){return _t.call(Do,t)?!0:_t.call(No,t)?!1:Io.test(t)?Do[t]=!0:(No[t]=!0,!1)}function oa(t,i,a){if(Eu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function fn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function St(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Oo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=gr(t)?"checked":"value";t._valueTracker=Oo(t,i,""+t[i])}}function vs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=gr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function hi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Es=/[\n"\\]/g;function nn(t){return t.replace(Es,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function la(t,i,a,l,h,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?xo(t,_,Lt(i)):a!=null?xo(t,_,Lt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Lt(S):t.removeAttribute("name")}function Tu(t,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+Lt(a):"",i=i!=null?""+Lt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function xo(t,i,a){i==="number"&&hi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function yr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Su(t,i,a){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Lt(a):""}function _r(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ft(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Lt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function rn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Au.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Vo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Mo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Mo(t,d,i[d])}function ua(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ca(t){return vr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Bn(){}var Lo=null;function An(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Er=null,fi=null;function Ts(t){var i=Sn(t);if(i&&(t=i.stateNode)){var a=t[Vt]||null;e:switch(t=i.stateNode,i.type){case"input":if(la(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+nn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Vt]||null;if(!h)throw Error(s(90));la(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&vs(l)}break e;case"textarea":Su(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&yr(t,!!a.multiple,i,!1)}}}var ha=!1;function Tr(t,i,a){if(ha)return t(i,a);ha=!0;try{var l=t(i);return l}finally{if(ha=!1,(Er!==null||fi!==null)&&(yc(),Er&&(i=Er,t=fi,fi=Er=null,Ts(i),t)))for(i=0;i<t.length;i++)Ts(t[i])}}function Hn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Vt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ss=!1;if(bn)try{var $e={};Object.defineProperty($e,"passive",{get:function(){Ss=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{Ss=!1}var di=null,ko=null,As=null;function Po(){if(As)return As;var t,i=ko,a=i.length,l,h="value"in di?di.value:di.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return As=h.slice(t,1<l?1-l:void 0)}function bs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Mi(){return!0}function qn(){return!1}function zt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Mi:qn,this.isPropagationStopped=qn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),i}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=zt(Vi),Sr=T({},Vi,{view:0,detail:0}),Uo=zt(Sr),Ar,fa,pi,da=T({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:br,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pi&&(pi&&t.type==="mousemove"?(Ar=t.screenX-pi.screenX,fa=t.screenY-pi.screenY):fa=Ar=0,pi=t),Ar)},movementY:function(t){return"movementY"in t?t.movementY:fa}}),jo=zt(da),ws=T({},da,{dataTransfer:0}),wu=zt(ws),Ru=T({},Sr,{relatedTarget:0}),Rs=zt(Ru),zo=T({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),Cu=zt(zo),ma=T({},Vi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Iu=zt(ma),Nu=T({},Vi,{data:0}),gi=zt(Nu),Du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=xu[t])?!!i[t]:!1}function br(){return Mu}var en=T({},Sr,{key:function(t){if(t.key){var i=Du[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=bs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ou[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:br,charCode:function(t){return t.type==="keypress"?bs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Vu=zt(en),Lu=T({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Li=zt(Lu),c=T({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:br}),g=zt(c),v=T({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=zt(v),z=T({},da,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=zt(z),se=T({},Vi,{newState:0,oldState:0}),Re=zt(se),mt=[9,13,27,32],Fe=bn&&"CompositionEvent"in window,st=null;bn&&"documentMode"in document&&(st=document.documentMode);var wn=bn&&"TextEvent"in window&&!st,yi=bn&&(!Fe||st&&8<st&&11>=st),Fn=" ",Gn=!1;function Cs(t,i){switch(t){case"keyup":return mt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ga=!1;function tA(t,i){switch(t){case"compositionend":return pa(i);case"keypress":return i.which!==32?null:(Gn=!0,Fn);case"textInput":return t=i.data,t===Fn&&Gn?null:t;default:return null}}function nA(t,i){if(ga)return t==="compositionend"||!Fe&&Cs(t,i)?(t=Po(),As=ko=di=null,ga=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return yi&&i.locale!=="ko"?null:i.data;default:return null}}var iA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!iA[t.type]:i==="textarea"}function Xp(t,i,a,l){Er?fi?fi.push(l):fi=[l]:Er=l,i=bc(i,"onChange"),0<i.length&&(a=new mi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Bo=null,Ho=null;function rA(t){O_(t,0)}function ku(t){var i=hn(t);if(vs(i))return t}function $p(t,i){if(t==="change")return i}var Jp=!1;if(bn){var rf;if(bn){var sf="oninput"in document;if(!sf){var Wp=document.createElement("div");Wp.setAttribute("oninput","return;"),sf=typeof Wp.oninput=="function"}rf=sf}else rf=!1;Jp=rf&&(!document.documentMode||9<document.documentMode)}function Zp(){Bo&&(Bo.detachEvent("onpropertychange",eg),Ho=Bo=null)}function eg(t){if(t.propertyName==="value"&&ku(Ho)){var i=[];Xp(i,Ho,t,An(t)),Tr(rA,i)}}function sA(t,i,a){t==="focusin"?(Zp(),Bo=i,Ho=a,Bo.attachEvent("onpropertychange",eg)):t==="focusout"&&Zp()}function aA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ku(Ho)}function oA(t,i){if(t==="click")return ku(i)}function lA(t,i){if(t==="input"||t==="change")return ku(i)}function uA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var dn=typeof Object.is=="function"?Object.is:uA;function qo(t,i){if(dn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!_t.call(i,h)||!dn(t[h],i[h]))return!1}return!0}function tg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ng(t,i){var a=tg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=tg(a)}}function ig(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?ig(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function rg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=hi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=hi(t.document)}return i}function af(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var cA=bn&&"documentMode"in document&&11>=document.documentMode,ya=null,of=null,Fo=null,lf=!1;function sg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;lf||ya==null||ya!==hi(l)||(l=ya,"selectionStart"in l&&af(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Fo&&qo(Fo,l)||(Fo=l,l=bc(of,"onSelect"),0<l.length&&(i=new mi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ya)))}function Is(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var _a={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},uf={},ag={};bn&&(ag=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function Ns(t){if(uf[t])return uf[t];if(!_a[t])return t;var i=_a[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in ag)return uf[t]=i[a];return t}var og=Ns("animationend"),lg=Ns("animationiteration"),ug=Ns("animationstart"),hA=Ns("transitionrun"),fA=Ns("transitionstart"),dA=Ns("transitioncancel"),cg=Ns("transitionend"),hg=new Map,cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cf.push("scrollEnd");function Yn(t,i){hg.set(t,i),ui(i,[t])}var Pu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Rn=[],va=0,hf=0;function Uu(){for(var t=va,i=hf=va=0;i<t;){var a=Rn[i];Rn[i++]=null;var l=Rn[i];Rn[i++]=null;var h=Rn[i];Rn[i++]=null;var d=Rn[i];if(Rn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&fg(a,h,d)}}function ju(t,i,a,l){Rn[va++]=t,Rn[va++]=i,Rn[va++]=a,Rn[va++]=l,hf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ff(t,i,a,l){return ju(t,i,a,l),zu(t)}function Ds(t,i){return ju(t,null,null,i),zu(t)}function fg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-dt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function zu(t){if(50<fl)throw fl=0,Td=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ea={};function mA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,i,a,l){return new mA(t,i,a,l)}function df(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ki(t,i){var a=t.alternate;return a===null?(a=mn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function dg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Bu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")df(t)&&(_=1);else if(typeof t=="string")_=vb(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=mn(31,a,i,h),t.elementType=I,t.lanes=d,t;case Q:return Os(a.children,h,d,i);case q:_=8,h|=24;break;case Y:return t=mn(12,a,i,h|2),t.elementType=Y,t.lanes=d,t;case me:return t=mn(13,a,i,h),t.elementType=me,t.lanes=d,t;case Te:return t=mn(19,a,i,h),t.elementType=Te,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case te:_=9;break e;case he:_=11;break e;case N:_=14;break e;case w:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=mn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Os(t,i,a,l){return t=mn(7,t,l,i),t.lanes=a,t}function mf(t,i,a){return t=mn(6,t,null,i),t.lanes=a,t}function mg(t){var i=mn(18,null,null,0);return i.stateNode=t,i}function pf(t,i,a){return i=mn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var pg=new WeakMap;function Cn(t,i){if(typeof t=="object"&&t!==null){var a=pg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:To(i)},pg.set(t,i),i)}return{value:t,source:i,stack:To(i)}}var Ta=[],Sa=0,Hu=null,Go=0,In=[],Nn=0,wr=null,_i=1,vi="";function Pi(t,i){Ta[Sa++]=Go,Ta[Sa++]=Hu,Hu=t,Go=i}function gg(t,i,a){In[Nn++]=_i,In[Nn++]=vi,In[Nn++]=wr,wr=t;var l=_i;t=vi;var h=32-dt(l)-1;l&=~(1<<h),a+=1;var d=32-dt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,_i=1<<32-dt(i)+h|a<<h|l,vi=d+t}else _i=1<<d|a<<h|l,vi=t}function gf(t){t.return!==null&&(Pi(t,1),gg(t,1,0))}function yf(t){for(;t===Hu;)Hu=Ta[--Sa],Ta[Sa]=null,Go=Ta[--Sa],Ta[Sa]=null;for(;t===wr;)wr=In[--Nn],In[Nn]=null,vi=In[--Nn],In[Nn]=null,_i=In[--Nn],In[Nn]=null}function yg(t,i){In[Nn++]=_i,In[Nn++]=vi,In[Nn++]=wr,_i=i.id,vi=i.overflow,wr=t}var Bt=null,tt=null,Ue=!1,Rr=null,Dn=!1,_f=Error(s(519));function Cr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yo(Cn(i,t)),_f}function _g(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Et]=t,i[Vt]=l,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<ml.length;a++)Oe(ml[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),Tu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),_r(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||L_(i.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=Bn),i=!0):i=!1,i||Cr(t,!0)}function vg(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Bt=Bt.return}}function Aa(t){if(t!==Bt)return!1;if(!Ue)return vg(t),Ue=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||kd(t.type,t.memoizedProps)),a=!a),a&&tt&&Cr(t),vg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=F_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=F_(t)}else i===27?(i=tt,Br(t.type)?(t=Bd,Bd=null,tt=t):tt=i):tt=Bt?xn(t.stateNode.nextSibling):null;return!0}function xs(){tt=Bt=null,Ue=!1}function vf(){var t=Rr;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),Rr=null),t}function Yo(t){Rr===null?Rr=[t]:Rr.push(t)}var Ef=L(null),Ms=null,Ui=null;function Ir(t,i,a){ae(Ef,i._currentValue),i._currentValue=a}function ji(t){t._currentValue=Ef.current,Z(Ef)}function Tf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Sf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var O=0;O<i.length;O++)if(S.context===i[O]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Tf(d.return,a,t),l||(_=null);break e}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Tf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function ba(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;dn(h.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(h===je.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(vl):t=[vl])}h=h.return}t!==null&&Sf(i,t,a,l),i.flags|=262144}function qu(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Vs(t){Ms=t,Ui=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return Eg(Ms,t)}function Fu(t,i){return Ms===null&&Vs(t),Eg(t,i)}function Eg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ui===null){if(t===null)throw Error(s(308));Ui=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ui=Ui.next=i;return a}var pA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},gA=r.unstable_scheduleCallback,yA=r.unstable_NormalPriority,At={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Af(){return{controller:new pA,data:new Map,refCount:0}}function Ko(t){t.refCount--,t.refCount===0&&gA(yA,function(){t.controller.abort()})}var Qo=null,bf=0,wa=0,Ra=null;function _A(t,i){if(Qo===null){var a=Qo=[];bf=0,wa=Cd(),Ra={status:"pending",value:void 0,then:function(l){a.push(l)}}}return bf++,i.then(Tg,Tg),i}function Tg(){if(--bf===0&&Qo!==null){Ra!==null&&(Ra.status="fulfilled");var t=Qo;Qo=null,wa=0,Ra=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function vA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Sg=X.S;X.S=function(t,i){s_=Zt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&_A(t,i),Sg!==null&&Sg(t,i)};var Ls=L(null);function wf(){var t=Ls.current;return t!==null?t:et.pooledCache}function Gu(t,i){i===null?ae(Ls,Ls.current):ae(Ls,i.pool)}function Ag(){var t=wf();return t===null?null:{parent:At._currentValue,pool:t}}var Ca=Error(s(460)),Rf=Error(s(474)),Yu=Error(s(542)),Ku={then:function(){}};function bg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function wg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Bn,Bn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Cg(t),t;default:if(typeof i.status=="string")i.then(Bn,Bn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Cg(t),t}throw Ps=i,Ca}}function ks(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ps=a,Ca):a}}var Ps=null;function Rg(){if(Ps===null)throw Error(s(459));var t=Ps;return Ps=null,t}function Cg(t){if(t===Ca||t===Yu)throw Error(s(483))}var Ia=null,Xo=0;function Qu(t){var i=Xo;return Xo+=1,Ia===null&&(Ia=[]),wg(Ia,t,i)}function $o(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Xu(t,i){throw i.$$typeof===R?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ig(t){function i(U,V){if(t){var B=U.deletions;B===null?(U.deletions=[V],U.flags|=16):B.push(V)}}function a(U,V){if(!t)return null;for(;V!==null;)i(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function h(U,V){return U=ki(U,V),U.index=0,U.sibling=null,U}function d(U,V,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<V?(U.flags|=67108866,V):B):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function S(U,V,B,W){return V===null||V.tag!==6?(V=mf(B,U.mode,W),V.return=U,V):(V=h(V,B),V.return=U,V)}function O(U,V,B,W){var pe=B.type;return pe===Q?$(U,V,B.props.children,W,B.key):V!==null&&(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&ks(pe)===V.type)?(V=h(V,B.props),$o(V,B),V.return=U,V):(V=Bu(B.type,B.key,B.props,null,U.mode,W),$o(V,B),V.return=U,V)}function H(U,V,B,W){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=pf(B,U.mode,W),V.return=U,V):(V=h(V,B.children||[]),V.return=U,V)}function $(U,V,B,W,pe){return V===null||V.tag!==7?(V=Os(B,U.mode,W,pe),V.return=U,V):(V=h(V,B),V.return=U,V)}function ee(U,V,B){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=mf(""+V,U.mode,B),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case M:return B=Bu(V.type,V.key,V.props,null,U.mode,B),$o(B,V),B.return=U,B;case j:return V=pf(V,U.mode,B),V.return=U,V;case w:return V=ks(V),ee(U,V,B)}if(ft(V)||k(V))return V=Os(V,U.mode,B,null),V.return=U,V;if(typeof V.then=="function")return ee(U,Qu(V),B);if(V.$$typeof===ie)return ee(U,Fu(U,V),B);Xu(U,V)}return null}function F(U,V,B,W){var pe=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return pe!==null?null:S(U,V,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case M:return B.key===pe?O(U,V,B,W):null;case j:return B.key===pe?H(U,V,B,W):null;case w:return B=ks(B),F(U,V,B,W)}if(ft(B)||k(B))return pe!==null?null:$(U,V,B,W,null);if(typeof B.then=="function")return F(U,V,Qu(B),W);if(B.$$typeof===ie)return F(U,V,Fu(U,B),W);Xu(U,B)}return null}function K(U,V,B,W,pe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return U=U.get(B)||null,S(V,U,""+W,pe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case M:return U=U.get(W.key===null?B:W.key)||null,O(V,U,W,pe);case j:return U=U.get(W.key===null?B:W.key)||null,H(V,U,W,pe);case w:return W=ks(W),K(U,V,B,W,pe)}if(ft(W)||k(W))return U=U.get(B)||null,$(V,U,W,pe,null);if(typeof W.then=="function")return K(U,V,B,Qu(W),pe);if(W.$$typeof===ie)return K(U,V,B,Fu(V,W),pe);Xu(V,W)}return null}function ce(U,V,B,W){for(var pe=null,He=null,fe=V,Ne=V=0,Ve=null;fe!==null&&Ne<B.length;Ne++){fe.index>Ne?(Ve=fe,fe=null):Ve=fe.sibling;var qe=F(U,fe,B[Ne],W);if(qe===null){fe===null&&(fe=Ve);break}t&&fe&&qe.alternate===null&&i(U,fe),V=d(qe,V,Ne),He===null?pe=qe:He.sibling=qe,He=qe,fe=Ve}if(Ne===B.length)return a(U,fe),Ue&&Pi(U,Ne),pe;if(fe===null){for(;Ne<B.length;Ne++)fe=ee(U,B[Ne],W),fe!==null&&(V=d(fe,V,Ne),He===null?pe=fe:He.sibling=fe,He=fe);return Ue&&Pi(U,Ne),pe}for(fe=l(fe);Ne<B.length;Ne++)Ve=K(fe,U,Ne,B[Ne],W),Ve!==null&&(t&&Ve.alternate!==null&&fe.delete(Ve.key===null?Ne:Ve.key),V=d(Ve,V,Ne),He===null?pe=Ve:He.sibling=Ve,He=Ve);return t&&fe.forEach(function(Yr){return i(U,Yr)}),Ue&&Pi(U,Ne),pe}function _e(U,V,B,W){if(B==null)throw Error(s(151));for(var pe=null,He=null,fe=V,Ne=V=0,Ve=null,qe=B.next();fe!==null&&!qe.done;Ne++,qe=B.next()){fe.index>Ne?(Ve=fe,fe=null):Ve=fe.sibling;var Yr=F(U,fe,qe.value,W);if(Yr===null){fe===null&&(fe=Ve);break}t&&fe&&Yr.alternate===null&&i(U,fe),V=d(Yr,V,Ne),He===null?pe=Yr:He.sibling=Yr,He=Yr,fe=Ve}if(qe.done)return a(U,fe),Ue&&Pi(U,Ne),pe;if(fe===null){for(;!qe.done;Ne++,qe=B.next())qe=ee(U,qe.value,W),qe!==null&&(V=d(qe,V,Ne),He===null?pe=qe:He.sibling=qe,He=qe);return Ue&&Pi(U,Ne),pe}for(fe=l(fe);!qe.done;Ne++,qe=B.next())qe=K(fe,U,Ne,qe.value,W),qe!==null&&(t&&qe.alternate!==null&&fe.delete(qe.key===null?Ne:qe.key),V=d(qe,V,Ne),He===null?pe=qe:He.sibling=qe,He=qe);return t&&fe.forEach(function(Db){return i(U,Db)}),Ue&&Pi(U,Ne),pe}function Ze(U,V,B,W){if(typeof B=="object"&&B!==null&&B.type===Q&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case M:e:{for(var pe=B.key;V!==null;){if(V.key===pe){if(pe=B.type,pe===Q){if(V.tag===7){a(U,V.sibling),W=h(V,B.props.children),W.return=U,U=W;break e}}else if(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&ks(pe)===V.type){a(U,V.sibling),W=h(V,B.props),$o(W,B),W.return=U,U=W;break e}a(U,V);break}else i(U,V);V=V.sibling}B.type===Q?(W=Os(B.props.children,U.mode,W,B.key),W.return=U,U=W):(W=Bu(B.type,B.key,B.props,null,U.mode,W),$o(W,B),W.return=U,U=W)}return _(U);case j:e:{for(pe=B.key;V!==null;){if(V.key===pe)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){a(U,V.sibling),W=h(V,B.children||[]),W.return=U,U=W;break e}else{a(U,V);break}else i(U,V);V=V.sibling}W=pf(B,U.mode,W),W.return=U,U=W}return _(U);case w:return B=ks(B),Ze(U,V,B,W)}if(ft(B))return ce(U,V,B,W);if(k(B)){if(pe=k(B),typeof pe!="function")throw Error(s(150));return B=pe.call(B),_e(U,V,B,W)}if(typeof B.then=="function")return Ze(U,V,Qu(B),W);if(B.$$typeof===ie)return Ze(U,V,Fu(U,B),W);Xu(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,V!==null&&V.tag===6?(a(U,V.sibling),W=h(V,B),W.return=U,U=W):(a(U,V),W=mf(B,U.mode,W),W.return=U,U=W),_(U)):a(U,V)}return function(U,V,B,W){try{Xo=0;var pe=Ze(U,V,B,W);return Ia=null,pe}catch(fe){if(fe===Ca||fe===Yu)throw fe;var He=mn(29,fe,null,U.mode);return He.lanes=W,He.return=U,He}finally{}}}var Us=Ig(!0),Ng=Ig(!1),Nr=!1;function Cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function If(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Dr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Or(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=zu(t),fg(t,null,a),i}return ju(t,l,i,a),zu(t)}function Jo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,bo(t,a)}}function Nf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Df=!1;function Wo(){if(Df){var t=Ra;if(t!==null)throw t}}function Zo(t,i,a,l){Df=!1;var h=t.updateQueue;Nr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var O=S,H=O.next;O.next=null,_===null?d=H:_.next=H,_=O;var $=t.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==_&&(S===null?$.firstBaseUpdate=H:S.next=H,$.lastBaseUpdate=O))}if(d!==null){var ee=h.baseState;_=0,$=H=O=null,S=d;do{var F=S.lane&-536870913,K=F!==S.lane;if(K?(Me&F)===F:(l&F)===F){F!==0&&F===wa&&(Df=!0),$!==null&&($=$.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ce=t,_e=S;F=i;var Ze=a;switch(_e.tag){case 1:if(ce=_e.payload,typeof ce=="function"){ee=ce.call(Ze,ee,F);break e}ee=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=_e.payload,F=typeof ce=="function"?ce.call(Ze,ee,F):ce,F==null)break e;ee=T({},ee,F);break e;case 2:Nr=!0}}F=S.callback,F!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[F]:K.push(F))}else K={lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(H=$=K,O=ee):$=$.next=K,_|=F;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;K=S,S=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);$===null&&(O=ee),h.baseState=O,h.firstBaseUpdate=H,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),kr|=_,t.lanes=_,t.memoizedState=ee}}function Dg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Og(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Dg(a[t],i)}var Na=L(null),$u=L(0);function xg(t,i){t=Qi,ae($u,t),ae(Na,i),Qi=t|i.baseLanes}function Of(){ae($u,Qi),ae(Na,Na.current)}function xf(){Qi=$u.current,Z(Na),Z($u)}var pn=L(null),On=null;function xr(t){var i=t.alternate;ae(pt,pt.current&1),ae(pn,t),On===null&&(i===null||Na.current!==null||i.memoizedState!==null)&&(On=t)}function Mf(t){ae(pt,pt.current),ae(pn,t),On===null&&(On=t)}function Mg(t){t.tag===22?(ae(pt,pt.current),ae(pn,t),On===null&&(On=t)):Mr()}function Mr(){ae(pt,pt.current),ae(pn,pn.current)}function gn(t){Z(pn),On===t&&(On=null),Z(pt)}var pt=L(0);function Ju(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||jd(a)||zd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var zi=0,Ce=null,Je=null,bt=null,Wu=!1,Da=!1,js=!1,Zu=0,el=0,Oa=null,EA=0;function ct(){throw Error(s(321))}function Vf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!dn(t[a],i[a]))return!1;return!0}function Lf(t,i,a,l,h,d){return zi=d,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=t===null||t.memoizedState===null?gy:$f,js=!1,d=a(l,h),js=!1,Da&&(d=Lg(i,a,l,h)),Vg(t),d}function Vg(t){X.H=il;var i=Je!==null&&Je.next!==null;if(zi=0,bt=Je=Ce=null,Wu=!1,el=0,Oa=null,i)throw Error(s(300));t===null||wt||(t=t.dependencies,t!==null&&qu(t)&&(wt=!0))}function Lg(t,i,a,l){Ce=t;var h=0;do{if(Da&&(Oa=null),el=0,Da=!1,25<=h)throw Error(s(301));if(h+=1,bt=Je=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=yy,d=i(a,l)}while(Da);return d}function TA(){var t=X.H,i=t.useState()[0];return i=typeof i.then=="function"?tl(i):i,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Ce.flags|=1024),i}function kf(){var t=Zu!==0;return Zu=0,t}function Pf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Uf(t){if(Wu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Wu=!1}zi=0,bt=Je=Ce=null,Da=!1,el=Zu=0,Oa=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Ce.memoizedState=bt=t:bt=bt.next=t,bt}function gt(){if(Je===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var i=bt===null?Ce.memoizedState:bt.next;if(i!==null)bt=i,Je=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},bt===null?Ce.memoizedState=bt=t:bt=bt.next=t}return bt}function ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(t){var i=el;return el+=1,Oa===null&&(Oa=[]),t=wg(Oa,t,i),i=Ce,(bt===null?i.memoizedState:bt.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?gy:$f),t}function tc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return tl(t);if(t.$$typeof===ie)return Ht(t)}throw Error(s(438,String(t)))}function jf(t){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ec(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=x;return i.index++,a}function Bi(t,i){return typeof i=="function"?i(t):i}function nc(t){var i=gt();return zf(i,Je,t)}function zf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=_=null,O=null,H=i,$=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(Me&ee)===ee:(zi&ee)===ee){var F=H.revertLane;if(F===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===wa&&($=!0);else if((zi&F)===F){H=H.next,F===wa&&($=!0);continue}else ee={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(S=O=ee,_=d):O=O.next=ee,Ce.lanes|=F,kr|=F;ee=H.action,js&&a(d,ee),d=H.hasEagerState?H.eagerState:a(d,ee)}else F={lane:ee,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(S=O=F,_=d):O=O.next=F,Ce.lanes|=ee,kr|=ee;H=H.next}while(H!==null&&H!==i);if(O===null?_=d:O.next=S,!dn(d,t.memoizedState)&&(wt=!0,$&&(a=Ra,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=O,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Bf(t){var i=gt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);dn(d,i.memoizedState)||(wt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function kg(t,i,a){var l=Ce,h=gt(),d=Ue;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!dn((Je||h).memoizedState,a);if(_&&(h.memoizedState=a,wt=!0),h=h.queue,Ff(jg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,xa(9,{destroy:void 0},Ug.bind(null,l,h,a,i),null),et===null)throw Error(s(349));d||(zi&127)!==0||Pg(l,i,a)}return a}function Pg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=ec(),Ce.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Ug(t,i,a,l){i.value=a,i.getSnapshot=l,zg(i)&&Bg(t)}function jg(t,i,a){return a(function(){zg(i)&&Bg(t)})}function zg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!dn(t,a)}catch{return!0}}function Bg(t){var i=Ds(t,2);i!==null&&un(i,t,2)}function Hf(t){var i=tn();if(typeof t=="function"){var a=t;if(t=a(),js){Tn(!0);try{a()}finally{Tn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:t},i}function Hg(t,i,a,l){return t.baseState=a,zf(t,Je,typeof l=="function"?l:Bi)}function SA(t,i,a,l,h){if(sc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,qg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function qg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=X.T,_={};X.T=_;try{var S=a(h,l),O=X.S;O!==null&&O(_,S),Fg(t,i,S)}catch(H){qf(t,i,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),X.T=d}}else try{d=a(h,l),Fg(t,i,d)}catch(H){qf(t,i,H)}}function Fg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Gg(t,i,l)},function(l){return qf(t,i,l)}):Gg(t,i,a)}function Gg(t,i,a){i.status="fulfilled",i.value=a,Yg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,qg(t,a)))}function qf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Yg(i),i=i.next;while(i!==l)}t.action=null}function Yg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Kg(t,i){return i}function Qg(t,i){if(Ue){var a=et.formState;if(a!==null){e:{var l=Ce;if(Ue){if(tt){t:{for(var h=tt,d=Dn;h.nodeType!==8;){if(!d){h=null;break t}if(h=xn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){tt=xn(h.nextSibling),l=h.data==="F!";break e}}Cr(l)}l=!1}l&&(i=a[0])}}return a=tn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kg,lastRenderedState:i},a.queue=l,a=dy.bind(null,Ce,l),l.dispatch=a,l=Hf(!1),d=Xf.bind(null,Ce,!1,l.queue),l=tn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=SA.bind(null,Ce,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Xg(t){var i=gt();return $g(i,Je,t)}function $g(t,i,a){if(i=zf(t,i,Kg)[0],t=nc(Bi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=tl(i)}catch(_){throw _===Ca?Yu:_}else l=i;i=gt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ce.flags|=2048,xa(9,{destroy:void 0},AA.bind(null,h,a),null)),[l,d,t]}function AA(t,i){t.action=i}function Jg(t){var i=gt(),a=Je;if(a!==null)return $g(i,a,t);gt(),i=i.memoizedState,a=gt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function xa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=ec(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Wg(){return gt().memoizedState}function ic(t,i,a,l){var h=tn();Ce.flags|=t,h.memoizedState=xa(1|i,{destroy:void 0},a,l===void 0?null:l)}function rc(t,i,a,l){var h=gt();l=l===void 0?null:l;var d=h.memoizedState.inst;Je!==null&&l!==null&&Vf(l,Je.memoizedState.deps)?h.memoizedState=xa(i,d,a,l):(Ce.flags|=t,h.memoizedState=xa(1|i,d,a,l))}function Zg(t,i){ic(8390656,8,t,i)}function Ff(t,i){rc(2048,8,t,i)}function bA(t){Ce.flags|=4;var i=Ce.updateQueue;if(i===null)i=ec(),Ce.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function ey(t){var i=gt().memoizedState;return bA({ref:i,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function ty(t,i){return rc(4,2,t,i)}function ny(t,i){return rc(4,4,t,i)}function iy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ry(t,i,a){a=a!=null?a.concat([t]):null,rc(4,4,iy.bind(null,i,t),a)}function Gf(){}function sy(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Vf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function ay(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Vf(i,l[1]))return l[0];if(l=t(),js){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,i],l}function Yf(t,i,a){return a===void 0||(zi&1073741824)!==0&&(Me&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=o_(),Ce.lanes|=t,kr|=t,a)}function oy(t,i,a,l){return dn(a,i)?a:Na.current!==null?(t=Yf(t,a,l),dn(t,i)||(wt=!0),t):(zi&42)===0||(zi&1073741824)!==0&&(Me&261930)===0?(wt=!0,t.memoizedState=a):(t=o_(),Ce.lanes|=t,kr|=t,i)}function ly(t,i,a,l,h){var d=J.p;J.p=d!==0&&8>d?d:8;var _=X.T,S={};X.T=S,Xf(t,!1,i,a);try{var O=h(),H=X.S;if(H!==null&&H(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var $=vA(O,l);nl(t,i,$,vn(t))}else nl(t,i,l,vn(t))}catch(ee){nl(t,i,{then:function(){},status:"rejected",reason:ee},vn())}finally{J.p=d,_!==null&&S.types!==null&&(_.types=S.types),X.T=_}}function wA(){}function Kf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=uy(t).queue;ly(t,h,i,oe,a===null?wA:function(){return cy(t),a(l)})}function uy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:oe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function cy(t){var i=uy(t);i.next===null&&(i=t.alternate.memoizedState),nl(t,i.next.queue,{},vn())}function Qf(){return Ht(vl)}function hy(){return gt().memoizedState}function fy(){return gt().memoizedState}function RA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=vn();t=Dr(a);var l=Or(i,t,a);l!==null&&(un(l,i,a),Jo(l,i,a)),i={cache:Af()},t.payload=i;return}i=i.return}}function CA(t,i,a){var l=vn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},sc(t)?my(i,a):(a=ff(t,i,a,l),a!==null&&(un(a,t,l),py(a,i,l)))}function dy(t,i,a){var l=vn();nl(t,i,a,l)}function nl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(sc(t))my(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,dn(S,_))return ju(t,i,h,0),et===null&&Uu(),!1}catch{}finally{}if(a=ff(t,i,h,l),a!==null)return un(a,t,l),py(a,i,l),!0}return!1}function Xf(t,i,a,l){if(l={lane:2,revertLane:Cd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},sc(t)){if(i)throw Error(s(479))}else i=ff(t,a,l,2),i!==null&&un(i,t,2)}function sc(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function my(t,i){Da=Wu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function py(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,bo(t,a)}}var il={readContext:Ht,use:tc,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};il.useEffectEvent=ct;var gy={readContext:Ht,use:tc,useCallback:function(t,i){return tn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:Zg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ic(4194308,4,iy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ic(4194308,4,t,i)},useInsertionEffect:function(t,i){ic(4,2,t,i)},useMemo:function(t,i){var a=tn();i=i===void 0?null:i;var l=t();if(js){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=tn();if(a!==void 0){var h=a(i);if(js){Tn(!0);try{a(i)}finally{Tn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=CA.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var i=tn();return t={current:t},i.memoizedState=t},useState:function(t){t=Hf(t);var i=t.queue,a=dy.bind(null,Ce,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Gf,useDeferredValue:function(t,i){var a=tn();return Yf(a,t,i)},useTransition:function(){var t=Hf(!1);return t=ly.bind(null,Ce,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ce,h=tn();if(Ue){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(Me&127)!==0||Pg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Zg(jg.bind(null,l,d,t),[t]),l.flags|=2048,xa(9,{destroy:void 0},Ug.bind(null,l,d,a,i),null),a},useId:function(){var t=tn(),i=et.identifierPrefix;if(Ue){var a=vi,l=_i;a=(l&~(1<<32-dt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Zu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=EA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Qf,useFormState:Qg,useActionState:Qg,useOptimistic:function(t){var i=tn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Xf.bind(null,Ce,!0,a),a.dispatch=i,[t,i]},useMemoCache:jf,useCacheRefresh:function(){return tn().memoizedState=RA.bind(null,Ce)},useEffectEvent:function(t){var i=tn(),a={impl:t};return i.memoizedState=a,function(){if((Ge&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},$f={readContext:Ht,use:tc,useCallback:sy,useContext:Ht,useEffect:Ff,useImperativeHandle:ry,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:ay,useReducer:nc,useRef:Wg,useState:function(){return nc(Bi)},useDebugValue:Gf,useDeferredValue:function(t,i){var a=gt();return oy(a,Je.memoizedState,t,i)},useTransition:function(){var t=nc(Bi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:tl(t),i]},useSyncExternalStore:kg,useId:hy,useHostTransitionStatus:Qf,useFormState:Xg,useActionState:Xg,useOptimistic:function(t,i){var a=gt();return Hg(a,Je,t,i)},useMemoCache:jf,useCacheRefresh:fy};$f.useEffectEvent=ey;var yy={readContext:Ht,use:tc,useCallback:sy,useContext:Ht,useEffect:Ff,useImperativeHandle:ry,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:ay,useReducer:Bf,useRef:Wg,useState:function(){return Bf(Bi)},useDebugValue:Gf,useDeferredValue:function(t,i){var a=gt();return Je===null?Yf(a,t,i):oy(a,Je.memoizedState,t,i)},useTransition:function(){var t=Bf(Bi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:tl(t),i]},useSyncExternalStore:kg,useId:hy,useHostTransitionStatus:Qf,useFormState:Jg,useActionState:Jg,useOptimistic:function(t,i){var a=gt();return Je!==null?Hg(a,Je,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:jf,useCacheRefresh:fy};yy.useEffectEvent=ey;function Jf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Wf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=vn(),h=Dr(l);h.payload=i,a!=null&&(h.callback=a),i=Or(t,h,l),i!==null&&(un(i,t,l),Jo(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=vn(),h=Dr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Or(t,h,l),i!==null&&(un(i,t,l),Jo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=vn(),l=Dr(a);l.tag=2,i!=null&&(l.callback=i),i=Or(t,l,a),i!==null&&(un(i,t,a),Jo(i,t,a))}};function _y(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!qo(a,l)||!qo(h,d):!0}function vy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Wf.enqueueReplaceState(i,i.state,null)}function zs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Ey(t){Pu(t)}function Ty(t){console.error(t)}function Sy(t){Pu(t)}function ac(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ay(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Zf(t,i,a){return a=Dr(a),a.tag=3,a.payload={element:null},a.callback=function(){ac(t,i)},a}function by(t){return t=Dr(t),t.tag=3,t}function wy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Ay(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Ay(i,a,l),typeof h!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function IA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ba(i,a,h,!0),a=pn.current,a!==null){switch(a.tag){case 31:case 13:return On===null?_c():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Ku?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),bd(t,l,h)),!1;case 22:return a.flags|=65536,l===Ku?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),bd(t,l,h)),!1}throw Error(s(435,a.tag))}return bd(t,l,h),_c(),!1}if(Ue)return i=pn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==_f&&(t=Error(s(422),{cause:l}),Yo(Cn(t,a)))):(l!==_f&&(i=Error(s(423),{cause:l}),Yo(Cn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Cn(l,a),h=Zf(t.stateNode,l,h),Nf(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=Cn(d,a),hl===null?hl=[d]:hl.push(d),ht!==4&&(ht=2),i===null)return!0;l=Cn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Zf(a.stateNode,l,t),Nf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Pr===null||!Pr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=by(h),wy(h,t,a,l),Nf(a,h),!1}a=a.return}while(a!==null);return!1}var ed=Error(s(461)),wt=!1;function qt(t,i,a,l){i.child=t===null?Ng(i,null,a,l):Us(i,t.child,a,l)}function Ry(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Vs(i),l=Lf(t,i,a,_,d,h),S=kf(),t!==null&&!wt?(Pf(t,i,h),Hi(t,i,h)):(Ue&&S&&gf(i),i.flags|=1,qt(t,i,l,h),i.child)}function Cy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!df(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Iy(t,i,d,l,h)):(t=Bu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!ld(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:qo,a(_,l)&&t.ref===i.ref)return Hi(t,i,h)}return i.flags|=1,t=ki(d,l),t.ref=i.ref,t.return=i,i.child=t}function Iy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(qo(d,l)&&t.ref===i.ref)if(wt=!1,i.pendingProps=l=d,ld(t,h))(t.flags&131072)!==0&&(wt=!0);else return i.lanes=t.lanes,Hi(t,i,h)}return td(t,i,a,l,h)}function Ny(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Dy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Gu(i,d!==null?d.cachePool:null),d!==null?xg(i,d):Of(),Mg(i);else return l=i.lanes=536870912,Dy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Gu(i,d.cachePool),xg(i,d),Mr(),i.memoizedState=null):(t!==null&&Gu(i,null),Of(),Mr());return qt(t,i,h,a),i.child}function rl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Dy(t,i,a,l,h){var d=wf();return d=d===null?null:{parent:At._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Gu(i,null),Of(),Mg(i),t!==null&&ba(t,i,l,!0),i.childLanes=h,null}function oc(t,i){return i=uc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Oy(t,i,a){return Us(i,t.child,null,a),t=oc(i,i.pendingProps),t.flags|=2,gn(i),i.memoizedState=null,t}function NA(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ue){if(l.mode==="hidden")return t=oc(i,l),i.lanes=536870912,rl(null,t);if(Mf(i),(t=tt)?(t=q_(t,Dn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:wr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=mg(t),a.return=i,i.child=a,Bt=i,tt=null)):t=null,t===null)throw Cr(i);return i.lanes=536870912,null}return oc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Mf(i),h)if(i.flags&256)i.flags&=-257,i=Oy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(wt||ba(t,i,a,!1),h=(a&t.childLanes)!==0,wt||h){if(l=et,l!==null&&(_=wo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ds(t,_),un(l,t,_),ed;_c(),i=Oy(t,i,a)}else t=d.treeContext,tt=xn(_.nextSibling),Bt=i,Ue=!0,Rr=null,Dn=!1,t!==null&&yg(i,t),i=oc(i,l),i.flags|=4096;return i}return t=ki(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function lc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function td(t,i,a,l,h){return Vs(i),a=Lf(t,i,a,l,void 0,h),l=kf(),t!==null&&!wt?(Pf(t,i,h),Hi(t,i,h)):(Ue&&l&&gf(i),i.flags|=1,qt(t,i,a,h),i.child)}function xy(t,i,a,l,h,d){return Vs(i),i.updateQueue=null,a=Lg(i,l,a,h),Vg(t),l=kf(),t!==null&&!wt?(Pf(t,i,d),Hi(t,i,d)):(Ue&&l&&gf(i),i.flags|=1,qt(t,i,a,d),i.child)}function My(t,i,a,l,h){if(Vs(i),i.stateNode===null){var d=Ea,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ht(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Wf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Cf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ht(_):Ea,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Jf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Wf.enqueueReplaceState(d,d.state,null),Zo(i,l,d,h),Wo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,O=zs(a,S);d.props=O;var H=d.context,$=a.contextType;_=Ea,typeof $=="object"&&$!==null&&(_=Ht($));var ee=a.getDerivedStateFromProps;$=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||H!==_)&&vy(i,d,l,_),Nr=!1;var F=i.memoizedState;d.state=F,Zo(i,l,d,h),Wo(),H=i.memoizedState,S||F!==H||Nr?(typeof ee=="function"&&(Jf(i,a,ee,l),H=i.memoizedState),(O=Nr||_y(i,a,O,l,F,H,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=_,l=O):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,If(t,i),_=i.memoizedProps,$=zs(a,_),d.props=$,ee=i.pendingProps,F=d.context,H=a.contextType,O=Ea,typeof H=="object"&&H!==null&&(O=Ht(H)),S=a.getDerivedStateFromProps,(H=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||F!==O)&&vy(i,d,l,O),Nr=!1,F=i.memoizedState,d.state=F,Zo(i,l,d,h),Wo();var K=i.memoizedState;_!==ee||F!==K||Nr||t!==null&&t.dependencies!==null&&qu(t.dependencies)?(typeof S=="function"&&(Jf(i,a,S,l),K=i.memoizedState),($=Nr||_y(i,a,$,l,F,K,O)||t!==null&&t.dependencies!==null&&qu(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,O)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=O,l=$):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,lc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Us(i,t.child,null,h),i.child=Us(i,null,a,h)):qt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Hi(t,i,h),t}function Vy(t,i,a,l){return xs(),i.flags|=256,qt(t,i,a,l),i.child}var nd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function id(t){return{baseLanes:t,cachePool:Ag()}}function rd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=_n),t}function Ly(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ue){if(h?xr(i):Mr(),(t=tt)?(t=q_(t,Dn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:wr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=mg(t),a.return=i,i.child=a,Bt=i,tt=null)):t=null,t===null)throw Cr(i);return zd(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(Mr(),h=i.mode,S=uc({mode:"hidden",children:S},h),l=Os(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=id(a),l.childLanes=rd(t,_,a),i.memoizedState=nd,rl(null,l)):(xr(i),sd(i,S))}var O=t.memoizedState;if(O!==null&&(S=O.dehydrated,S!==null)){if(d)i.flags&256?(xr(i),i.flags&=-257,i=ad(t,i,a)):i.memoizedState!==null?(Mr(),i.child=t.child,i.flags|=128,i=null):(Mr(),S=l.fallback,h=i.mode,l=uc({mode:"visible",children:l.children},h),S=Os(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Us(i,t.child,null,a),l=i.child,l.memoizedState=id(a),l.childLanes=rd(t,_,a),i.memoizedState=nd,i=rl(null,l));else if(xr(i),zd(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,Yo({value:l,source:null,stack:null}),i=ad(t,i,a)}else if(wt||ba(t,i,a,!1),_=(a&t.childLanes)!==0,wt||_){if(_=et,_!==null&&(l=wo(_,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,Ds(t,l),un(_,t,l),ed;jd(S)||_c(),i=ad(t,i,a)}else jd(S)?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,tt=xn(S.nextSibling),Bt=i,Ue=!0,Rr=null,Dn=!1,t!==null&&yg(i,t),i=sd(i,l.children),i.flags|=4096);return i}return h?(Mr(),S=l.fallback,h=i.mode,O=t.child,H=O.sibling,l=ki(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,H!==null?S=ki(H,S):(S=Os(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,rl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=id(a):(h=S.cachePool,h!==null?(O=At._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=Ag(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=rd(t,_,a),i.memoizedState=nd,rl(t.child,l)):(xr(i),a=t.child,t=a.sibling,a=ki(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function sd(t,i){return i=uc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function uc(t,i){return t=mn(22,t,null,i),t.lanes=0,t}function ad(t,i,a){return Us(i,t.child,null,a),t=sd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function ky(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Tf(t.return,i,a)}function od(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Py(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=pt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,ae(pt,_),qt(t,i,l,a),l=Ue?Go:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ky(t,a,i);else if(t.tag===19)ky(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Ju(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),od(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Ju(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}od(i,!0,a,null,d,l);break;case"together":od(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Hi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),kr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(ba(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=ki(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ki(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function ld(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&qu(t)))}function DA(t,i,a){switch(i.tag){case 3:Nt(i,i.stateNode.containerInfo),Ir(i,At,t.memoizedState.cache),xs();break;case 27:case 5:fs(i);break;case 4:Nt(i,i.stateNode.containerInfo);break;case 10:Ir(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Mf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(xr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ly(t,i,a):(xr(i),t=Hi(t,i,a),t!==null?t.sibling:null);xr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ba(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Py(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(pt,pt.current),l)break;return null;case 22:return i.lanes=0,Ny(t,i,a,i.pendingProps);case 24:Ir(i,At,t.memoizedState.cache)}return Hi(t,i,a)}function Uy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)wt=!0;else{if(!ld(t,a)&&(i.flags&128)===0)return wt=!1,DA(t,i,a);wt=(t.flags&131072)!==0}else wt=!1,Ue&&(i.flags&1048576)!==0&&gg(i,Go,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=ks(i.elementType),i.type=t,typeof t=="function")df(t)?(l=zs(t,l),i.tag=1,i=My(null,i,t,l,a)):(i.tag=0,i=td(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===he){i.tag=11,i=Ry(null,i,t,l,a);break e}else if(h===N){i.tag=14,i=Cy(null,i,t,l,a);break e}}throw i=Be(t)||t,Error(s(306,i,""))}}return i;case 0:return td(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=zs(l,i.pendingProps),My(t,i,l,h,a);case 3:e:{if(Nt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,If(t,i),Zo(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Ir(i,At,l),l!==d.cache&&Sf(i,[At],a,!0),Wo(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Vy(t,i,l,a);break e}else if(l!==h){h=Cn(Error(s(424)),i),Yo(h),i=Vy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(tt=xn(t.firstChild),Bt=i,Ue=!0,Rr=null,Dn=!0,a=Ng(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(xs(),l===h){i=Hi(t,i,a);break e}qt(t,i,l,a)}i=i.child}return i;case 26:return lc(t,i),t===null?(a=X_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ue||(a=i.type,t=i.pendingProps,l=wc(Ie.current).createElement(a),l[Et]=i,l[Vt]=t,Ft(l,a,t),Tt(l),i.stateNode=l):i.memoizedState=X_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return fs(i),t===null&&Ue&&(l=i.stateNode=Y_(i.type,i.pendingProps,Ie.current),Bt=i,Dn=!0,h=tt,Br(i.type)?(Bd=h,tt=xn(l.firstChild)):tt=h),qt(t,i,i.pendingProps.children,a),lc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ue&&((h=l=tt)&&(l=ab(l,i.type,i.pendingProps,Dn),l!==null?(i.stateNode=l,Bt=i,tt=xn(l.firstChild),Dn=!1,h=!0):h=!1),h||Cr(i)),fs(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,kd(h,d)?l=null:_!==null&&kd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Lf(t,i,TA,null,null,a),vl._currentValue=h),lc(t,i),qt(t,i,l,a),i.child;case 6:return t===null&&Ue&&((t=a=tt)&&(a=ob(a,i.pendingProps,Dn),a!==null?(i.stateNode=a,Bt=i,tt=null,t=!0):t=!1),t||Cr(i)),null;case 13:return Ly(t,i,a);case 4:return Nt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Us(i,null,l,a):qt(t,i,l,a),i.child;case 11:return Ry(t,i,i.type,i.pendingProps,a);case 7:return qt(t,i,i.pendingProps,a),i.child;case 8:return qt(t,i,i.pendingProps.children,a),i.child;case 12:return qt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ir(i,i.type,l.value),qt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Vs(i),h=Ht(h),l=l(h),i.flags|=1,qt(t,i,l,a),i.child;case 14:return Cy(t,i,i.type,i.pendingProps,a);case 15:return Iy(t,i,i.type,i.pendingProps,a);case 19:return Py(t,i,a);case 31:return NA(t,i,a);case 22:return Ny(t,i,a,i.pendingProps);case 24:return Vs(i),l=Ht(At),t===null?(h=wf(),h===null&&(h=et,d=Af(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Cf(i),Ir(i,At,h)):((t.lanes&a)!==0&&(If(t,i),Zo(i,null,null,a),Wo()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ir(i,At,l)):(l=d.cache,Ir(i,At,l),l!==h.cache&&Sf(i,[At],a,!0))),qt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function qi(t){t.flags|=4}function ud(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(h_())t.flags|=8192;else throw Ps=Ku,Rf}else t.flags&=-16777217}function jy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ev(i))if(h_())t.flags|=8192;else throw Ps=Ku,Rf}function cc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?gu():536870912,t.lanes|=i,ka|=i)}function sl(t,i){if(!Ue)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function OA(t,i,a){var l=i.pendingProps;switch(yf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(i),null;case 1:return nt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ji(At),rt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Aa(i)?qi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,vf())),nt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(qi(i),d!==null?(nt(i),jy(i,d)):(nt(i),ud(i,h,null,l,a))):d?d!==t.memoizedState?(qi(i),nt(i),jy(i,d)):(nt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&qi(i),nt(i),ud(i,h,t,l,a)),null;case 27:if(ta(i),a=Ie.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}t=le.current,Aa(i)?_g(i):(t=Y_(h,l,a),i.stateNode=t,qi(i))}return nt(i),null;case 5:if(ta(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}if(d=le.current,Aa(i))_g(i);else{var _=wc(Ie.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Et]=i,d[Vt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Ft(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&qi(i)}}return nt(i),ud(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&qi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ie.current,Aa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Et]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||L_(t.nodeValue,a)),t||Cr(i,!0)}else t=wc(t).createTextNode(l),t[Et]=i,i.stateNode=t}return nt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Aa(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Et]=i}else xs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),t=!1}else a=vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(gn(i),i):(gn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return nt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Aa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Et]=i}else xs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),h=!1}else h=vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(gn(i),i):(gn(i),null)}return gn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),cc(i,i.updateQueue),nt(i),null);case 4:return rt(),t===null&&Od(i.stateNode.containerInfo),nt(i),null;case 10:return ji(i.type),nt(i),null;case 19:if(Z(pt),l=i.memoizedState,l===null)return nt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)sl(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Ju(t),d!==null){for(i.flags|=128,sl(l,!1),t=d.updateQueue,i.updateQueue=t,cc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)dg(a,t),a=a.sibling;return ae(pt,pt.current&1|2),Ue&&Pi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Zt()>pc&&(i.flags|=128,h=!0,sl(l,!1),i.lanes=4194304)}else{if(!h)if(t=Ju(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,cc(i,t),sl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ue)return nt(i),null}else 2*Zt()-l.renderingStartTime>pc&&a!==536870912&&(i.flags|=128,h=!0,sl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Zt(),t.sibling=null,a=pt.current,ae(pt,h?a&1|2:a&1),Ue&&Pi(i,l.treeForkCount),t):(nt(i),null);case 22:case 23:return gn(i),xf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(nt(i),i.subtreeFlags&6&&(i.flags|=8192)):nt(i),a=i.updateQueue,a!==null&&cc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Z(Ls),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ji(At),nt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function xA(t,i){switch(yf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ji(At),rt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ta(i),null;case 31:if(i.memoizedState!==null){if(gn(i),i.alternate===null)throw Error(s(340));xs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(gn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));xs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Z(pt),null;case 4:return rt(),null;case 10:return ji(i.type),null;case 22:case 23:return gn(i),xf(),t!==null&&Z(Ls),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ji(At),null;case 25:return null;default:return null}}function zy(t,i){switch(yf(i),i.tag){case 3:ji(At),rt();break;case 26:case 27:case 5:ta(i);break;case 4:rt();break;case 31:i.memoizedState!==null&&gn(i);break;case 13:gn(i);break;case 19:Z(pt);break;case 10:ji(i.type);break;case 22:case 23:gn(i),xf(),t!==null&&Z(Ls);break;case 24:ji(At)}}function al(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){Xe(i,i.return,S)}}function Vr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var O=a,H=S;try{H()}catch($){Xe(h,O,$)}}}l=l.next}while(l!==d)}}catch($){Xe(i,i.return,$)}}function By(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Og(i,a)}catch(l){Xe(t,t.return,l)}}}function Hy(t,i,a){a.props=zs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,i,l)}}function ol(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Xe(t,i,h)}}function Ei(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Xe(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xe(t,i,h)}else a.current=null}function qy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Xe(t,t.return,h)}}function cd(t,i,a){try{var l=t.stateNode;eb(l,t.type,a,i),l[Vt]=i}catch(h){Xe(t,t.return,h)}}function Fy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Br(t.type)||t.tag===4}function hd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Br(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Bn));else if(l!==4&&(l===27&&Br(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(fd(t,i,a),t=t.sibling;t!==null;)fd(t,i,a),t=t.sibling}function hc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Br(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(hc(t,i,a),t=t.sibling;t!==null;)hc(t,i,a),t=t.sibling}function Gy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ft(i,l,a),i[Et]=t,i[Vt]=a}catch(d){Xe(t,t.return,d)}}var Fi=!1,Rt=!1,dd=!1,Yy=typeof WeakSet=="function"?WeakSet:Set,kt=null;function MA(t,i){if(t=t.containerInfo,Vd=xc,t=rg(t),af(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,O=-1,H=0,$=0,ee=t,F=null;t:for(;;){for(var K;ee!==a||h!==0&&ee.nodeType!==3||(S=_+h),ee!==d||l!==0&&ee.nodeType!==3||(O=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(K=ee.firstChild)!==null;)F=ee,ee=K;for(;;){if(ee===t)break t;if(F===a&&++H===h&&(S=_),F===d&&++$===l&&(O=_),(K=ee.nextSibling)!==null)break;ee=F,F=ee.parentNode}ee=K}a=S===-1||O===-1?null:{start:S,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ld={focusedElem:t,selectionRange:a},xc=!1,kt=i;kt!==null;)if(i=kt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,kt=t;else for(;kt!==null;){switch(i=kt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=zs(a.type,h);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Xe(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Ud(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ud(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,kt=t;break}kt=i.return}}function Ky(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Yi(t,a),l&4&&al(5,a);break;case 1:if(Yi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Xe(a,a.return,_)}else{var h=zs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(a,a.return,_)}}l&64&&By(a),l&512&&ol(a,a.return);break;case 3:if(Yi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Og(t,i)}catch(_){Xe(a,a.return,_)}}break;case 27:i===null&&l&4&&Gy(a);case 26:case 5:Yi(t,a),i===null&&l&4&&qy(a),l&512&&ol(a,a.return);break;case 12:Yi(t,a);break;case 31:Yi(t,a),l&4&&$y(t,a);break;case 13:Yi(t,a),l&4&&Jy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=HA.bind(null,a),lb(t,a))));break;case 22:if(l=a.memoizedState!==null||Fi,!l){i=i!==null&&i.memoizedState!==null||Rt,h=Fi;var d=Rt;Fi=l,(Rt=i)&&!d?Ki(t,a,(a.subtreeFlags&8772)!==0):Yi(t,a),Fi=h,Rt=d}break;case 30:break;default:Yi(t,a)}}function Qy(t){var i=t.alternate;i!==null&&(t.alternate=null,Qy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&aa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var at=null,sn=!1;function Gi(t,i,a){for(a=a.child;a!==null;)Xy(t,i,a),a=a.sibling}function Xy(t,i,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Pn,a)}catch{}switch(a.tag){case 26:Rt||Ei(a,i),Gi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rt||Ei(a,i);var l=at,h=sn;Br(a.type)&&(at=a.stateNode,sn=!1),Gi(t,i,a),gl(a.stateNode),at=l,sn=h;break;case 5:Rt||Ei(a,i);case 6:if(l=at,h=sn,at=null,Gi(t,i,a),at=l,sn=h,at!==null)if(sn)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(a.stateNode)}catch(d){Xe(a,i,d)}else try{at.removeChild(a.stateNode)}catch(d){Xe(a,i,d)}break;case 18:at!==null&&(sn?(t=at,B_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Fa(t)):B_(at,a.stateNode));break;case 4:l=at,h=sn,at=a.stateNode.containerInfo,sn=!0,Gi(t,i,a),at=l,sn=h;break;case 0:case 11:case 14:case 15:Vr(2,a,i),Rt||Vr(4,a,i),Gi(t,i,a);break;case 1:Rt||(Ei(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Hy(a,i,l)),Gi(t,i,a);break;case 21:Gi(t,i,a);break;case 22:Rt=(l=Rt)||a.memoizedState!==null,Gi(t,i,a),Rt=l;break;default:Gi(t,i,a)}}function $y(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Fa(t)}catch(a){Xe(i,i.return,a)}}}function Jy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Fa(t)}catch(a){Xe(i,i.return,a)}}function VA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Yy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Yy),i;default:throw Error(s(435,t.tag))}}function fc(t,i){var a=VA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=qA.bind(null,t,l);l.then(h,h)}})}function an(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Br(S.type)){at=S.stateNode,sn=!1;break e}break;case 5:at=S.stateNode,sn=!1;break e;case 3:case 4:at=S.stateNode.containerInfo,sn=!0;break e}S=S.return}if(at===null)throw Error(s(160));Xy(d,_,h),at=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Wy(i,t),i=i.sibling}var Kn=null;function Wy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(i,t),on(t),l&4&&(Vr(3,t,t.return),al(3,t),Vr(5,t,t.return));break;case 1:an(i,t),on(t),l&512&&(Rt||a===null||Ei(a,a.return)),l&64&&Fi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Kn;if(an(i,t),on(t),l&512&&(Rt||a===null||Ei(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ai]||d[Et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ft(d,l,a),d[Et]=t,Tt(d),l=d;break e;case"link":var _=W_("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;case"meta":if(_=W_("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Et]=t,Tt(d),l=d}t.stateNode=l}else Z_(h,t.type,t.stateNode);else t.stateNode=J_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Z_(h,t.type,t.stateNode):J_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&cd(t,t.memoizedProps,a.memoizedProps)}break;case 27:an(i,t),on(t),l&512&&(Rt||a===null||Ei(a,a.return)),a!==null&&l&4&&cd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(an(i,t),on(t),l&512&&(Rt||a===null||Ei(a,a.return)),t.flags&32){h=t.stateNode;try{rn(h,"")}catch(ce){Xe(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,cd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(dd=!0);break;case 6:if(an(i,t),on(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Xe(t,t.return,ce)}}break;case 3:if(Ic=null,h=Kn,Kn=Rc(i.containerInfo),an(i,t),Kn=h,on(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Fa(i.containerInfo)}catch(ce){Xe(t,t.return,ce)}dd&&(dd=!1,Zy(t));break;case 4:l=Kn,Kn=Rc(t.stateNode.containerInfo),an(i,t),on(t),Kn=l;break;case 12:an(i,t),on(t);break;case 31:an(i,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fc(t,l)));break;case 13:an(i,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(mc=Zt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fc(t,l)));break;case 22:h=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,H=Fi,$=Rt;if(Fi=H||h,Rt=$||O,an(i,t),Rt=$,Fi=H,on(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||O||Fi||Rt||Bs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(d=O.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=O.stateNode;var ee=O.memoizedProps.style,F=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ce){Xe(O,O.return,ce)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(ce){Xe(O,O.return,ce)}}}else if(i.tag===18){if(a===null){O=i;try{var K=O.stateNode;h?H_(K,!0):H_(O.stateNode,!1)}catch(ce){Xe(O,O.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,fc(t,a))));break;case 19:an(i,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fc(t,l)));break;case 30:break;case 21:break;default:an(i,t),on(t)}}function on(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Fy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=hd(t);hc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(rn(_,""),a.flags&=-33);var S=hd(t);hc(t,S,_);break;case 3:case 4:var O=a.stateNode.containerInfo,H=hd(t);fd(t,H,O);break;default:throw Error(s(161))}}catch($){Xe(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Zy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Zy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Yi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ky(t,i.alternate,i),i=i.sibling}function Bs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Vr(4,i,i.return),Bs(i);break;case 1:Ei(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Hy(i,i.return,a),Bs(i);break;case 27:gl(i.stateNode);case 26:case 5:Ei(i,i.return),Bs(i);break;case 22:i.memoizedState===null&&Bs(i);break;case 30:Bs(i);break;default:Bs(i)}t=t.sibling}}function Ki(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Ki(h,d,a),al(4,d);break;case 1:if(Ki(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){Xe(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)Dg(O[h],S)}catch(H){Xe(l,l.return,H)}}a&&_&64&&By(d),ol(d,d.return);break;case 27:Gy(d);case 26:case 5:Ki(h,d,a),a&&l===null&&_&4&&qy(d),ol(d,d.return);break;case 12:Ki(h,d,a);break;case 31:Ki(h,d,a),a&&_&4&&$y(h,d);break;case 13:Ki(h,d,a),a&&_&4&&Jy(h,d);break;case 22:d.memoizedState===null&&Ki(h,d,a),ol(d,d.return);break;case 30:break;default:Ki(h,d,a)}i=i.sibling}}function md(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ko(a))}function pd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ko(t))}function Qn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)e_(t,i,a,l),i=i.sibling}function e_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Qn(t,i,a,l),h&2048&&al(9,i);break;case 1:Qn(t,i,a,l);break;case 3:Qn(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ko(t)));break;case 12:if(h&2048){Qn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){Xe(i,i.return,O)}}else Qn(t,i,a,l);break;case 31:Qn(t,i,a,l);break;case 13:Qn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Qn(t,i,a,l):ll(t,i):d._visibility&2?Qn(t,i,a,l):(d._visibility|=2,Ma(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&md(_,i);break;case 24:Qn(t,i,a,l),h&2048&&pd(i.alternate,i);break;default:Qn(t,i,a,l)}}function Ma(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,O=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:Ma(d,_,S,O,h),al(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?Ma(d,_,S,O,h):ll(d,_):($._visibility|=2,Ma(d,_,S,O,h)),h&&H&2048&&md(_.alternate,_);break;case 24:Ma(d,_,S,O,h),h&&H&2048&&pd(_.alternate,_);break;default:Ma(d,_,S,O,h)}i=i.sibling}}function ll(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:ll(a,l),h&2048&&md(l.alternate,l);break;case 24:ll(a,l),h&2048&&pd(l.alternate,l);break;default:ll(a,l)}i=i.sibling}}var ul=8192;function Va(t,i,a){if(t.subtreeFlags&ul)for(t=t.child;t!==null;)t_(t,i,a),t=t.sibling}function t_(t,i,a){switch(t.tag){case 26:Va(t,i,a),t.flags&ul&&t.memoizedState!==null&&Eb(a,Kn,t.memoizedState,t.memoizedProps);break;case 5:Va(t,i,a);break;case 3:case 4:var l=Kn;Kn=Rc(t.stateNode.containerInfo),Va(t,i,a),Kn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ul,ul=16777216,Va(t,i,a),ul=l):Va(t,i,a));break;default:Va(t,i,a)}}function n_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function cl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];kt=l,r_(l,t)}n_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)i_(t),t=t.sibling}function i_(t){switch(t.tag){case 0:case 11:case 15:cl(t),t.flags&2048&&Vr(9,t,t.return);break;case 3:cl(t);break;case 12:cl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,dc(t)):cl(t);break;default:cl(t)}}function dc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];kt=l,r_(l,t)}n_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Vr(8,i,i.return),dc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,dc(i));break;default:dc(i)}t=t.sibling}}function r_(t,i){for(;kt!==null;){var a=kt;switch(a.tag){case 0:case 11:case 15:Vr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ko(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,kt=l;else e:for(a=t;kt!==null;){l=kt;var h=l.sibling,d=l.return;if(Qy(l),l===a){kt=null;break e}if(h!==null){h.return=d,kt=h;break e}kt=d}}}var LA={getCacheForType:function(t){var i=Ht(At),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(At).controller.signal}},kA=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,De=null,Me=0,Qe=0,yn=null,Lr=!1,La=!1,gd=!1,Qi=0,ht=0,kr=0,Hs=0,yd=0,_n=0,ka=0,hl=null,ln=null,_d=!1,mc=0,s_=0,pc=1/0,gc=null,Pr=null,Ot=0,Ur=null,Pa=null,Xi=0,vd=0,Ed=null,a_=null,fl=0,Td=null;function vn(){return(Ge&2)!==0&&Me!==0?Me&-Me:X.T!==null?Cd():yu()}function o_(){if(_n===0)if((Me&536870912)===0||Ue){var t=ps;ps<<=1,(ps&3932160)===0&&(ps=262144),_n=t}else _n=536870912;return t=pn.current,t!==null&&(t.flags|=32),_n}function un(t,i,a){(t===et&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(Ua(t,0),jr(t,Me,_n,!1)),gs(t,a),((Ge&2)===0||t!==et)&&(t===et&&((Ge&2)===0&&(Hs|=a),ht===4&&jr(t,Me,_n,!1)),Ti(t))}function l_(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Un(t,i),h=l?jA(t,i):Ad(t,i,!0),d=l;do{if(h===0){La&&!l&&jr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!PA(a)){h=Ad(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;h=hl;var O=S.current.memoizedState.isDehydrated;if(O&&(Ua(S,_).flags|=256),_=Ad(S,_,!1),_!==2){if(gd&&!O){S.errorRecoveryDisabledLanes|=d,Hs|=d,h=4;break e}d=ln,ln=h,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ua(t,0),jr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:jr(l,i,_n,!Lr);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=mc+300-Zt(),10<h)){if(jr(l,i,_n,!Lr),ii(l,0,!0)!==0)break e;Xi=i,l.timeoutHandle=j_(u_.bind(null,l,a,ln,gc,_d,i,_n,Hs,ka,Lr,d,"Throttled",-0,0),h);break e}u_(l,a,ln,gc,_d,i,_n,Hs,ka,Lr,d,null,-0,0)}}break}while(!0);Ti(t)}function u_(t,i,a,l,h,d,_,S,O,H,$,ee,F,K){if(t.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},t_(i,d,ee);var ce=(d&62914560)===d?mc-Zt():(d&4194048)===d?s_-Zt():0;if(ce=Tb(ee,ce),ce!==null){Xi=d,t.cancelPendingCommit=ce(y_.bind(null,t,i,d,a,l,h,_,S,O,$,ee,null,F,K)),jr(t,d,_,!H);return}}y_(t,i,d,a,l,h,_,S,O)}function PA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!dn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function jr(t,i,a,l){i&=~yd,i&=~Hs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-dt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&ys(t,a,i)}function yc(){return(Ge&6)===0?(dl(0),!1):!0}function Sd(){if(De!==null){if(Qe===0)var t=De.return;else t=De,Ui=Ms=null,Uf(t),Ia=null,Xo=0,t=De;for(;t!==null;)zy(t.alternate,t),t=t.return;De=null}}function Ua(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,ib(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Xi=0,Sd(),et=t,De=a=ki(t.current,null),Me=i,Qe=0,yn=null,Lr=!1,La=Un(t,i),gd=!1,ka=_n=yd=Hs=kr=ht=0,ln=hl=null,_d=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-dt(l),d=1<<h;i|=t[h],l&=~d}return Qi=i,Uu(),a}function c_(t,i){Ce=null,X.H=il,i===Ca||i===Yu?(i=Rg(),Qe=3):i===Rf?(i=Rg(),Qe=4):Qe=i===ed?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,yn=i,De===null&&(ht=1,ac(t,Cn(i,t.current)))}function h_(){var t=pn.current;return t===null?!0:(Me&4194048)===Me?On===null:(Me&62914560)===Me||(Me&536870912)!==0?t===On:!1}function f_(){var t=X.H;return X.H=il,t===null?il:t}function d_(){var t=X.A;return X.A=LA,t}function _c(){ht=4,Lr||(Me&4194048)!==Me&&pn.current!==null||(La=!0),(kr&134217727)===0&&(Hs&134217727)===0||et===null||jr(et,Me,_n,!1)}function Ad(t,i,a){var l=Ge;Ge|=2;var h=f_(),d=d_();(et!==t||Me!==i)&&(gc=null,Ua(t,i)),i=!1;var _=ht;e:do try{if(Qe!==0&&De!==null){var S=De,O=yn;switch(Qe){case 8:Sd(),_=6;break e;case 3:case 2:case 9:case 6:pn.current===null&&(i=!0);var H=Qe;if(Qe=0,yn=null,ja(t,S,O,H),a&&La){_=0;break e}break;default:H=Qe,Qe=0,yn=null,ja(t,S,O,H)}}UA(),_=ht;break}catch($){c_(t,$)}while(!0);return i&&t.shellSuspendCounter++,Ui=Ms=null,Ge=l,X.H=h,X.A=d,De===null&&(et=null,Me=0,Uu()),_}function UA(){for(;De!==null;)m_(De)}function jA(t,i){var a=Ge;Ge|=2;var l=f_(),h=d_();et!==t||Me!==i?(gc=null,pc=Zt()+500,Ua(t,i)):La=Un(t,i);e:do try{if(Qe!==0&&De!==null){i=De;var d=yn;t:switch(Qe){case 1:Qe=0,yn=null,ja(t,i,d,1);break;case 2:case 9:if(bg(d)){Qe=0,yn=null,p_(i);break}i=function(){Qe!==2&&Qe!==9||et!==t||(Qe=7),Ti(t)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:bg(d)?(Qe=0,yn=null,p_(i)):(Qe=0,yn=null,ja(t,i,d,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var S=De;if(_?ev(_):S.stateNode.complete){Qe=0,yn=null;var O=S.sibling;if(O!==null)De=O;else{var H=S.return;H!==null?(De=H,vc(H)):De=null}break t}}Qe=0,yn=null,ja(t,i,d,5);break;case 6:Qe=0,yn=null,ja(t,i,d,6);break;case 8:Sd(),ht=6;break e;default:throw Error(s(462))}}zA();break}catch($){c_(t,$)}while(!0);return Ui=Ms=null,X.H=l,X.A=h,Ge=a,De!==null?0:(et=null,Me=0,Uu(),ht)}function zA(){for(;De!==null&&!Wh();)m_(De)}function m_(t){var i=Uy(t.alternate,t,Qi);t.memoizedProps=t.pendingProps,i===null?vc(t):De=i}function p_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=xy(a,i,i.pendingProps,i.type,void 0,Me);break;case 11:i=xy(a,i,i.pendingProps,i.type.render,i.ref,Me);break;case 5:Uf(i);default:zy(a,i),i=De=dg(i,Qi),i=Uy(a,i,Qi)}t.memoizedProps=t.pendingProps,i===null?vc(t):De=i}function ja(t,i,a,l){Ui=Ms=null,Uf(i),Ia=null,Xo=0;var h=i.return;try{if(IA(t,h,i,a,Me)){ht=1,ac(t,Cn(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;ht=1,ac(t,Cn(a,t.current)),De=null;return}i.flags&32768?(Ue||l===1?t=!0:La||(Me&536870912)!==0?t=!1:(Lr=t=!0,(l===2||l===9||l===3||l===6)&&(l=pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),g_(i,t)):vc(i)}function vc(t){var i=t;do{if((i.flags&32768)!==0){g_(i,Lr);return}t=i.return;var a=OA(i.alternate,i,Qi);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);ht===0&&(ht=5)}function g_(t,i){do{var a=xA(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ht=6,De=null}function y_(t,i,a,l,h,d,_,S,O){t.cancelPendingCommit=null;do Ec();while(Ot!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=hf,tf(t,a,d,_,S,O),t===et&&(De=et=null,Me=0),Pa=i,Ur=t,Xi=a,vd=d,Ed=h,a_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,FA(pr,function(){return S_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=J.p,J.p=2,_=Ge,Ge|=4;try{MA(t,i,a)}finally{Ge=_,J.p=h,X.T=l}}Ot=1,__(),v_(),E_()}}function __(){if(Ot===1){Ot=0;var t=Ur,i=Pa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=J.p;J.p=2;var h=Ge;Ge|=4;try{Wy(i,t);var d=Ld,_=rg(t.containerInfo),S=d.focusedElem,O=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&ig(S.ownerDocument.documentElement,S)){if(O!==null&&af(S)){var H=O.start,$=O.end;if($===void 0&&($=H),"selectionStart"in S)S.selectionStart=H,S.selectionEnd=Math.min($,S.value.length);else{var ee=S.ownerDocument||document,F=ee&&ee.defaultView||window;if(F.getSelection){var K=F.getSelection(),ce=S.textContent.length,_e=Math.min(O.start,ce),Ze=O.end===void 0?_e:Math.min(O.end,ce);!K.extend&&_e>Ze&&(_=Ze,Ze=_e,_e=_);var U=ng(S,_e),V=ng(S,Ze);if(U&&V&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==V.node||K.focusOffset!==V.offset)){var B=ee.createRange();B.setStart(U.node,U.offset),K.removeAllRanges(),_e>Ze?(K.addRange(B),K.extend(V.node,V.offset)):(B.setEnd(V.node,V.offset),K.addRange(B))}}}}for(ee=[],K=S;K=K.parentNode;)K.nodeType===1&&ee.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var W=ee[S];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}xc=!!Vd,Ld=Vd=null}finally{Ge=h,J.p=l,X.T=a}}t.current=i,Ot=2}}function v_(){if(Ot===2){Ot=0;var t=Ur,i=Pa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=J.p;J.p=2;var h=Ge;Ge|=4;try{Ky(t,i.alternate,i)}finally{Ge=h,J.p=l,X.T=a}}Ot=3}}function E_(){if(Ot===4||Ot===3){Ot=0,cu();var t=Ur,i=Pa,a=Xi,l=a_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ot=5:(Ot=0,Pa=Ur=null,T_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Pr=null),xi(a),i=i.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Pn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,h=J.p,J.p=2,X.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{X.T=i,J.p=h}}(Xi&3)!==0&&Ec(),Ti(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Td?fl++:(fl=0,Td=t):fl=0,dl(0)}}function T_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Ko(i)))}function Ec(){return __(),v_(),E_(),S_()}function S_(){if(Ot!==5)return!1;var t=Ur,i=vd;vd=0;var a=xi(Xi),l=X.T,h=J.p;try{J.p=32>a?32:a,X.T=null,a=Ed,Ed=null;var d=Ur,_=Xi;if(Ot=0,Pa=Ur=null,Xi=0,(Ge&6)!==0)throw Error(s(331));var S=Ge;if(Ge|=4,i_(d.current),e_(d,d.current,_,a),Ge=S,dl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Pn,d)}catch{}return!0}finally{J.p=h,X.T=l,T_(t,i)}}function A_(t,i,a){i=Cn(a,i),i=Zf(t.stateNode,i,2),t=Or(t,i,2),t!==null&&(gs(t,2),Ti(t))}function Xe(t,i,a){if(t.tag===3)A_(t,t,a);else for(;i!==null;){if(i.tag===3){A_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Pr===null||!Pr.has(l))){t=Cn(a,t),a=by(2),l=Or(i,a,2),l!==null&&(wy(a,l,i,t),gs(l,2),Ti(l));break}}i=i.return}}function bd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new kA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(gd=!0,h.add(a),t=BA.bind(null,t,i,a),i.then(t,t))}function BA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Me&a)===a&&(ht===4||ht===3&&(Me&62914560)===Me&&300>Zt()-mc?(Ge&2)===0&&Ua(t,0):yd|=a,ka===Me&&(ka=0)),Ti(t)}function b_(t,i){i===0&&(i=gu()),t=Ds(t,i),t!==null&&(gs(t,i),Ti(t))}function HA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),b_(t,a)}function qA(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),b_(t,a)}function FA(t,i){return Dt(t,i)}var Tc=null,za=null,wd=!1,Sc=!1,Rd=!1,zr=0;function Ti(t){t!==za&&t.next===null&&(za===null?Tc=za=t:za=za.next=t),Sc=!0,wd||(wd=!0,YA())}function dl(t,i){if(!Rd&&Sc){Rd=!0;do for(var a=!1,l=Tc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-dt(42|t)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,I_(l,d))}else d=Me,d=ii(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Un(l,d)||(a=!0,I_(l,d));l=l.next}while(a);Rd=!1}}function GA(){w_()}function w_(){Sc=wd=!1;var t=0;zr!==0&&nb()&&(t=zr);for(var i=Zt(),a=null,l=Tc;l!==null;){var h=l.next,d=R_(l,i);d===0?(l.next=null,a===null?Tc=h:a.next=h,h===null&&(za=a)):(a=l,(t!==0||(d&3)!==0)&&(Sc=!0)),l=h}Ot!==0&&Ot!==5||dl(t),zr!==0&&(zr=0)}function R_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-dt(d),S=1<<_,O=h[_];O===-1?((S&a)===0||(S&l)!==0)&&(h[_]=ef(S,i)):O<=i&&(t.expiredLanes|=S),d&=~S}if(i=et,a=Me,a=ii(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&mr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Un(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&mr(l),xi(a)){case 2:case 8:a=Ao;break;case 32:a=pr;break;case 268435456:a=hu;break;default:a=pr}return l=C_.bind(null,t),a=Dt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&mr(l),t.callbackPriority=2,t.callbackNode=null,2}function C_(t,i){if(Ot!==0&&Ot!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ec()&&t.callbackNode!==a)return null;var l=Me;return l=ii(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(l_(t,l,i),R_(t,Zt()),t.callbackNode!=null&&t.callbackNode===a?C_.bind(null,t):null)}function I_(t,i){if(Ec())return null;l_(t,i,!0)}function YA(){rb(function(){(Ge&6)!==0?Dt(So,GA):w_()})}function Cd(){if(zr===0){var t=wa;t===0&&(t=ti,ti<<=1,(ti&261888)===0&&(ti=256)),zr=t}return zr}function N_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ca(""+t)}function D_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function KA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=N_((h[Vt]||null).action),_=l.submitter;_&&(i=(i=_[Vt]||null)?N_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new mi("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(zr!==0){var O=_?D_(h,_):new FormData(h);Kf(a,{pending:!0,data:O,method:h.method,action:d},null,O)}}else typeof d=="function"&&(S.preventDefault(),O=_?D_(h,_):new FormData(h),Kf(a,{pending:!0,data:O,method:h.method,action:d},d,O))},currentTarget:h}]})}}for(var Id=0;Id<cf.length;Id++){var Nd=cf[Id],QA=Nd.toLowerCase(),XA=Nd[0].toUpperCase()+Nd.slice(1);Yn(QA,"on"+XA)}Yn(og,"onAnimationEnd"),Yn(lg,"onAnimationIteration"),Yn(ug,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(hA,"onTransitionRun"),Yn(fA,"onTransitionStart"),Yn(dA,"onTransitionCancel"),Yn(cg,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$A=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function O_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],O=S.instance,H=S.currentTarget;if(S=S.listener,O!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=H;try{d(h)}catch($){Pu($)}h.currentTarget=null,d=O}else for(_=0;_<l.length;_++){if(S=l[_],O=S.instance,H=S.currentTarget,S=S.listener,O!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=H;try{d(h)}catch($){Pu($)}h.currentTarget=null,d=O}}}}function Oe(t,i){var a=i[sa];a===void 0&&(a=i[sa]=new Set);var l=t+"__bubble";a.has(l)||(x_(i,t,2,!1),a.add(l))}function Dd(t,i,a){var l=0;i&&(l|=4),x_(a,t,l,i)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function Od(t){if(!t[Ac]){t[Ac]=!0,Ro.forEach(function(a){a!=="selectionchange"&&($A.has(a)||Dd(a,!1,t),Dd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ac]||(i[Ac]=!0,Dd("selectionchange",!1,i))}}function x_(t,i,a,l){switch(ov(i)){case 2:var h=bb;break;case 8:h=wb;break;default:h=Yd}a=h.bind(null,i,a,t),h=void 0,!Ss||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function xd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=oi(S),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){l=d=_;continue e}S=S.parentNode}}l=l.return}Tr(function(){var H=d,$=An(a),ee=[];e:{var F=hg.get(t);if(F!==void 0){var K=mi,ce=t;switch(t){case"keypress":if(bs(a)===0)break e;case"keydown":case"keyup":K=Vu;break;case"focusin":ce="focus",K=Rs;break;case"focusout":ce="blur",K=Rs;break;case"beforeblur":case"afterblur":K=Rs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=g;break;case og:case lg:case ug:K=Cu;break;case cg:K=b;break;case"scroll":case"scrollend":K=Uo;break;case"wheel":K=G;break;case"copy":case"cut":case"paste":K=Iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Li;break;case"toggle":case"beforetoggle":K=Re}var _e=(i&4)!==0,Ze=!_e&&(t==="scroll"||t==="scrollend"),U=_e?F!==null?F+"Capture":null:F;_e=[];for(var V=H,B;V!==null;){var W=V;if(B=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||B===null||U===null||(W=Hn(V,U),W!=null&&_e.push(pl(V,W,B))),Ze)break;V=V.return}0<_e.length&&(F=new K(F,ce,null,a,$),ee.push({event:F,listeners:_e}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",F&&a!==Lo&&(ce=a.relatedTarget||a.fromElement)&&(oi(ce)||ce[si]))break e;if((K||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,K?(ce=a.relatedTarget||a.toElement,K=H,ce=ce?oi(ce):null,ce!==null&&(Ze=u(ce),_e=ce.tag,ce!==Ze||_e!==5&&_e!==27&&_e!==6)&&(ce=null)):(K=null,ce=H),K!==ce)){if(_e=jo,W="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Li,W="onPointerLeave",U="onPointerEnter",V="pointer"),Ze=K==null?F:hn(K),B=ce==null?F:hn(ce),F=new _e(W,V+"leave",K,a,$),F.target=Ze,F.relatedTarget=B,W=null,oi($)===H&&(_e=new _e(U,V+"enter",ce,a,$),_e.target=B,_e.relatedTarget=Ze,W=_e),Ze=W,K&&ce)t:{for(_e=JA,U=K,V=ce,B=0,W=U;W;W=_e(W))B++;W=0;for(var pe=V;pe;pe=_e(pe))W++;for(;0<B-W;)U=_e(U),B--;for(;0<W-B;)V=_e(V),W--;for(;B--;){if(U===V||V!==null&&U===V.alternate){_e=U;break t}U=_e(U),V=_e(V)}_e=null}else _e=null;K!==null&&M_(ee,F,K,_e,!1),ce!==null&&Ze!==null&&M_(ee,Ze,ce,_e,!0)}}e:{if(F=H?hn(H):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var He=$p;else if(Qp(F))if(Jp)He=lA;else{He=aA;var fe=sA}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&ua(H.elementType)&&(He=$p):He=oA;if(He&&(He=He(t,H))){Xp(ee,He,a,$);break e}fe&&fe(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&xo(F,"number",F.value)}switch(fe=H?hn(H):window,t){case"focusin":(Qp(fe)||fe.contentEditable==="true")&&(ya=fe,of=H,Fo=null);break;case"focusout":Fo=of=ya=null;break;case"mousedown":lf=!0;break;case"contextmenu":case"mouseup":case"dragend":lf=!1,sg(ee,a,$);break;case"selectionchange":if(cA)break;case"keydown":case"keyup":sg(ee,a,$)}var Ne;if(Fe)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else ga?Cs(t,a)&&(Ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ve="onCompositionStart");Ve&&(yi&&a.locale!=="ko"&&(ga||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&ga&&(Ne=Po()):(di=$,ko="value"in di?di.value:di.textContent,ga=!0)),fe=bc(H,Ve),0<fe.length&&(Ve=new gi(Ve,t,null,a,$),ee.push({event:Ve,listeners:fe}),Ne?Ve.data=Ne:(Ne=pa(a),Ne!==null&&(Ve.data=Ne)))),(Ne=wn?tA(t,a):nA(t,a))&&(Ve=bc(H,"onBeforeInput"),0<Ve.length&&(fe=new gi("onBeforeInput","beforeinput",null,a,$),ee.push({event:fe,listeners:Ve}),fe.data=Ne)),KA(ee,t,H,a,$)}O_(ee,i)})}function pl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function bc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Hn(t,a),h!=null&&l.unshift(pl(t,h,d)),h=Hn(t,i),h!=null&&l.push(pl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function JA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function M_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,O=S.alternate,H=S.stateNode;if(S=S.tag,O!==null&&O===l)break;S!==5&&S!==26&&S!==27||H===null||(O=H,h?(H=Hn(a,d),H!=null&&_.unshift(pl(a,H,O))):h||(H=Hn(a,d),H!=null&&_.push(pl(a,H,O)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var WA=/\r\n?/g,ZA=/\u0000|\uFFFD/g;function V_(t){return(typeof t=="string"?t:""+t).replace(WA,`
`).replace(ZA,"")}function L_(t,i){return i=V_(i),V_(t)===i}function We(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||rn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&rn(t,""+l);break;case"className":fn(t,"class",l);break;case"tabIndex":fn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(t,a,l);break;case"style":Vo(t,l,d);break;case"data":if(i!=="object"){fn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ca(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ca(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Bn);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ca(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),oa(t,"popover",l);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":oa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bu.get(a)||a,oa(t,a,l))}}function Md(t,i,a,l,h,d){switch(a){case"style":Vo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?rn(t,l):(typeof l=="number"||typeof l=="bigint")&&rn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Co.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Vt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):oa(t,a,l)}}}function Ft(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,d,_,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":Oe("invalid",t);var S=d=_=h=null,O=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":_=$;break;case"checked":O=$;break;case"defaultChecked":H=$;break;case"value":d=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:We(t,i,l,$,a,null)}}Tu(t,d,S,O,H,_,h,!1);return;case"select":Oe("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:We(t,i,h,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?yr(t,!!l,i,!1):a!=null&&yr(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:We(t,i,_,S,a,null)}_r(t,l,h,d);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,i,O,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<ml.length;l++)Oe(ml[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,H,l,a,null)}return;default:if(ua(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Md(t,i,$,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&We(t,i,S,l,a,null))}function eb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,O=null,H=null,$=null;for(K in a){var ee=a[K];if(a.hasOwnProperty(K)&&ee!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":O=ee;default:l.hasOwnProperty(K)||We(t,i,K,null,l,ee)}}for(var F in l){var K=l[F];if(ee=a[F],l.hasOwnProperty(F)&&(K!=null||ee!=null))switch(F){case"type":d=K;break;case"name":h=K;break;case"checked":H=K;break;case"defaultChecked":$=K;break;case"value":_=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==ee&&We(t,i,F,K,l,ee)}}la(t,_,S,O,H,$,d,h);return;case"select":K=_=S=F=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":K=O;default:l.hasOwnProperty(d)||We(t,i,d,null,l,O)}for(h in l)if(d=l[h],O=a[h],l.hasOwnProperty(h)&&(d!=null||O!=null))switch(h){case"value":F=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==O&&We(t,i,h,d,l,O)}i=S,a=_,l=K,F!=null?yr(t,!!a,F,!1):!!l!=!!a&&(i!=null?yr(t,!!a,i,!0):yr(t,!!a,a?[]:"",!1));return;case"textarea":K=F=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:We(t,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,i,_,h,l,d)}Su(t,F,K);return;case"option":for(var ce in a)if(F=a[ce],a.hasOwnProperty(ce)&&F!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:We(t,i,ce,null,l,F)}for(O in l)if(F=l[O],K=a[O],l.hasOwnProperty(O)&&F!==K&&(F!=null||K!=null))switch(O){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:We(t,i,O,F,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)F=a[_e],a.hasOwnProperty(_e)&&F!=null&&!l.hasOwnProperty(_e)&&We(t,i,_e,null,l,F);for(H in l)if(F=l[H],K=a[H],l.hasOwnProperty(H)&&F!==K&&(F!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:We(t,i,H,F,l,K)}return;default:if(ua(i)){for(var Ze in a)F=a[Ze],a.hasOwnProperty(Ze)&&F!==void 0&&!l.hasOwnProperty(Ze)&&Md(t,i,Ze,void 0,l,F);for($ in l)F=l[$],K=a[$],!l.hasOwnProperty($)||F===K||F===void 0&&K===void 0||Md(t,i,$,F,l,K);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&We(t,i,U,null,l,F);for(ee in l)F=l[ee],K=a[ee],!l.hasOwnProperty(ee)||F===K||F==null&&K==null||We(t,i,ee,F,l,K)}function k_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&k_(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var O=a[l],H=O.startTime;if(H>S)break;var $=O.transferSize,ee=O.initiatorType;$&&k_(ee)&&(O=O.responseEnd,_+=$*(O<S?1:(S-H)/(O-H)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Vd=null,Ld=null;function wc(t){return t.nodeType===9?t:t.ownerDocument}function P_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function kd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Pd=null;function nb(){var t=window.event;return t&&t.type==="popstate"?t===Pd?!1:(Pd=t,!0):(Pd=null,!1)}var j_=typeof setTimeout=="function"?setTimeout:void 0,ib=typeof clearTimeout=="function"?clearTimeout:void 0,z_=typeof Promise=="function"?Promise:void 0,rb=typeof queueMicrotask=="function"?queueMicrotask:typeof z_<"u"?function(t){return z_.resolve(null).then(t).catch(sb)}:j_;function sb(t){setTimeout(function(){throw t})}function Br(t){return t==="head"}function B_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Fa(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")gl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,gl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[ai]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&gl(t.ownerDocument.body);a=h}while(a);Fa(i)}function H_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Ud(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ud(a),aa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function ab(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ai])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=xn(t.nextSibling),t===null)break}return null}function ob(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=xn(t.nextSibling),t===null))return null;return t}function q_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=xn(t.nextSibling),t===null))return null;return t}function jd(t){return t.data==="$?"||t.data==="$~"}function zd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function lb(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function xn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Bd=null;function F_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return xn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function G_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Y_(t,i,a){switch(i=wc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function gl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);aa(t)}var Mn=new Map,K_=new Set;function Rc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var $i=J.d;J.d={f:ub,r:cb,D:hb,C:fb,L:db,m:mb,X:gb,S:pb,M:yb};function ub(){var t=$i.f(),i=yc();return t||i}function cb(t){var i=Sn(t);i!==null&&i.tag===5&&i.type==="form"?cy(i):$i.r(t)}var Ba=typeof document>"u"?null:document;function Q_(t,i,a){var l=Ba;if(l&&typeof i=="string"&&i){var h=nn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),K_.has(h)||(K_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ft(i,"link",t),Tt(i),l.head.appendChild(i)))}}function hb(t){$i.D(t),Q_("dns-prefetch",t,null)}function fb(t,i){$i.C(t,i),Q_("preconnect",t,i)}function db(t,i,a){$i.L(t,i,a);var l=Ba;if(l&&t&&i){var h='link[rel="preload"][as="'+nn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+nn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+nn(a.imageSizes)+'"]')):h+='[href="'+nn(t)+'"]';var d=h;switch(i){case"style":d=Ha(t);break;case"script":d=qa(t)}Mn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Mn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(yl(d))||i==="script"&&l.querySelector(_l(d))||(i=l.createElement("link"),Ft(i,"link",t),Tt(i),l.head.appendChild(i)))}}function mb(t,i){$i.m(t,i);var a=Ba;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+nn(l)+'"][href="'+nn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=qa(t)}if(!Mn.has(d)&&(t=T({rel:"modulepreload",href:t},i),Mn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(_l(d)))return}l=a.createElement("link"),Ft(l,"link",t),Tt(l),a.head.appendChild(l)}}}function pb(t,i,a){$i.S(t,i,a);var l=Ba;if(l&&t){var h=li(l).hoistableStyles,d=Ha(t);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(yl(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Mn.get(d))&&Hd(t,a);var O=_=l.createElement("link");Tt(O),Ft(O,"link",t),O._p=new Promise(function(H,$){O.onload=H,O.onerror=$}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Cc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function gb(t,i){$i.X(t,i);var a=Ba;if(a&&t){var l=li(a).hoistableScripts,h=qa(t),d=l.get(h);d||(d=a.querySelector(_l(h)),d||(t=T({src:t,async:!0},i),(i=Mn.get(h))&&qd(t,i),d=a.createElement("script"),Tt(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function yb(t,i){$i.M(t,i);var a=Ba;if(a&&t){var l=li(a).hoistableScripts,h=qa(t),d=l.get(h);d||(d=a.querySelector(_l(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Mn.get(h))&&qd(t,i),d=a.createElement("script"),Tt(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function X_(t,i,a,l){var h=(h=Ie.current)?Rc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ha(a.href),a=li(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ha(a.href);var d=li(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(yl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Mn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(t,a),d||_b(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=qa(a),a=li(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ha(t){return'href="'+nn(t)+'"'}function yl(t){return'link[rel="stylesheet"]['+t+"]"}function $_(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function _b(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ft(i,"link",a),Tt(i),t.head.appendChild(i))}function qa(t){return'[src="'+nn(t)+'"]'}function _l(t){return"script[async]"+t}function J_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+nn(a.href)+'"]');if(l)return i.instance=l,Tt(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Tt(l),Ft(l,"style",h),Cc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ha(a.href);var d=t.querySelector(yl(h));if(d)return i.state.loading|=4,i.instance=d,Tt(d),d;l=$_(a),(h=Mn.get(h))&&Hd(l,h),d=(t.ownerDocument||t).createElement("link"),Tt(d);var _=d;return _._p=new Promise(function(S,O){_.onload=S,_.onerror=O}),Ft(d,"link",l),i.state.loading|=4,Cc(d,a.precedence,t),i.instance=d;case"script":return d=qa(a.src),(h=t.querySelector(_l(d)))?(i.instance=h,Tt(h),h):(l=a,(h=Mn.get(d))&&(l=T({},a),qd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Tt(h),Ft(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Cc(l,a.precedence,t));return i.instance}function Cc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Hd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function qd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Ic=null;function W_(t,i,a){if(Ic===null){var l=new Map,h=Ic=new Map;h.set(a,l)}else h=Ic,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ai]||d[Et]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function Z_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function vb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function ev(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Eb(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ha(l.href),d=i.querySelector(yl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Nc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Tt(d);return}d=i.ownerDocument||i,l=$_(l),(h=Mn.get(h))&&Hd(l,h),d=d.createElement("link"),Tt(d);var _=d;_._p=new Promise(function(S,O){_.onload=S,_.onerror=O}),Ft(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Nc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Fd=0;function Tb(t,i){return t.stylesheets&&t.count===0&&Oc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Fd===0&&(Fd=62500*tb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Fd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Dc=null;function Oc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Dc=new Map,i.forEach(Sb,t),Dc=null,Nc.call(t))}function Sb(t,i){if(!(i.state.loading&4)){var a=Dc.get(t);if(a)var l=a.get(null);else{a=new Map,Dc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Nc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var vl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function Ab(t,i,a,l,h,d,_,S,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function tv(t,i,a,l,h,d,_,S,O,H,$,ee){return t=new Ab(t,i,a,_,O,H,$,ee,S),i=1,d===!0&&(i|=24),d=mn(3,null,null,i),t.current=d,d.stateNode=t,i=Af(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Cf(d),t}function nv(t){return t?(t=Ea,t):Ea}function iv(t,i,a,l,h,d){h=nv(h),l.context===null?l.context=h:l.pendingContext=h,l=Dr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Or(t,l,i),a!==null&&(un(a,t,i),Jo(a,t,i))}function rv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Gd(t,i){rv(t,i),(t=t.alternate)&&rv(t,i)}function sv(t){if(t.tag===13||t.tag===31){var i=Ds(t,67108864);i!==null&&un(i,t,67108864),Gd(t,67108864)}}function av(t){if(t.tag===13||t.tag===31){var i=vn();i=_s(i);var a=Ds(t,i);a!==null&&un(a,t,i),Gd(t,i)}}var xc=!0;function bb(t,i,a,l){var h=X.T;X.T=null;var d=J.p;try{J.p=2,Yd(t,i,a,l)}finally{J.p=d,X.T=h}}function wb(t,i,a,l){var h=X.T;X.T=null;var d=J.p;try{J.p=8,Yd(t,i,a,l)}finally{J.p=d,X.T=h}}function Yd(t,i,a,l){if(xc){var h=Kd(l);if(h===null)xd(t,i,l,Mc,a),lv(t,l);else if(Cb(h,t,i,a,l))l.stopPropagation();else if(lv(t,l),i&4&&-1<Rb.indexOf(t)){for(;h!==null;){var d=Sn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ni(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var O=1<<31-dt(_);S.entanglements[1]|=O,_&=~O}Ti(d),(Ge&6)===0&&(pc=Zt()+500,dl(0))}}break;case 31:case 13:S=Ds(d,2),S!==null&&un(S,d,2),yc(),Gd(d,2)}if(d=Kd(l),d===null&&xd(t,i,l,Mc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else xd(t,i,l,null,a)}}function Kd(t){return t=An(t),Qd(t)}var Mc=null;function Qd(t){if(Mc=null,t=oi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Mc=t,null}function ov(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ms()){case So:return 2;case Ao:return 8;case pr:case Zh:return 32;case hu:return 268435456;default:return 32}default:return 32}}var Xd=!1,Hr=null,qr=null,Fr=null,El=new Map,Tl=new Map,Gr=[],Rb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lv(t,i){switch(t){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":El.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(i.pointerId)}}function Sl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Sn(i),i!==null&&sv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Cb(t,i,a,l,h){switch(i){case"focusin":return Hr=Sl(Hr,t,i,a,l,h),!0;case"dragenter":return qr=Sl(qr,t,i,a,l,h),!0;case"mouseover":return Fr=Sl(Fr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return El.set(d,Sl(El.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Tl.set(d,Sl(Tl.get(d)||null,t,i,a,l,h)),!0}return!1}function uv(t){var i=oi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,jn(t.priority,function(){av(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,jn(t.priority,function(){av(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Kd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Lo=l,a.target.dispatchEvent(l),Lo=null}else return i=Sn(a),i!==null&&sv(i),t.blockedOn=a,!1;i.shift()}return!0}function cv(t,i,a){Vc(t)&&a.delete(i)}function Ib(){Xd=!1,Hr!==null&&Vc(Hr)&&(Hr=null),qr!==null&&Vc(qr)&&(qr=null),Fr!==null&&Vc(Fr)&&(Fr=null),El.forEach(cv),Tl.forEach(cv)}function Lc(t,i){t.blockedOn===i&&(t.blockedOn=null,Xd||(Xd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ib)))}var kc=null;function hv(t){kc!==t&&(kc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){kc===t&&(kc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Qd(l||a)===null)continue;break}var d=Sn(a);d!==null&&(t.splice(i,3),i-=3,Kf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Fa(t){function i(O){return Lc(O,t)}Hr!==null&&Lc(Hr,t),qr!==null&&Lc(qr,t),Fr!==null&&Lc(Fr,t),El.forEach(i),Tl.forEach(i);for(var a=0;a<Gr.length;a++){var l=Gr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Gr.length&&(a=Gr[0],a.blockedOn===null);)uv(a),a.blockedOn===null&&Gr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Vt]||null;if(typeof d=="function")_||hv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Vt]||null)S=_.formAction;else if(Qd(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),hv(a)}}}function fv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function $d(t){this._internalRoot=t}Pc.prototype.render=$d.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=vn();iv(a,l,t,i,null,null)},Pc.prototype.unmount=$d.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;iv(t.current,2,null,t,null,null),yc(),i[si]=null}};function Pc(t){this._internalRoot=t}Pc.prototype.unstable_scheduleHydration=function(t){if(t){var i=yu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Gr.length&&i!==0&&i<Gr[a].priority;a++);Gr.splice(a,0,t),a===0&&uv(t)}};var dv=e.version;if(dv!=="19.2.1")throw Error(s(527,dv,"19.2.1"));J.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Nb={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{Pn=Uc.inject(Nb),jt=Uc}catch{}}return bl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Ey,d=Ty,_=Sy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=tv(t,1,!1,null,null,a,l,null,h,d,_,fv),t[si]=i.current,Od(t),new $d(i)},bl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Ey,_=Ty,S=Sy,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),i=tv(t,1,!0,i,a??null,l,h,O,d,_,S,fv),i.context=nv(null),a=i.current,l=vn(),l=_s(l),h=Dr(l),h.callback=null,Or(a,h,l),a=l,i.current.lanes=a,gs(i,a),Ti(i),t[si]=i.current,Od(t),new Pc(i)},bl.version="19.2.1",bl}var Av;function zb(){if(Av)return Zd.exports;Av=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Zd.exports=jb(),Zd.exports}var Bb=zb();const Hb=uT(Bb);var bv="popstate";function qb(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Sm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:zl(o)}return Gb(e,n,null,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Jn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Fb(){return Math.random().toString(36).substring(2,10)}function wv(r,e){return{usr:r.state,key:r.key,idx:e}}function Sm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?uo(e):e,state:n,key:e&&e.key||s||Fb()}}function zl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function uo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Gb(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let q=E(),Y=q==null?null:q-y;y=q,p&&p({action:m,location:Q.location,delta:Y})}function R(q,Y){m="PUSH";let te=Sm(Q.location,q,Y);y=E()+1;let ie=wv(te,y),he=Q.createHref(te);try{f.pushState(ie,"",he)}catch(me){if(me instanceof DOMException&&me.name==="DataCloneError")throw me;o.location.assign(he)}u&&p&&p({action:m,location:Q.location,delta:1})}function M(q,Y){m="REPLACE";let te=Sm(Q.location,q,Y);y=E();let ie=wv(te,y),he=Q.createHref(te);f.replaceState(ie,"",he),u&&p&&p({action:m,location:Q.location,delta:0})}function j(q){return Yb(q)}let Q={get action(){return m},get location(){return r(o,f)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(bv,T),p=q,()=>{o.removeEventListener(bv,T),p=null}},createHref(q){return e(o,q)},createURL:j,encodeLocation(q){let Y=j(q);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:R,replace:M,go(q){return f.go(q)}};return Q}function Yb(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:zl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function cT(r,e,n="/"){return Kb(r,e,n,!1)}function Kb(r,e,n,s){let o=typeof e=="string"?uo(e):e,u=rr(o.pathname||"/",n);if(u==null)return null;let f=hT(r);Qb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=sw(u);m=iw(f[p],y,s)}return m}function hT(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;lt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=tr([s,E.relativePath]),R=n.concat(E);f.children&&f.children.length>0&&(lt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),hT(f.children,e,R,T,p)),!(f.path==null&&!f.index)&&e.push({path:T,score:tw(T,f.index),routesMeta:R})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of fT(f.path))u(f,m,!0,p)}),e}function fT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=fT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function Qb(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:nw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Xb=/^:[\w-]+$/,$b=3,Jb=2,Wb=1,Zb=10,ew=-2,Rv=r=>r==="*";function tw(r,e){let n=r.split("/"),s=n.length;return n.some(Rv)&&(s+=ew),e&&(s+=Jb),n.filter(o=>!Rv(o)).reduce((o,u)=>o+(Xb.test(u)?$b:u===""?Wb:Zb),s)}function nw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function iw(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=lh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),R=p.route;if(!T&&y&&n&&!s[s.length-1].route.index&&(T=lh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:tr([u,T.pathname]),pathnameBase:cw(tr([u,T.pathnameBase])),route:R}),T.pathnameBase!=="/"&&(u=tr([u,T.pathnameBase]))}return f}function lh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=rw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:T},R)=>{if(E==="*"){let j=m[R]||"";f=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const M=m[R];return T&&!M?y[E]=void 0:y[E]=(M||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function rw(r,e=!1,n=!0){Jn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function sw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function rr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var aw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ow=r=>aw.test(r);function lw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?uo(r):r,u;if(n)if(ow(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),Jn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=Cv(n.substring(1),"/"):u=Cv(n,e)}else u=e;return{pathname:u,search:hw(s),hash:fw(o)}}function Cv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function im(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function dT(r){let e=uw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function mT(r,e,n,s=!1){let o;typeof r=="string"?o=uo(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),im("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),im("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),im("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),T-=1;o.pathname=R.join("/")}m=T>=0?e[T]:"/"}let p=lw(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var tr=r=>r.join("/").replace(/\/\/+/g,"/"),cw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),hw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,fw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function dw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function mw(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var pT=["POST","PUT","PATCH","DELETE"];new Set(pT);var pw=["GET",...pT];new Set(pw);var co=P.createContext(null);co.displayName="DataRouter";var Dh=P.createContext(null);Dh.displayName="DataRouterState";P.createContext(!1);var gT=P.createContext({isTransitioning:!1});gT.displayName="ViewTransition";var gw=P.createContext(new Map);gw.displayName="Fetchers";var yw=P.createContext(null);yw.displayName="Await";var Zn=P.createContext(null);Zn.displayName="Navigation";var $l=P.createContext(null);$l.displayName="Location";var Oi=P.createContext({outlet:null,matches:[],isDataRoute:!1});Oi.displayName="Route";var Xm=P.createContext(null);Xm.displayName="RouteError";function _w(r,{relative:e}={}){lt(Jl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=P.useContext(Zn),{hash:o,pathname:u,search:f}=Wl(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:tr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Jl(){return P.useContext($l)!=null}function cs(){return lt(Jl(),"useLocation() may be used only in the context of a <Router> component."),P.useContext($l).location}var yT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _T(r){P.useContext(Zn).static||P.useLayoutEffect(r)}function $m(){let{isDataRoute:r}=P.useContext(Oi);return r?xw():vw()}function vw(){lt(Jl(),"useNavigate() may be used only in the context of a <Router> component.");let r=P.useContext(co),{basename:e,navigator:n}=P.useContext(Zn),{matches:s}=P.useContext(Oi),{pathname:o}=cs(),u=JSON.stringify(dT(s)),f=P.useRef(!1);return _T(()=>{f.current=!0}),P.useCallback((p,y={})=>{if(Jn(f.current,yT),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=mT(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:tr([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}P.createContext(null);function Ew(){let{matches:r}=P.useContext(Oi),e=r[r.length-1];return e?e.params:{}}function Wl(r,{relative:e}={}){let{matches:n}=P.useContext(Oi),{pathname:s}=cs(),o=JSON.stringify(dT(n));return P.useMemo(()=>mT(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Tw(r,e){return vT(r,e)}function vT(r,e,n,s,o){lt(Jl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=P.useContext(Zn),{matches:f}=P.useContext(Oi),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let te=T&&T.path||"";ET(y,!T||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let R=cs(),M;if(e){let te=typeof e=="string"?uo(e):e;lt(E==="/"||te.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${te.pathname}" was given in the \`location\` prop.`),M=te}else M=R;let j=M.pathname||"/",Q=j;if(E!=="/"){let te=E.replace(/^\//,"").split("/");Q="/"+j.replace(/^\//,"").split("/").slice(te.length).join("/")}let q=cT(r,{pathname:Q});Jn(T||q!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Jn(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=Rw(q&&q.map(te=>Object.assign({},te,{params:Object.assign({},p,te.params),pathname:tr([E,u.encodeLocation?u.encodeLocation(te.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?E:tr([E,u.encodeLocation?u.encodeLocation(te.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathnameBase])})),f,n,s,o);return e&&Y?P.createElement($l.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},Y):Y}function Sw(){let r=Ow(),e=dw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:o},n):null,f)}var Aw=P.createElement(Sw,null),bw=class extends P.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?P.createElement(Oi.Provider,{value:this.props.routeContext},P.createElement(Xm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ww({routeContext:r,match:e,children:n}){let s=P.useContext(co);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(Oi.Provider,{value:r},n)}function Rw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);lt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:R,errors:M}=n,j=T.route.loader&&!R.hasOwnProperty(T.route.id)&&(!M||M[T.route.id]===void 0);if(T.route.lazy||j){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let y=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:mw(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,R)=>{let M,j=!1,Q=null,q=null;n&&(M=f&&T.route.id?f[T.route.id]:void 0,Q=T.route.errorElement||Aw,m&&(p<0&&R===0?(ET("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,q=null):p===R&&(j=!0,q=T.route.hydrateFallbackElement||null)));let Y=e.concat(u.slice(0,R+1)),te=()=>{let ie;return M?ie=Q:j?ie=q:T.route.Component?ie=P.createElement(T.route.Component,null):T.route.element?ie=T.route.element:ie=E,P.createElement(ww,{match:T,routeContext:{outlet:E,matches:Y,isDataRoute:n!=null},children:ie})};return n&&(T.route.ErrorBoundary||T.route.errorElement||R===0)?P.createElement(bw,{location:n.location,revalidation:n.revalidation,component:Q,error:M,children:te(),routeContext:{outlet:null,matches:Y,isDataRoute:!0},onError:y}):te()},null)}function Jm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cw(r){let e=P.useContext(co);return lt(e,Jm(r)),e}function Iw(r){let e=P.useContext(Dh);return lt(e,Jm(r)),e}function Nw(r){let e=P.useContext(Oi);return lt(e,Jm(r)),e}function Wm(r){let e=Nw(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Dw(){return Wm("useRouteId")}function Ow(){let r=P.useContext(Xm),e=Iw("useRouteError"),n=Wm("useRouteError");return r!==void 0?r:e.errors?.[n]}function xw(){let{router:r}=Cw("useNavigate"),e=Wm("useNavigate"),n=P.useRef(!1);return _T(()=>{n.current=!0}),P.useCallback(async(o,u={})=>{Jn(n.current,yT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Iv={};function ET(r,e,n){!e&&!Iv[r]&&(Iv[r]=!0,Jn(!1,n))}P.memo(Mw);function Mw({routes:r,future:e,state:n,unstable_onError:s}){return vT(r,void 0,n,s,e)}function Rl(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Vw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){lt(!Jl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=uo(n));let{pathname:y="/",search:E="",hash:T="",state:R=null,key:M="default"}=n,j=P.useMemo(()=>{let Q=rr(y,m);return Q==null?null:{location:{pathname:Q,search:E,hash:T,state:R,key:M},navigationType:s}},[m,y,E,T,R,M,s]);return Jn(j!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:P.createElement(Zn.Provider,{value:p},P.createElement($l.Provider,{children:e,value:j}))}function Lw({children:r,location:e}){return Tw(Am(r),e)}function Am(r,e=[]){let n=[];return P.Children.forEach(r,(s,o)=>{if(!P.isValidElement(s))return;let u=[...e,o];if(s.type===P.Fragment){n.push.apply(n,Am(s.props.children,u));return}lt(s.type===Rl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Am(s.props.children,u)),n.push(f)}),n}var $c="get",Jc="application/x-www-form-urlencoded";function Oh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function kw(r){return Oh(r)&&r.tagName.toLowerCase()==="button"}function Pw(r){return Oh(r)&&r.tagName.toLowerCase()==="form"}function Uw(r){return Oh(r)&&r.tagName.toLowerCase()==="input"}function jw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function zw(r,e){return r.button===0&&(!e||e==="_self")&&!jw(r)}var jc=null;function Bw(){if(jc===null)try{new FormData(document.createElement("form"),0),jc=!1}catch{jc=!0}return jc}var Hw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rm(r){return r!=null&&!Hw.has(r)?(Jn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jc}"`),null):r}function qw(r,e){let n,s,o,u,f;if(Pw(r)){let m=r.getAttribute("action");s=m?rr(m,e):null,n=r.getAttribute("method")||$c,o=rm(r.getAttribute("enctype"))||Jc,u=new FormData(r)}else if(kw(r)||Uw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?rr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||$c,o=rm(r.getAttribute("formenctype"))||rm(m.getAttribute("enctype"))||Jc,u=new FormData(m,r),!Bw()){let{name:y,type:E,value:T}=r;if(E==="image"){let R=y?`${y}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else y&&u.append(y,T)}}else{if(Oh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$c,s=null,o=Jc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Zm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Fw(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&rr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function Gw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Yw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Kw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await Gw(u,n);return f.links?f.links():[]}return[]}));return Jw(s.flat(1).filter(Yw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Nv(r,e,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Qw(r,e,{includeHydrateFallback:n}={}){return Xw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Xw(r){return[...new Set(r)]}function $w(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Jw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify($w(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function TT(){let r=P.useContext(co);return Zm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Ww(){let r=P.useContext(Dh);return Zm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ep=P.createContext(void 0);ep.displayName="FrameworkContext";function ST(){let r=P.useContext(ep);return Zm(r,"You must render this element inside a <HydratedRouter> element"),r}function Zw(r,e){let n=P.useContext(ep),[s,o]=P.useState(!1),[u,f]=P.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:T}=e,R=P.useRef(null);P.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Q=Y=>{Y.forEach(te=>{f(te.isIntersecting)})},q=new IntersectionObserver(Q,{threshold:.5});return R.current&&q.observe(R.current),()=>{q.disconnect()}}},[r]),P.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let M=()=>{o(!0)},j=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:wl(m,M),onBlur:wl(p,j),onMouseEnter:wl(y,M),onMouseLeave:wl(E,j),onTouchStart:wl(T,M)}]:[!1,R,{}]}function wl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function e1({page:r,...e}){let{router:n}=TT(),s=P.useMemo(()=>cT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?P.createElement(n1,{page:r,matches:s,...e}):null}function t1(r){let{manifest:e,routeModules:n}=ST(),[s,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return Kw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function n1({page:r,matches:e,...n}){let s=cs(),{manifest:o,routeModules:u}=ST(),{basename:f}=TT(),{loaderData:m,matches:p}=Ww(),y=P.useMemo(()=>Nv(r,e,p,o,s,"data"),[r,e,p,o,s]),E=P.useMemo(()=>Nv(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=P.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let j=new Set,Q=!1;if(e.forEach(Y=>{let te=o.routes[Y.route.id];!te||!te.hasLoader||(!y.some(ie=>ie.route.id===Y.route.id)&&Y.route.id in m&&u[Y.route.id]?.shouldRevalidate||te.hasClientLoader?Q=!0:j.add(Y.route.id))}),j.size===0)return[];let q=Fw(r,f,"data");return Q&&j.size>0&&q.searchParams.set("_routes",e.filter(Y=>j.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[q.pathname+q.search]},[f,m,s,o,y,e,r,u]),R=P.useMemo(()=>Qw(E,o),[E,o]),M=t1(E);return P.createElement(P.Fragment,null,T.map(j=>P.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),R.map(j=>P.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),M.map(({key:j,link:Q})=>P.createElement("link",{key:j,nonce:n.nonce,...Q})))}function i1(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var AT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AT&&(window.__reactRouterVersion="7.10.1")}catch{}function r1({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=P.useRef();o.current==null&&(o.current=qb({window:s,v5Compat:!0}));let u=o.current,[f,m]=P.useState({action:u.action,location:u.location}),p=P.useCallback(y=>{n===!1?m(y):P.startTransition(()=>m(y))},[n]);return P.useLayoutEffect(()=>u.listen(p),[u,p]),P.createElement(Vw,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n===!0})}var bT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wi=P.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:T,...R},M){let{basename:j,unstable_useTransitions:Q}=P.useContext(Zn),q=typeof y=="string"&&bT.test(y),Y,te=!1;if(typeof y=="string"&&q&&(Y=y,AT))try{let x=new URL(window.location.href),C=y.startsWith("//")?new URL(x.protocol+y):new URL(y),k=rr(C.pathname,j);C.origin===x.origin&&k!=null?y=k+C.search+C.hash:te=!0}catch{Jn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=_w(y,{relative:o}),[he,me,Te]=Zw(s,R),N=l1(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_useTransitions:Q});function w(x){e&&e(x),x.defaultPrevented||N(x)}let I=P.createElement("a",{...R,...Te,href:Y||ie,onClick:te||u?e:w,ref:i1(M,me),target:p,"data-discover":!q&&n==="render"?"true":void 0});return he&&!q?P.createElement(P.Fragment,null,I,P.createElement(e1,{page:ie})):I});Wi.displayName="Link";var s1=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let T=Wl(f,{relative:y.relative}),R=cs(),M=P.useContext(Dh),{navigator:j,basename:Q}=P.useContext(Zn),q=M!=null&&d1(T)&&m===!0,Y=j.encodeLocation?j.encodeLocation(T).pathname:T.pathname,te=R.pathname,ie=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(te=te.toLowerCase(),ie=ie?ie.toLowerCase():null,Y=Y.toLowerCase()),ie&&Q&&(ie=rr(ie,Q)||ie);const he=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let me=te===Y||!o&&te.startsWith(Y)&&te.charAt(he)==="/",Te=ie!=null&&(ie===Y||!o&&ie.startsWith(Y)&&ie.charAt(Y.length)==="/"),N={isActive:me,isPending:Te,isTransitioning:q},w=me?e:void 0,I;typeof s=="function"?I=s(N):I=[s,me?"active":null,Te?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(N):u;return P.createElement(Wi,{...y,"aria-current":w,className:I,ref:E,style:x,to:f,viewTransition:m},typeof p=="function"?p(N):p)});s1.displayName="NavLink";var a1=P.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=$c,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:T,...R},M)=>{let{unstable_useTransitions:j}=P.useContext(Zn),Q=h1(),q=f1(m,{relative:y}),Y=f.toLowerCase()==="get"?"get":"post",te=typeof m=="string"&&bT.test(m),ie=he=>{if(p&&p(he),he.defaultPrevented)return;he.preventDefault();let me=he.nativeEvent.submitter,Te=me?.getAttribute("formmethod")||f,N=()=>Q(me||he.currentTarget,{fetcherKey:e,method:Te,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:T});j&&n!==!1?P.startTransition(()=>N()):N()};return P.createElement("form",{ref:M,method:Y,action:q,onSubmit:s?p:ie,...R,"data-discover":!te&&r==="render"?"true":void 0})});a1.displayName="Form";function o1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wT(r){let e=P.useContext(co);return lt(e,o1(r)),e}function l1(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_useTransitions:m}={}){let p=$m(),y=cs(),E=Wl(r,{relative:u});return P.useCallback(T=>{if(zw(T,e)){T.preventDefault();let R=n!==void 0?n:zl(y)===zl(E),M=()=>p(r,{replace:R,state:s,preventScrollReset:o,relative:u,viewTransition:f});m?P.startTransition(()=>M()):M()}},[y,p,E,n,s,e,r,o,u,f,m])}var u1=0,c1=()=>`__${String(++u1)}__`;function h1(){let{router:r}=wT("useSubmit"),{basename:e}=P.useContext(Zn),n=Dw(),s=r.fetch,o=r.navigate;return P.useCallback(async(u,f={})=>{let{action:m,method:p,encType:y,formData:E,body:T}=qw(u,e);if(f.navigate===!1){let R=f.fetcherKey||c1();await s(R,n,f.action||m,{preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function f1(r,{relative:e}={}){let{basename:n}=P.useContext(Zn),s=P.useContext(Oi);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Wl(r||".",{relative:e})},f=cs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:tr([n,u.pathname])),zl(u)}function d1(r,{relative:e}={}){let n=P.useContext(gT);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=wT("useViewTransitionState"),o=Wl(r,{relative:e});if(!n.isTransitioning)return!1;let u=rr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=rr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return lh(o.pathname,f)!=null||lh(o.pathname,u)!=null}const m1=()=>{};var Dv={};const RT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},p1=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},CT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let R=(m&15)<<2|y>>6,M=y&63;p||(M=64,f||(R=64)),s.push(n[E],n[T],n[R],n[M])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(RT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):p1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||T==null)throw new g1;const R=u<<2|m>>4;if(s.push(R),y!==64){const M=m<<4&240|y>>2;if(s.push(M),T!==64){const j=y<<6&192|T;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class g1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y1=function(r){const e=RT(r);return CT.encodeByteArray(e,!0)},uh=function(r){return y1(r).replace(/\./g,"")},IT=function(r){try{return CT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const v1=()=>_1().__FIREBASE_DEFAULTS__,E1=()=>{if(typeof process>"u"||typeof Dv>"u")return;const r=Dv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},T1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&IT(r[1]);return e&&JSON.parse(e)},xh=()=>{try{return m1()||v1()||E1()||T1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},NT=r=>xh()?.emulatorHosts?.[r],S1=r=>{const e=NT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},DT=()=>xh()?.config,OT=r=>xh()?.[`_${r}`];class A1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function ho(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xT(r){return(await fetch(r,{credentials:"include"})).ok}function b1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[uh(JSON.stringify(n)),uh(JSON.stringify(f)),""].join(".")}const Ml={};function w1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ml))Ml[e]?r.emulator.push(e):r.prod.push(e);return r}function R1(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Ov=!1;function MT(r,e){if(typeof window>"u"||typeof document>"u"||!ho(window.location.host)||Ml[r]===e||Ml[r]||Ov)return;Ml[r]=e;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=w1().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function p(R,M){R.setAttribute("width","24"),R.setAttribute("id",M),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{Ov=!0,f()},R}function E(R,M){R.setAttribute("id",M),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function T(){const R=R1(s),M=n("text"),j=document.getElementById(M)||document.createElement("span"),Q=n("learnmore"),q=document.getElementById(Q)||document.createElement("a"),Y=n("preprendIcon"),te=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const ie=R.element;m(ie),E(q,Q);const he=y();p(te,Y),ie.append(te,j,q,he),document.body.appendChild(ie)}u?(j.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function C1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function I1(){const r=xh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function N1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function D1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function O1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function x1(){const r=Wt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function M1(){return!I1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function V1(){try{return typeof indexedDB=="object"}catch{return!1}}function L1(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const k1="FirebaseError";class cr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=k1,Object.setPrototypeOf(this,cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zl.prototype.create)}}class Zl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?P1(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new cr(o,m,s)}}function P1(r,e){return r.replace(U1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const U1=/\{\$([^}]+)}/g;function j1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function sr(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(xv(u)&&xv(f)){if(!sr(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function xv(r){return r!==null&&typeof r=="object"}function eu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Cl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Il(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function z1(r,e){const n=new B1(r,e);return n.subscribe.bind(n)}class B1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");H1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=sm),o.error===void 0&&(o.error=sm),o.complete===void 0&&(o.complete=sm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H1(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function sm(){}function En(r){return r&&r._delegate?r._delegate:r}class Ys{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qs="[DEFAULT]";class q1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new A1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(G1(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:F1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function F1(r){return r===qs?void 0:r}function G1(r){return r.instantiationMode==="EAGER"}class Y1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new q1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const K1={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},Q1=Le.INFO,X1={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},$1=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=X1[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tp{constructor(e){this.name=e,this._logLevel=Q1,this._logHandler=$1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?K1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const J1=(r,e)=>e.some(n=>r instanceof n);let Mv,Vv;function W1(){return Mv||(Mv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Z1(){return Vv||(Vv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VT=new WeakMap,bm=new WeakMap,LT=new WeakMap,am=new WeakMap,np=new WeakMap;function eR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Zr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&VT.set(n,r)}).catch(()=>{}),np.set(e,r),e}function tR(r){if(bm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});bm.set(r,e)}let wm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return bm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||LT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function nR(r){wm=r(wm)}function iR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(om(this),e,...n);return LT.set(s,e.sort?e.sort():[e]),Zr(s)}:Z1().includes(r)?function(...e){return r.apply(om(this),e),Zr(VT.get(this))}:function(...e){return Zr(r.apply(om(this),e))}}function rR(r){return typeof r=="function"?iR(r):(r instanceof IDBTransaction&&tR(r),J1(r,W1())?new Proxy(r,wm):r)}function Zr(r){if(r instanceof IDBRequest)return eR(r);if(am.has(r))return am.get(r);const e=rR(r);return e!==r&&(am.set(r,e),np.set(e,r)),e}const om=r=>np.get(r);function sR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Zr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Zr(f.result),p.oldVersion,p.newVersion,Zr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const aR=["get","getKey","getAll","getAllKeys","count"],oR=["put","add","delete","clear"],lm=new Map;function Lv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(lm.get(e))return lm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=oR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||aR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return lm.set(e,u),u}nR(r=>({...r,get:(e,n,s)=>Lv(e,n)||r.get(e,n,s),has:(e,n)=>!!Lv(e,n)||r.has(e,n)}));class lR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function uR(r){return r.getComponent()?.type==="VERSION"}const Rm="@firebase/app",kv="0.14.6";const ar=new tp("@firebase/app"),cR="@firebase/app-compat",hR="@firebase/analytics-compat",fR="@firebase/analytics",dR="@firebase/app-check-compat",mR="@firebase/app-check",pR="@firebase/auth",gR="@firebase/auth-compat",yR="@firebase/database",_R="@firebase/data-connect",vR="@firebase/database-compat",ER="@firebase/functions",TR="@firebase/functions-compat",SR="@firebase/installations",AR="@firebase/installations-compat",bR="@firebase/messaging",wR="@firebase/messaging-compat",RR="@firebase/performance",CR="@firebase/performance-compat",IR="@firebase/remote-config",NR="@firebase/remote-config-compat",DR="@firebase/storage",OR="@firebase/storage-compat",xR="@firebase/firestore",MR="@firebase/ai",VR="@firebase/firestore-compat",LR="firebase",kR="12.6.0";const Cm="[DEFAULT]",PR={[Rm]:"fire-core",[cR]:"fire-core-compat",[fR]:"fire-analytics",[hR]:"fire-analytics-compat",[mR]:"fire-app-check",[dR]:"fire-app-check-compat",[pR]:"fire-auth",[gR]:"fire-auth-compat",[yR]:"fire-rtdb",[_R]:"fire-data-connect",[vR]:"fire-rtdb-compat",[ER]:"fire-fn",[TR]:"fire-fn-compat",[SR]:"fire-iid",[AR]:"fire-iid-compat",[bR]:"fire-fcm",[wR]:"fire-fcm-compat",[RR]:"fire-perf",[CR]:"fire-perf-compat",[IR]:"fire-rc",[NR]:"fire-rc-compat",[DR]:"fire-gcs",[OR]:"fire-gcs-compat",[xR]:"fire-fst",[VR]:"fire-fst-compat",[MR]:"fire-vertex","fire-js":"fire-js",[LR]:"fire-js-all"};const ch=new Map,UR=new Map,Im=new Map;function Pv(r,e){try{r.container.addComponent(e)}catch(n){ar.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function eo(r){const e=r.name;if(Im.has(e))return ar.debug(`There were multiple attempts to register component ${e}.`),!1;Im.set(e,r);for(const n of ch.values())Pv(n,r);for(const n of UR.values())Pv(n,r);return!0}function ip(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Vn(r){return r==null?!1:r.settings!==void 0}const jR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},es=new Zl("app","Firebase",jR);class zR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}const fo=kR;function kT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Cm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw es.create("bad-app-name",{appName:String(o)});if(n||(n=DT()),!n)throw es.create("no-options");const u=ch.get(o);if(u){if(sr(n,u.options)&&sr(s,u.config))return u;throw es.create("duplicate-app",{appName:o})}const f=new Y1(o);for(const p of Im.values())f.addComponent(p);const m=new zR(n,s,f);return ch.set(o,m),m}function PT(r=Cm){const e=ch.get(r);if(!e&&r===Cm&&DT())return kT();if(!e)throw es.create("no-app",{appName:r});return e}function ts(r,e,n){let s=PR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ar.warn(f.join(" "));return}eo(new Ys(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const BR="firebase-heartbeat-database",HR=1,Bl="firebase-heartbeat-store";let um=null;function UT(){return um||(um=sR(BR,HR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Bl)}catch(n){console.warn(n)}}}}).catch(r=>{throw es.create("idb-open",{originalErrorMessage:r.message})})),um}async function qR(r){try{const n=(await UT()).transaction(Bl),s=await n.objectStore(Bl).get(jT(r));return await n.done,s}catch(e){if(e instanceof cr)ar.warn(e.message);else{const n=es.create("idb-get",{originalErrorMessage:e?.message});ar.warn(n.message)}}}async function Uv(r,e){try{const s=(await UT()).transaction(Bl,"readwrite");await s.objectStore(Bl).put(e,jT(r)),await s.done}catch(n){if(n instanceof cr)ar.warn(n.message);else{const s=es.create("idb-set",{originalErrorMessage:n?.message});ar.warn(s.message)}}}function jT(r){return`${r.name}!${r.options.appId}`}const FR=1024,GR=30;class YR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=jv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>GR){const o=XR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ar.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=jv(),{heartbeatsToSend:n,unsentEntries:s}=KR(this._heartbeatsCache.heartbeats),o=uh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ar.warn(e),""}}}function jv(){return new Date().toISOString().substring(0,10)}function KR(r,e=FR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),zv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),zv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class QR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return V1()?L1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Uv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Uv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function zv(r){return uh(JSON.stringify({version:2,heartbeats:r})).length}function XR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function $R(r){eo(new Ys("platform-logger",e=>new lR(e),"PRIVATE")),eo(new Ys("heartbeat",e=>new YR(e),"PRIVATE")),ts(Rm,kv,r),ts(Rm,kv,"esm2020"),ts("fire-js","")}$R("");function zT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JR=zT,BT=new Zl("auth","Firebase",zT());const hh=new tp("@firebase/auth");function WR(r,...e){hh.logLevel<=Le.WARN&&hh.warn(`Auth (${fo}): ${r}`,...e)}function Wc(r,...e){hh.logLevel<=Le.ERROR&&hh.error(`Auth (${fo}): ${r}`,...e)}function Wn(r,...e){throw rp(r,...e)}function Ai(r,...e){return rp(r,...e)}function HT(r,e,n){const s={...JR(),[e]:n};return new Zl("auth","Firebase",s).create(e,{appName:r.name})}function nr(r){return HT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return BT.create(r,...e)}function ve(r,e,...n){if(!r)throw rp(e,...n)}function Zi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Wc(e),new Error(e)}function or(r,e){r||Zi(e)}function Nm(){return typeof self<"u"&&self.location?.href||""}function ZR(){return Bv()==="http:"||Bv()==="https:"}function Bv(){return typeof self<"u"&&self.location?.protocol||null}function eC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZR()||D1()||"connection"in navigator)?navigator.onLine:!0}function tC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class tu{constructor(e,n){this.shortDelay=e,this.longDelay=n,or(n>e,"Short delay should be less than long delay!"),this.isMobile=C1()||O1()}get(){return eC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function sp(r,e){or(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class qT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const iC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rC=new tu(3e4,6e4);function hr(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function fr(r,e,n,s,o={}){return FT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=eu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:p,...u};return N1()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&ho(r.emulatorConfig.host)&&(y.credentials="include"),qT.fetch()(await GT(r,r.config.apiHost,n,m),y)})}async function FT(r,e,n){r._canInitEmulator=!1;const s={...nC,...e};try{const o=new aC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw zc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw zc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw zc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw zc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw HT(r,E,y);Wn(r,E)}}catch(o){if(o instanceof cr)throw o;Wn(r,"network-request-failed",{message:String(o)})}}async function nu(r,e,n,s,o={}){const u=await fr(r,e,n,s,o);return"mfaPendingCredential"in u&&Wn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function GT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?sp(r.config,o):`${r.config.apiScheme}://${o}`;return iC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function sC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ai(this.auth,"network-request-failed")),rC.get())})}}function zc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ai(r,e,s);return o.customData._tokenResponse=n,o}function Hv(r){return r!==void 0&&r.enterprise!==void 0}class oC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return sC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lC(r,e){return fr(r,"GET","/v2/recaptchaConfig",hr(r,e))}async function uC(r,e){return fr(r,"POST","/v1/accounts:delete",e)}async function fh(r,e){return fr(r,"POST","/v1/accounts:lookup",e)}function Vl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cC(r,e=!1){const n=En(r),s=await n.getIdToken(e),o=ap(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Vl(cm(o.auth_time)),issuedAtTime:Vl(cm(o.iat)),expirationTime:Vl(cm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function cm(r){return Number(r)*1e3}function ap(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Wc("JWT malformed, contained fewer than 3 sections"),null;try{const o=IT(n);return o?JSON.parse(o):(Wc("Failed to decode base64 JWT payload"),null)}catch(o){return Wc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function qv(r){const e=ap(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Hl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof cr&&hC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function hC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class fC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Dm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vl(this.lastLoginAt),this.creationTime=Vl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function dh(r){const e=r.auth,n=await r.getIdToken(),s=await Hl(r,fh(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?YT(o.providerUserInfo):[],f=mC(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Dm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function dC(r){const e=En(r);await dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function YT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function pC(r,e){const n=await FT(r,{},async()=>{const s=eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await GT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&ho(r.emulatorConfig.host)&&(p.credentials="include"),qT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function gC(r,e){return fr(r,"POST","/v2/accounts:revokeToken",hr(r,e))}class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=qv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await pC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new $a;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return Zi("not implemented")}}function Kr(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Xn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new fC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Dm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Hl(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return cC(this,e)}reload(){return dC(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await dh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(nr(this.auth));const e=await this.getIdToken();return await Hl(this,uC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:R,isAnonymous:M,providerData:j,stsTokenManager:Q}=n;ve(T&&Q,e,"internal-error");const q=$a.fromJSON(this.name,Q);ve(typeof T=="string",e,"internal-error"),Kr(s,e.name),Kr(o,e.name),ve(typeof R=="boolean",e,"internal-error"),ve(typeof M=="boolean",e,"internal-error"),Kr(u,e.name),Kr(f,e.name),Kr(m,e.name),Kr(p,e.name),Kr(y,e.name),Kr(E,e.name);const Y=new Xn({uid:T,auth:e,email:o,emailVerified:R,displayName:s,isAnonymous:M,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:q,createdAt:y,lastLoginAt:E});return j&&Array.isArray(j)&&(Y.providerData=j.map(te=>({...te}))),p&&(Y._redirectEventId=p),Y}static async _fromIdTokenResponse(e,n,s=!1){const o=new $a;o.updateFromServerResponse(n);const u=new Xn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await dh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?YT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new $a;m.updateFromIdToken(s);const p=new Xn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Dm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}const Fv=new Map;function er(r){or(r instanceof Function,"Expected a class definition");let e=Fv.get(r);return e?(or(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Fv.set(r,e),e)}class KT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}KT.type="NONE";const Gv=KT;function Zc(r,e,n){return`firebase:${r}:${e}:${n}`}class Ja{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Zc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Zc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await fh(this.auth,{idToken:e}).catch(()=>{});return n?Xn._fromGetAccountInfoResponse(this.auth,n,e):null}return Xn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ja(er(Gv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||er(Gv);const f=Zc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let T;if(typeof E=="string"){const R=await fh(e,{idToken:E}).catch(()=>{});if(!R)break;T=await Xn._fromGetAccountInfoResponse(e,R,E)}else T=Xn._fromJSON(e,E);y!==u&&(m=T),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ja(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Ja(u,e,s))}}function Yv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZT(e))return"Blackberry";if(e0(e))return"Webos";if(XT(e))return"Safari";if((e.includes("chrome/")||$T(e))&&!e.includes("edge/"))return"Chrome";if(WT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function QT(r=Wt()){return/firefox\//i.test(r)}function XT(r=Wt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $T(r=Wt()){return/crios\//i.test(r)}function JT(r=Wt()){return/iemobile/i.test(r)}function WT(r=Wt()){return/android/i.test(r)}function ZT(r=Wt()){return/blackberry/i.test(r)}function e0(r=Wt()){return/webos/i.test(r)}function op(r=Wt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function yC(r=Wt()){return op(r)&&!!window.navigator?.standalone}function _C(){return x1()&&document.documentMode===10}function t0(r=Wt()){return op(r)||WT(r)||e0(r)||ZT(r)||/windows phone/i.test(r)||JT(r)}function n0(r,e=[]){let n;switch(r){case"Browser":n=Yv(Wt());break;case"Worker":n=`${Yv(Wt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fo}/${s}`}class vC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function EC(r,e={}){return fr(r,"GET","/v2/passwordPolicy",hr(r,e))}const TC=6;class SC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??TC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class AC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kv(this),this.idTokenSubscription=new Kv(this),this.beforeStateQueue=new vC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=er(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ja.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fh(this,{idToken:e}),s=await Xn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Vn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(nr(this));const n=e?En(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(er(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await EC(this),n=new SC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await gC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&er(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Ja.create(this,[er(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=n0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&WR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function hs(r){return En(r)}class Kv{constructor(e){this.auth=e,this.observer=null,this.addObserver=z1(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bC(r){Mh=r}function i0(r){return Mh.loadJS(r)}function wC(){return Mh.recaptchaEnterpriseScript}function RC(){return Mh.gapiScript}function CC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class IC{constructor(){this.enterprise=new NC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class NC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const DC="recaptcha-enterprise",r0="NO_RECAPTCHA";class OC{constructor(e){this.type=DC,this.auth=hs(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{lC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new oC(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Hv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(r0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new IC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Hv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=wC();p.length!==0&&(p+=m),i0(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function Qv(r,e,n,s=!1,o=!1){const u=new OC(r);let f;if(o)f=r0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function mh(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Qv(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Qv(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function xC(r,e){const n=ip(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(sr(u,e??{}))return o;Wn(o,"already-initialized")}return n.initialize({options:e})}function MC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(er);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function VC(r,e,n){const s=hs(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=s0(e),{host:f,port:m}=LC(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(sr(y,s.config.emulator)&&sr(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,ho(f)?(xT(`${u}//${f}${p}`),MT("Auth",!0)):kC()}function s0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function LC(r){const e=s0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Xv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Xv(f)}}}function Xv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function kC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class lp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zi("not implemented")}_getIdTokenResponse(e){return Zi("not implemented")}_linkToIdToken(e,n){return Zi("not implemented")}_getReauthenticationResolver(e){return Zi("not implemented")}}async function PC(r,e){return fr(r,"POST","/v1/accounts:signUp",e)}async function UC(r,e){return nu(r,"POST","/v1/accounts:signInWithPassword",hr(r,e))}async function jC(r,e){return fr(r,"POST","/v1/accounts:sendOobCode",hr(r,e))}async function zC(r,e){return jC(r,e)}async function BC(r,e){return nu(r,"POST","/v1/accounts:signInWithEmailLink",hr(r,e))}async function HC(r,e){return nu(r,"POST","/v1/accounts:signInWithEmailLink",hr(r,e))}class ql extends lp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new ql(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new ql(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mh(e,n,"signInWithPassword",UC);case"emailLink":return BC(e,{email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mh(e,s,"signUpPassword",PC);case"emailLink":return HC(e,{idToken:n,email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Wa(r,e){return nu(r,"POST","/v1/accounts:signInWithIdp",hr(r,e))}const qC="http://localhost";class Ks extends lp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Ks(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Wa(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Wa(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wa(e,n)}buildRequest(){const e={requestUri:qC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=eu(n)}return e}}function FC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GC(r){const e=Cl(Il(r)).link,n=e?Cl(Il(e)).deep_link_id:null,s=Cl(Il(r)).deep_link_id;return(s?Cl(Il(s)).link:null)||s||n||e||r}class up{constructor(e){const n=Cl(Il(e)),s=n.apiKey??null,o=n.oobCode??null,u=FC(n.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=GC(e);try{return new up(n)}catch{return null}}}class mo{constructor(){this.providerId=mo.PROVIDER_ID}static credential(e,n){return ql._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=up.parseLink(n);return ve(s,"argument-error"),ql._fromEmailAndCode(e,s.code,s.tenantId)}}mo.PROVIDER_ID="password";mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class a0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class iu extends a0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Qr extends iu{constructor(){super("facebook.com")}static credential(e){return Ks._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";class Xr extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ks._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Xr.credential(n,s)}catch{return null}}}Xr.GOOGLE_SIGN_IN_METHOD="google.com";Xr.PROVIDER_ID="google.com";class $r extends iu{constructor(){super("github.com")}static credential(e){return Ks._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.GITHUB_SIGN_IN_METHOD="github.com";$r.PROVIDER_ID="github.com";class Jr extends iu{constructor(){super("twitter.com")}static credential(e,n){return Ks._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Jr.credential(n,s)}catch{return null}}}Jr.TWITTER_SIGN_IN_METHOD="twitter.com";Jr.PROVIDER_ID="twitter.com";async function YC(r,e){return nu(r,"POST","/v1/accounts:signUp",hr(r,e))}class Qs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Xn._fromIdTokenResponse(e,s,o),f=$v(s);return new Qs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=$v(s);return new Qs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function $v(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class ph extends cr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ph.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new ph(e,n,s,o)}}function o0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ph._fromErrorAndOperation(r,u,e,s):u})}async function KC(r,e,n=!1){const s=await Hl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Qs._forOperation(r,"link",s)}async function QC(r,e,n=!1){const{auth:s}=r;if(Vn(s.app))return Promise.reject(nr(s));const o="reauthenticate";try{const u=await Hl(r,o0(s,o,e,r),n);ve(u.idToken,s,"internal-error");const f=ap(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(r.uid===m,s,"user-mismatch"),Qs._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Wn(s,"user-mismatch"),u}}async function l0(r,e,n=!1){if(Vn(r.app))return Promise.reject(nr(r));const s="signIn",o=await o0(r,s,e),u=await Qs._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function XC(r,e){return l0(hs(r),e)}async function u0(r){const e=hs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $C(r,e,n){const s=hs(r);await mh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",zC)}async function JC(r,e,n){if(Vn(r.app))return Promise.reject(nr(r));const s=hs(r),f=await mh(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",YC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&u0(r),p}),m=await Qs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function WC(r,e,n){return Vn(r.app)?Promise.reject(nr(r)):XC(En(r),mo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&u0(r),s})}function ZC(r,e,n,s){return En(r).onIdTokenChanged(e,n,s)}function eI(r,e,n){return En(r).beforeAuthStateChanged(e,n)}function c0(r,e,n,s){return En(r).onAuthStateChanged(e,n,s)}function tI(r){return En(r).signOut()}const gh="__sak";class h0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const nI=1e3,iI=10;class f0 extends h0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=t0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);_C()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,iI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},nI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}f0.type="LOCAL";const rI=f0;class d0 extends h0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}d0.type="SESSION";const m0=d0;function sI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Vh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await sI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vh.receivers=[];function cp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class aI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=cp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const R=T;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function bi(){return window}function oI(r){bi().location.href=r}function p0(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function lI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uI(){return navigator?.serviceWorker?.controller||null}function cI(){return p0()?self:null}const g0="firebaseLocalStorageDb",hI=1,yh="firebaseLocalStorage",y0="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lh(r,e){return r.transaction([yh],e?"readwrite":"readonly").objectStore(yh)}function fI(){const r=indexedDB.deleteDatabase(g0);return new ru(r).toPromise()}function Om(){const r=indexedDB.open(g0,hI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(yh,{keyPath:y0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(yh)?e(s):(s.close(),await fI(),e(await Om()))})})}async function Jv(r,e,n){const s=Lh(r,!0).put({[y0]:e,value:n});return new ru(s).toPromise()}async function dI(r,e){const n=Lh(r,!1).get(e),s=await new ru(n).toPromise();return s===void 0?null:s.value}function Wv(r,e){const n=Lh(r,!0).delete(e);return new ru(n).toPromise()}const mI=800,pI=3;class _0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Om(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>pI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return p0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vh._getInstance(cI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await lI(),!this.activeServiceWorker)return;this.sender=new aI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Om();return await Jv(e,gh,"1"),await Wv(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Jv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>dI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Wv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Lh(o,!1).getAll();return new ru(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_0.type="LOCAL";const gI=_0;new tu(3e4,6e4);function yI(r,e){return e?er(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class hp extends lp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _I(r){return l0(r.auth,new hp(r),r.bypassAuthState)}function vI(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),QC(n,new hp(r),r.bypassAuthState)}async function EI(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),KC(n,new hp(r),r.bypassAuthState)}class v0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _I;case"linkViaPopup":case"linkViaRedirect":return EI;case"reauthViaPopup":case"reauthViaRedirect":return vI;default:Wn(this.auth,"internal-error")}}resolve(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const TI=new tu(2e3,1e4);class Xa extends v0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){or(this.filter.length===1,"Popup operations only handle one event");const e=cp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TI.get())};e()}}Xa.currentPopupAction=null;const SI="pendingRedirect",eh=new Map;class AI extends v0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=eh.get(this.auth._key());if(!e){try{const s=await bI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}eh.set(this.auth._key(),e)}return this.bypassAuthState||eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bI(r,e){const n=CI(e),s=RI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function wI(r,e){eh.set(r._key(),e)}function RI(r){return er(r._redirectPersistence)}function CI(r){return Zc(SI,r.config.apiKey,r.name)}async function II(r,e,n=!1){if(Vn(r.app))return Promise.reject(nr(r));const s=hs(r),o=yI(s,e),f=await new AI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const NI=600*1e3;class DI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!E0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ai(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zv(e))}saveEventToCache(e){this.cachedEventUids.add(Zv(e)),this.lastProcessedEventTime=Date.now()}}function Zv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function E0({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function OI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return E0(r);default:return!1}}async function xI(r,e={}){return fr(r,"GET","/v1/projects",e)}const MI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VI=/^https?/;async function LI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await xI(r);for(const n of e)try{if(kI(n))return}catch{}Wn(r,"unauthorized-domain")}function kI(r){const e=Nm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!VI.test(n))return!1;if(MI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const PI=new tu(3e4,6e4);function eE(){const r=bi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function UI(r){return new Promise((e,n)=>{function s(){eE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eE(),n(Ai(r,"network-request-failed"))},timeout:PI.get()})}if(bi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(bi().gapi?.load)s();else{const o=CC("iframefcb");return bi()[o]=()=>{gapi.load?s():n(Ai(r,"network-request-failed"))},i0(`${RC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw th=null,e})}let th=null;function jI(r){return th=th||UI(r),th}const zI=new tu(5e3,15e3),BI="__/auth/iframe",HI="emulator/auth/iframe",qI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GI(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?sp(e,HI):`https://${r.config.authDomain}/${BI}`,s={apiKey:e.apiKey,appName:r.name,v:fo},o=FI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${eu(s).slice(1)}`}async function YI(r){const e=await jI(r),n=bi().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:GI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ai(r,"network-request-failed"),m=bi().setTimeout(()=>{u(f)},zI.get());function p(){bi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const KI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QI=500,XI=600,$I="_blank",JI="http://localhost";class tE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WI(r,e,n,s=QI,o=XI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...KI,width:s.toString(),height:o.toString(),top:u,left:f},y=Wt().toLowerCase();n&&(m=$T(y)?$I:n),QT(y)&&(e=e||JI,p.scrollbars="yes");const E=Object.entries(p).reduce((R,[M,j])=>`${R}${M}=${j},`,"");if(yC(y)&&m!=="_self")return ZI(e||"",m),new tE(null);const T=window.open(e||"",m,E);ve(T,r,"popup-blocked");try{T.focus()}catch{}return new tE(T)}function ZI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const eN="__/auth/handler",tN="emulator/auth/handler",nN=encodeURIComponent("fac");async function nE(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:fo,eventId:o};if(e instanceof a0){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",j1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof iu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${nN}=${encodeURIComponent(p)}`:"";return`${iN(r)}?${eu(m).slice(1)}${y}`}function iN({config:r}){return r.emulator?sp(r,tN):`https://${r.authDomain}/${eN}`}const hm="webStorageSupport";class rN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=m0,this._completeRedirectFn=II,this._overrideRedirectResult=wI}async _openPopup(e,n,s,o){or(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await nE(e,n,s,Nm(),o);return WI(e,u,cp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await nE(e,n,s,Nm(),o);return oI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(or(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await YI(e),s=new DI(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hm,{type:hm},o=>{const u=o?.[0]?.[hm];u!==void 0&&n(!!u),Wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return t0()||XT()||op()}}const sN=rN;var iE="@firebase/auth",rE="1.11.1";class aN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function oN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lN(r){eo(new Ys("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n0(r)},y=new AC(s,o,u,p);return MC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),eo(new Ys("auth-internal",e=>{const n=hs(e.getProvider("auth").getImmediate());return(s=>new aN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ts(iE,rE,oN(r)),ts(iE,rE,"esm2020")}const uN=300,cN=OT("authIdTokenMaxAge")||uN;let sE=null;const hN=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>cN)return;const o=n?.token;sE!==o&&(sE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function fN(r=PT()){const e=ip(r,"auth");if(e.isInitialized())return e.getImmediate();const n=xC(r,{popupRedirectResolver:sN,persistence:[gI,rI,m0]}),s=OT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=hN(u.toString());eI(n,f,()=>f(n.currentUser)),ZC(n,m=>f(m))}}const o=NT("auth");return o&&VC(n,`http://${o}`),n}function dN(){return document.getElementsByTagName("head")?.[0]??document}bC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ai("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",dN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lN("Browser");var mN="firebase",pN="12.6.0";ts(mN,pN,"app");var aE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ns,T0;(function(){var r;function e(N,w){function I(){}I.prototype=w.prototype,N.F=w.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(x,C,k){for(var D=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)D[Be-2]=arguments[Be];return w.prototype[C].apply(x,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,w,I){I||(I=0);const x=Array(16);if(typeof w=="string")for(var C=0;C<16;++C)x[C]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(C=0;C<16;++C)x[C]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=N.g[0],I=N.g[1],C=N.g[2];let k=N.g[3],D;D=w+(k^I&(C^k))+x[0]+3614090360&4294967295,w=I+(D<<7&4294967295|D>>>25),D=k+(C^w&(I^C))+x[1]+3905402710&4294967295,k=w+(D<<12&4294967295|D>>>20),D=C+(I^k&(w^I))+x[2]+606105819&4294967295,C=k+(D<<17&4294967295|D>>>15),D=I+(w^C&(k^w))+x[3]+3250441966&4294967295,I=C+(D<<22&4294967295|D>>>10),D=w+(k^I&(C^k))+x[4]+4118548399&4294967295,w=I+(D<<7&4294967295|D>>>25),D=k+(C^w&(I^C))+x[5]+1200080426&4294967295,k=w+(D<<12&4294967295|D>>>20),D=C+(I^k&(w^I))+x[6]+2821735955&4294967295,C=k+(D<<17&4294967295|D>>>15),D=I+(w^C&(k^w))+x[7]+4249261313&4294967295,I=C+(D<<22&4294967295|D>>>10),D=w+(k^I&(C^k))+x[8]+1770035416&4294967295,w=I+(D<<7&4294967295|D>>>25),D=k+(C^w&(I^C))+x[9]+2336552879&4294967295,k=w+(D<<12&4294967295|D>>>20),D=C+(I^k&(w^I))+x[10]+4294925233&4294967295,C=k+(D<<17&4294967295|D>>>15),D=I+(w^C&(k^w))+x[11]+2304563134&4294967295,I=C+(D<<22&4294967295|D>>>10),D=w+(k^I&(C^k))+x[12]+1804603682&4294967295,w=I+(D<<7&4294967295|D>>>25),D=k+(C^w&(I^C))+x[13]+4254626195&4294967295,k=w+(D<<12&4294967295|D>>>20),D=C+(I^k&(w^I))+x[14]+2792965006&4294967295,C=k+(D<<17&4294967295|D>>>15),D=I+(w^C&(k^w))+x[15]+1236535329&4294967295,I=C+(D<<22&4294967295|D>>>10),D=w+(C^k&(I^C))+x[1]+4129170786&4294967295,w=I+(D<<5&4294967295|D>>>27),D=k+(I^C&(w^I))+x[6]+3225465664&4294967295,k=w+(D<<9&4294967295|D>>>23),D=C+(w^I&(k^w))+x[11]+643717713&4294967295,C=k+(D<<14&4294967295|D>>>18),D=I+(k^w&(C^k))+x[0]+3921069994&4294967295,I=C+(D<<20&4294967295|D>>>12),D=w+(C^k&(I^C))+x[5]+3593408605&4294967295,w=I+(D<<5&4294967295|D>>>27),D=k+(I^C&(w^I))+x[10]+38016083&4294967295,k=w+(D<<9&4294967295|D>>>23),D=C+(w^I&(k^w))+x[15]+3634488961&4294967295,C=k+(D<<14&4294967295|D>>>18),D=I+(k^w&(C^k))+x[4]+3889429448&4294967295,I=C+(D<<20&4294967295|D>>>12),D=w+(C^k&(I^C))+x[9]+568446438&4294967295,w=I+(D<<5&4294967295|D>>>27),D=k+(I^C&(w^I))+x[14]+3275163606&4294967295,k=w+(D<<9&4294967295|D>>>23),D=C+(w^I&(k^w))+x[3]+4107603335&4294967295,C=k+(D<<14&4294967295|D>>>18),D=I+(k^w&(C^k))+x[8]+1163531501&4294967295,I=C+(D<<20&4294967295|D>>>12),D=w+(C^k&(I^C))+x[13]+2850285829&4294967295,w=I+(D<<5&4294967295|D>>>27),D=k+(I^C&(w^I))+x[2]+4243563512&4294967295,k=w+(D<<9&4294967295|D>>>23),D=C+(w^I&(k^w))+x[7]+1735328473&4294967295,C=k+(D<<14&4294967295|D>>>18),D=I+(k^w&(C^k))+x[12]+2368359562&4294967295,I=C+(D<<20&4294967295|D>>>12),D=w+(I^C^k)+x[5]+4294588738&4294967295,w=I+(D<<4&4294967295|D>>>28),D=k+(w^I^C)+x[8]+2272392833&4294967295,k=w+(D<<11&4294967295|D>>>21),D=C+(k^w^I)+x[11]+1839030562&4294967295,C=k+(D<<16&4294967295|D>>>16),D=I+(C^k^w)+x[14]+4259657740&4294967295,I=C+(D<<23&4294967295|D>>>9),D=w+(I^C^k)+x[1]+2763975236&4294967295,w=I+(D<<4&4294967295|D>>>28),D=k+(w^I^C)+x[4]+1272893353&4294967295,k=w+(D<<11&4294967295|D>>>21),D=C+(k^w^I)+x[7]+4139469664&4294967295,C=k+(D<<16&4294967295|D>>>16),D=I+(C^k^w)+x[10]+3200236656&4294967295,I=C+(D<<23&4294967295|D>>>9),D=w+(I^C^k)+x[13]+681279174&4294967295,w=I+(D<<4&4294967295|D>>>28),D=k+(w^I^C)+x[0]+3936430074&4294967295,k=w+(D<<11&4294967295|D>>>21),D=C+(k^w^I)+x[3]+3572445317&4294967295,C=k+(D<<16&4294967295|D>>>16),D=I+(C^k^w)+x[6]+76029189&4294967295,I=C+(D<<23&4294967295|D>>>9),D=w+(I^C^k)+x[9]+3654602809&4294967295,w=I+(D<<4&4294967295|D>>>28),D=k+(w^I^C)+x[12]+3873151461&4294967295,k=w+(D<<11&4294967295|D>>>21),D=C+(k^w^I)+x[15]+530742520&4294967295,C=k+(D<<16&4294967295|D>>>16),D=I+(C^k^w)+x[2]+3299628645&4294967295,I=C+(D<<23&4294967295|D>>>9),D=w+(C^(I|~k))+x[0]+4096336452&4294967295,w=I+(D<<6&4294967295|D>>>26),D=k+(I^(w|~C))+x[7]+1126891415&4294967295,k=w+(D<<10&4294967295|D>>>22),D=C+(w^(k|~I))+x[14]+2878612391&4294967295,C=k+(D<<15&4294967295|D>>>17),D=I+(k^(C|~w))+x[5]+4237533241&4294967295,I=C+(D<<21&4294967295|D>>>11),D=w+(C^(I|~k))+x[12]+1700485571&4294967295,w=I+(D<<6&4294967295|D>>>26),D=k+(I^(w|~C))+x[3]+2399980690&4294967295,k=w+(D<<10&4294967295|D>>>22),D=C+(w^(k|~I))+x[10]+4293915773&4294967295,C=k+(D<<15&4294967295|D>>>17),D=I+(k^(C|~w))+x[1]+2240044497&4294967295,I=C+(D<<21&4294967295|D>>>11),D=w+(C^(I|~k))+x[8]+1873313359&4294967295,w=I+(D<<6&4294967295|D>>>26),D=k+(I^(w|~C))+x[15]+4264355552&4294967295,k=w+(D<<10&4294967295|D>>>22),D=C+(w^(k|~I))+x[6]+2734768916&4294967295,C=k+(D<<15&4294967295|D>>>17),D=I+(k^(C|~w))+x[13]+1309151649&4294967295,I=C+(D<<21&4294967295|D>>>11),D=w+(C^(I|~k))+x[4]+4149444226&4294967295,w=I+(D<<6&4294967295|D>>>26),D=k+(I^(w|~C))+x[11]+3174756917&4294967295,k=w+(D<<10&4294967295|D>>>22),D=C+(w^(k|~I))+x[2]+718787259&4294967295,C=k+(D<<15&4294967295|D>>>17),D=I+(k^(C|~w))+x[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(C+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+C&4294967295,N.g[3]=N.g[3]+k&4294967295}s.prototype.v=function(N,w){w===void 0&&(w=N.length);const I=w-this.blockSize,x=this.C;let C=this.h,k=0;for(;k<w;){if(C==0)for(;k<=I;)o(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<w;)if(x[C++]=N.charCodeAt(k++),C==this.blockSize){o(this,x),C=0;break}}else for(;k<w;)if(x[C++]=N[k++],C==this.blockSize){o(this,x),C=0;break}}this.h=C,this.o+=w},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,I=0;I<4;++I)for(let x=0;x<32;x+=8)N[w++]=this.g[I]>>>x&255;return N};function u(N,w){var I=m;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=w(N)}function f(N,w){this.h=w;const I=[];let x=!0;for(let C=N.length-1;C>=0;C--){const k=N[C]|0;x&&k==w||(I[C]=k,x=!1)}this.g=I}var m={};function p(N){return-128<=N&&N<128?u(N,function(w){return new f([w|0],w<0?-1:0)}):new f([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return T;if(N<0)return q(y(-N));const w=[];let I=1;for(let x=0;N>=I;x++)w[x]=N/I|0,I*=4294967296;return new f(w,0)}function E(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return q(E(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(w,8));let x=T;for(let k=0;k<N.length;k+=8){var C=Math.min(8,N.length-k);const D=parseInt(N.substring(k,k+C),w);C<8?(C=y(Math.pow(w,C)),x=x.j(C).add(y(D))):(x=x.j(I),x=x.add(y(D)))}return x}var T=p(0),R=p(1),M=p(16777216);r=f.prototype,r.m=function(){if(Q(this))return-q(this).m();let N=0,w=1;for(let I=0;I<this.g.length;I++){const x=this.i(I);N+=(x>=0?x:4294967296+x)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(j(this))return"0";if(Q(this))return"-"+q(this).toString(N);const w=y(Math.pow(N,6));var I=this;let x="";for(;;){const C=he(I,w).g;I=Y(I,C.j(w));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=C,j(I))return k+x;for(;k.length<6;)k="0"+k;x=k+x}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function j(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function Q(N){return N.h==-1}r.l=function(N){return N=Y(this,N),Q(N)?-1:j(N)?0:1};function q(N){const w=N.g.length,I=[];for(let x=0;x<w;x++)I[x]=~N.g[x];return new f(I,~N.h).add(R)}r.abs=function(){return Q(this)?q(this):this},r.add=function(N){const w=Math.max(this.g.length,N.g.length),I=[];let x=0;for(let C=0;C<=w;C++){let k=x+(this.i(C)&65535)+(N.i(C)&65535),D=(k>>>16)+(this.i(C)>>>16)+(N.i(C)>>>16);x=D>>>16,k&=65535,D&=65535,I[C]=D<<16|k}return new f(I,I[I.length-1]&-2147483648?-1:0)};function Y(N,w){return N.add(q(w))}r.j=function(N){if(j(this)||j(N))return T;if(Q(this))return Q(N)?q(this).j(q(N)):q(q(this).j(N));if(Q(N))return q(this.j(q(N)));if(this.l(M)<0&&N.l(M)<0)return y(this.m()*N.m());const w=this.g.length+N.g.length,I=[];for(var x=0;x<2*w;x++)I[x]=0;for(x=0;x<this.g.length;x++)for(let C=0;C<N.g.length;C++){const k=this.i(x)>>>16,D=this.i(x)&65535,Be=N.i(C)>>>16,ft=N.i(C)&65535;I[2*x+2*C]+=D*ft,te(I,2*x+2*C),I[2*x+2*C+1]+=k*ft,te(I,2*x+2*C+1),I[2*x+2*C+1]+=D*Be,te(I,2*x+2*C+1),I[2*x+2*C+2]+=k*Be,te(I,2*x+2*C+2)}for(N=0;N<w;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=w;N<2*w;N++)I[N]=0;return new f(I,0)};function te(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function ie(N,w){this.g=N,this.h=w}function he(N,w){if(j(w))throw Error("division by zero");if(j(N))return new ie(T,T);if(Q(N))return w=he(q(N),w),new ie(q(w.g),q(w.h));if(Q(w))return w=he(N,q(w)),new ie(q(w.g),w.h);if(N.g.length>30){if(Q(N)||Q(w))throw Error("slowDivide_ only works with positive integers.");for(var I=R,x=w;x.l(N)<=0;)I=me(I),x=me(x);var C=Te(I,1),k=Te(x,1);for(x=Te(x,2),I=Te(I,2);!j(x);){var D=k.add(x);D.l(N)<=0&&(C=C.add(I),k=D),x=Te(x,1),I=Te(I,1)}return w=Y(N,C.j(w)),new ie(C,w)}for(C=T;N.l(w)>=0;){for(I=Math.max(1,Math.floor(N.m()/w.m())),x=Math.ceil(Math.log(I)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),k=y(I),D=k.j(w);Q(D)||D.l(N)>0;)I-=x,k=y(I),D=k.j(w);j(k)&&(k=R),C=C.add(k),N=Y(N,D)}return new ie(C,N)}r.B=function(N){return he(this,N).h},r.and=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let x=0;x<w;x++)I[x]=this.i(x)&N.i(x);return new f(I,this.h&N.h)},r.or=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let x=0;x<w;x++)I[x]=this.i(x)|N.i(x);return new f(I,this.h|N.h)},r.xor=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let x=0;x<w;x++)I[x]=this.i(x)^N.i(x);return new f(I,this.h^N.h)};function me(N){const w=N.g.length+1,I=[];for(let x=0;x<w;x++)I[x]=N.i(x)<<1|N.i(x-1)>>>31;return new f(I,N.h)}function Te(N,w){const I=w>>5;w%=32;const x=N.g.length-I,C=[];for(let k=0;k<x;k++)C[k]=w>0?N.i(k+I)>>>w|N.i(k+I+1)<<32-w:N.i(k+I);return new f(C,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,T0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,ns=f}).apply(typeof aE<"u"?aE:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var S0,Nl,A0,nh,xm,b0,w0,R0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var v=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var z=c[b];if(!(z in v))break e;v=v[z]}c=c[c.length-1],b=v[c],g=g(b),g!=b&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],b;for(b in g)Object.prototype.hasOwnProperty.call(g,b)&&v.push([b,g[b]]);return v}});var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,v){return c.call.apply(c.bind,arguments)}function y(c,g,v){return y=p,y.apply(null,arguments)}function E(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function T(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(b,z,G){for(var se=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)se[Re-2]=arguments[Re];return g.prototype[z].apply(b,se)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function M(c){const g=c.length;if(g>0){const v=Array(g);for(let b=0;b<g;b++)v[b]=c[b];return v}return[]}function j(c,g){for(let b=1;b<arguments.length;b++){const z=arguments[b];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=c.length||0;const G=z.length||0;c.length=v+G;for(let se=0;se<G;se++)c[v+se]=z[se]}else c.push(z)}}class Q{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function q(c){f.setTimeout(()=>{throw c},0)}function Y(){var c=N;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class te{constructor(){this.h=this.g=null}add(g,v){const b=ie.get();b.set(g,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ie=new Q(()=>new he,c=>c.reset());class he{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let me,Te=!1,N=new te,w=()=>{const c=Promise.resolve(void 0);me=()=>{c.then(I)}};function I(){for(var c;c=Y();){try{c.h.call(c.g)}catch(v){q(v)}var g=ie;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}Te=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,g),f.removeEventListener("test",v,g)}catch{}return c})();function D(c){return/^[\s\xa0]*$/.test(c)}function Be(c,g){C.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}T(Be,C),Be.prototype.init=function(c,g){const v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Be.Z.h.call(this)},Be.prototype.h=function(){Be.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ft="closure_listenable_"+(Math.random()*1e6|0),X=0;function J(c,g,v,b,z){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!b,this.ha=z,this.key=++X,this.da=this.fa=!1}function oe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Se(c,g,v){for(const b in c)g.call(v,c[b],b,c)}function xe(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function L(c){const g={};for(const v in c)g[v]=c[v];return g}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,g){let v,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(v in b)c[v]=b[v];for(let G=0;G<Z.length;G++)v=Z[G],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function le(c){this.src=c,this.g={},this.h=0}le.prototype.add=function(c,g,v,b,z){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const se=Ie(c,g,b,z);return se>-1?(g=c[se],v||(g.fa=!1)):(g=new J(g,this.src,G,!!b,z),g.fa=v,c.push(g)),g};function ge(c,g){const v=g.type;if(v in c.g){var b=c.g[v],z=Array.prototype.indexOf.call(b,g,void 0),G;(G=z>=0)&&Array.prototype.splice.call(b,z,1),G&&(oe(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ie(c,g,v,b){for(let z=0;z<c.length;++z){const G=c[z];if(!G.da&&G.listener==g&&G.capture==!!v&&G.ha==b)return z}return-1}var je="closure_lm_"+(Math.random()*1e6|0),Nt={};function rt(c,g,v,b,z){if(Array.isArray(g)){for(let G=0;G<g.length;G++)rt(c,g[G],v,b,z);return null}return v=To(v),c&&c[ft]?c.J(g,v,m(b)?!!b.capture:!1,z):fs(c,g,v,!1,b,z)}function fs(c,g,v,b,z,G){if(!g)throw Error("Invalid event type");const se=m(z)?!!z.capture:!!z;let Re=ds(c);if(Re||(c[je]=Re=new le(c)),v=Re.add(g,v,b,se,G),v.proxy)return v;if(b=ta(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)k||(z=se),z===void 0&&(z=!1),c.addEventListener(g.toString(),b,z);else if(c.attachEvent)c.attachEvent(ei(g.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ta(){function c(v){return g.call(c.src,c.listener,v)}const g=vo;return c}function na(c,g,v,b,z){if(Array.isArray(g))for(var G=0;G<g.length;G++)na(c,g[G],v,b,z);else b=m(b)?!!b.capture:!!b,v=To(v),c&&c[ft]?(c=c.i,G=String(g).toString(),G in c.g&&(g=c.g[G],v=Ie(g,v,b,z),v>-1&&(oe(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[G],c.h--)))):c&&(c=ds(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Ie(g,v,b,z)),(v=c>-1?g[c]:null)&&ia(v))}function ia(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ft])ge(g.i,c);else{var v=c.type,b=c.proxy;g.removeEventListener?g.removeEventListener(v,b,c.capture):g.detachEvent?g.detachEvent(ei(v),b):g.addListener&&g.removeListener&&g.removeListener(b),(v=ds(g))?(ge(v,c),v.h==0&&(v.src=null,g[je]=null)):oe(c)}}}function ei(c){return c in Nt?Nt[c]:Nt[c]="on"+c}function vo(c,g){if(c.da)c=!0;else{g=new Be(g,this);const v=c.listener,b=c.ha||c.src;c.fa&&ia(c),c=v.call(b,g)}return c}function ds(c){return c=c[je],c instanceof le?c:null}var Eo="__closure_events_fn_"+(Math.random()*1e9>>>0);function To(c){return typeof c=="function"?c:(c[Eo]||(c[Eo]=function(g){return c.handleEvent(g)}),c[Eo])}function _t(){x.call(this),this.i=new le(this),this.M=this,this.G=null}T(_t,x),_t.prototype[ft]=!0,_t.prototype.removeEventListener=function(c,g,v,b){na(this,c,g,v,b)};function Dt(c,g){var v,b=c.G;if(b)for(v=[];b;b=b.G)v.push(b);if(c=c.M,b=g.type||g,typeof g=="string")g=new C(g,c);else if(g instanceof C)g.target=g.target||c;else{var z=g;g=new C(b,c),ae(g,z)}z=!0;let G,se;if(v)for(se=v.length-1;se>=0;se--)G=g.g=v[se],z=mr(G,b,!0,g)&&z;if(G=g.g=c,z=mr(G,b,!0,g)&&z,z=mr(G,b,!1,g)&&z,v)for(se=0;se<v.length;se++)G=g.g=v[se],z=mr(G,b,!1,g)&&z}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let b=0;b<v.length;b++)oe(v[b]);delete c.g[g],c.h--}}this.G=null},_t.prototype.J=function(c,g,v,b){return this.i.add(String(c),g,!1,v,b)},_t.prototype.K=function(c,g,v,b){return this.i.add(String(c),g,!0,v,b)};function mr(c,g,v,b){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let z=!0;for(let G=0;G<g.length;++G){const se=g[G];if(se&&!se.da&&se.capture==v){const Re=se.listener,mt=se.ha||se.src;se.fa&&ge(c.i,se),z=Re.call(mt,b)!==!1&&z}}return z&&!b.defaultPrevented}function Wh(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function cu(c){c.g=Wh(()=>{c.g=null,c.i&&(c.i=!1,cu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Zt extends x{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:cu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ms(c){x.call(this),this.h=c,this.g={}}T(ms,x);var So=[];function Ao(c){Se(c.g,function(g,v){this.g.hasOwnProperty(v)&&ia(g)},c),c.g={}}ms.prototype.N=function(){ms.Z.N.call(this),Ao(this)},ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pr=f.JSON.stringify,Zh=f.JSON.parse,hu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function fu(){}function du(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jt(){C.call(this,"d")}T(jt,C);function Tn(){C.call(this,"c")}T(Tn,C);var dt={},mu=null;function ra(){return mu=mu||new _t}dt.Ia="serverreachability";function pu(c){C.call(this,dt.Ia,c)}T(pu,C);function ti(c){const g=ra();Dt(g,new pu(g))}dt.STAT_EVENT="statevent";function ps(c,g){C.call(this,dt.STAT_EVENT,c),this.stat=g}T(ps,C);function vt(c){const g=ra();Dt(g,new ps(g,c))}dt.Ja="timingevent";function ni(c,g){C.call(this,dt.Ja,c),this.size=g}T(ni,C);function ii(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Un(){this.g=!0}Un.prototype.ua=function(){this.g=!1};function ef(c,g,v,b,z,G){c.info(function(){if(c.g)if(G){var se="",Re=G.split("&");for(let Fe=0;Fe<Re.length;Fe++){var mt=Re[Fe].split("=");if(mt.length>1){const st=mt[0];mt=mt[1];const wn=st.split("_");se=wn.length>=2&&wn[1]=="type"?se+(st+"="+mt+"&"):se+(st+"=redacted&")}}}else se=null;else se=G;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+g+`
`+v+`
`+se})}function gu(c,g,v,b,z,G,se){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+g+`
`+v+`
`+G+" "+se})}function ri(c,g,v,b){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+tf(c,v)+(b?" "+b:"")})}function gs(c,g){c.info(function(){return"TIMEOUT: "+g})}Un.prototype.info=function(){};function tf(c,g){if(!c.g)return g;if(!g)return null;try{const G=JSON.parse(g);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var v=G[c];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var z=b[0];if(z!="noop"&&z!="stop"&&z!="close")for(let se=1;se<b.length;se++)b[se]=""}}}}return pr(G)}catch{return g}}var ys={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wo;function _s(){}T(_s,fu),_s.prototype.g=function(){return new XMLHttpRequest},wo=new _s;function xi(c){return encodeURIComponent(String(c))}function yu(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function jn(c,g,v,b){this.j=c,this.i=g,this.l=v,this.S=b||1,this.V=new ms(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var Et={},Vt={};function si(c,g,v){c.M=1,c.A=vs(St(g)),c.u=v,c.R=!0,sa(c,null)}function sa(c,g){c.F=Date.now(),ai(c),c.B=St(c.A);var v=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),ua(v.i,"t",b),c.C=0,v=c.j.L,c.h=new zn,c.g=xu(c.j,v?g:null,!c.u),c.P>0&&(c.O=new Zt(y(c.Y,c,c.g),c.P)),g=c.V,v=c.g,b=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(So[0]=z.toString()),z=So);for(let G=0;G<z.length;G++){const se=rt(v,z[G],b||g.handleEvent,!1,g.h||g);if(!se)break;g.g[se.key]=se}g=c.J?L(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),ti(),ef(c.i,c.v,c.B,c.l,c.S,c.u)}jn.prototype.ba=function(c){c=c.target;const g=this.O;g&&qn(c)==3?g.j():this.Y(c)},jn.prototype.Y=function(c){try{if(c==this.g)e:{const Re=qn(this.g),mt=this.g.ya(),Fe=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||zt(this.g)))){this.K||Re!=4||mt==7||(mt==8||Fe<=0?ti(3):ti(2)),oi(this);var g=this.g.ca();this.X=g;var v=nf(this);if(this.o=g==200,gu(this.i,this.v,this.B,this.l,this.S,Re,g),this.o){if(this.U&&!this.L){t:{if(this.g){var b,z=this.g;if((b=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(b)){var G=b;break t}}G=null}if(c=G)ri(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,c);else{this.o=!1,this.m=3,vt(12),hn(this),Sn(this);break e}}if(this.R){c=!0;let st;for(;!this.K&&this.C<v.length;)if(st=vu(this,v),st==Vt){Re==4&&(this.m=4,vt(14),c=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(st==Et){this.m=4,vt(15),ri(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ri(this.i,this.l,st,null),li(this,st);if(_u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||v.length!=0||this.h.h||(this.m=1,vt(16),c=!1),this.o=this.o&&c,!c)ri(this.i,this.l,v,"[Invalid Chunked Response]"),hn(this),Sn(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),zo(se),se.P=!0,vt(11))}}else ri(this.i,this.l,v,null),li(this,v);Re==4&&hn(this),this.o&&!this.K&&(Re==4?Iu(this.j,this):(this.o=!1,ai(this)))}else Vi(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),hn(this),Sn(this)}}}catch{}finally{}};function nf(c){if(!_u(c))return c.g.la();const g=zt(c.g);if(g==="")return"";let v="";const b=g.length,z=qn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return hn(c),Sn(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<b;G++)c.h.h=!0,v+=c.h.i.decode(g[G],{stream:!(z&&G==b-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function _u(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function vu(c,g){var v=c.C,b=g.indexOf(`
`,v);return b==-1?Vt:(v=Number(g.substring(v,b)),isNaN(v)?Et:(b+=1,b+v>g.length?Vt:(g=g.slice(b,b+v),c.C=b+v,g)))}jn.prototype.cancel=function(){this.K=!0,hn(this)};function ai(c){c.T=Date.now()+c.H,aa(c,c.H)}function aa(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ii(y(c.aa,c),g)}function oi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}jn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(gs(this.i,this.B),this.M!=2&&(ti(),vt(17)),hn(this),this.m=2,Sn(this)):aa(this,this.T-c)};function Sn(c){c.j.I==0||c.K||Iu(c.j,c)}function hn(c){oi(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Ao(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function li(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||ci(v.h,c))){if(!c.L&&ci(v.h,c)&&v.I==3){try{var b=v.Ba.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ma(v),Ar(v);else break e;Rs(v),vt(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ii(y(v.Va,v),6e3));ui(v.h)<=1&&v.ta&&(v.ta=void 0)}else gi(v,11)}else if((c.L||v.g==c)&&ma(v),!D(g))for(z=v.Ba.g.parse(g),g=0;g<z.length;g++){let Fe=z[g];const st=Fe[0];if(!(st<=v.K))if(v.K=st,Fe=Fe[1],v.I==2)if(Fe[0]=="c"){v.M=Fe[1],v.ba=Fe[2];const wn=Fe[3];wn!=null&&(v.ka=wn,v.j.info("VER="+v.ka));const yi=Fe[4];yi!=null&&(v.za=yi,v.j.info("SVER="+v.za));const Fn=Fe[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(b=1.5*Fn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Gn=c.g;if(Gn){const Cs=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cs){var G=b.h;G.g||Cs.indexOf("spdy")==-1&&Cs.indexOf("quic")==-1&&Cs.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Io(G,G.h),G.h=null))}if(b.G){const pa=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;pa&&(b.wa=pa,Ke(b.J,b.G,pa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var se=c;if(b.na=Ou(b,b.L?b.ba:null,b.W),se.L){No(b.h,se);var Re=se,mt=b.O;mt&&(Re.H=mt),Re.D&&(oi(Re),ai(Re)),b.g=se}else Ru(b);v.i.length>0&&pi(v)}else Fe[0]!="stop"&&Fe[0]!="close"||gi(v,7);else v.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?gi(v,7):Uo(v):Fe[0]!="noop"&&v.l&&v.l.qa(Fe),v.A=0)}}ti(4)}catch{}}var Tt=class{constructor(c,g){this.g=c,this.map=g}};function Ro(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Co(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ui(c){return c.h?1:c.g?c.g.size:0}function ci(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Io(c,g){c.g?c.g.add(g):c.h=g}function No(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Ro.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Do(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return M(c.i)}var Eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oa(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const b=c[v].indexOf("=");let z,G=null;b>=0?(z=c[v].substring(0,b),G=c[v].substring(b+1)):z=c[v],g(z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function fn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof fn?(this.l=c.l,Lt(this,c.j),this.o=c.o,this.g=c.g,gr(this,c.u),this.h=c.h,Oo(this,bu(c.i)),this.m=c.m):c&&(g=String(c).match(Eu))?(this.l=!1,Lt(this,g[1]||"",!0),this.o=hi(g[2]||""),this.g=hi(g[3]||"",!0),gr(this,g[4]),this.h=hi(g[5]||"",!0),Oo(this,g[6]||"",!0),this.m=hi(g[7]||"")):(this.l=!1,this.i=new _r(null,this.l))}fn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Es(g,la,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Es(g,la,!0),"@"),c.push(xi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Es(v,v.charAt(0)=="/"?xo:Tu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Es(v,Su)),c.join("")},fn.prototype.resolve=function(c){const g=St(this);let v=!!c.j;v?Lt(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var b=c.h;if(v)gr(g,c.u);else if(v=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var z=g.h.lastIndexOf("/");z!=-1&&(b=g.h.slice(0,z+1)+b)}if(z=b,z==".."||z==".")b="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){b=z.lastIndexOf("/",0)==0,z=z.split("/");const G=[];for(let se=0;se<z.length;){const Re=z[se++];Re=="."?b&&se==z.length&&G.push(""):Re==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),b&&se==z.length&&G.push("")):(G.push(Re),b=!0)}b=G.join("/")}else b=z}return v?g.h=b:v=c.i.toString()!=="",v?Oo(g,bu(c.i)):v=!!c.m,v&&(g.m=c.m),g};function St(c){return new fn(c)}function Lt(c,g,v){c.j=v?hi(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function gr(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function Oo(c,g,v){g instanceof _r?(c.i=g,ca(c.i,c.l)):(v||(g=Es(g,yr)),c.i=new _r(g,c.l))}function Ke(c,g,v){c.i.set(g,v)}function vs(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function hi(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Es(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,nn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function nn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var la=/[#\/\?@]/g,Tu=/[#\?:]/g,xo=/[#\?]/g,yr=/[#\?@]/g,Su=/#/g;function _r(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function rn(c){c.g||(c.g=new Map,c.h=0,c.i&&oa(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=_r.prototype,r.add=function(c,g){rn(this),this.i=null,c=vr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Au(c,g){rn(c),g=vr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Mo(c,g){return rn(c),g=vr(c,g),c.g.has(g)}r.forEach=function(c,g){rn(this),this.g.forEach(function(v,b){v.forEach(function(z){c.call(g,z,b,this)},this)},this)};function Vo(c,g){rn(c);let v=[];if(typeof g=="string")Mo(c,g)&&(v=v.concat(c.g.get(vr(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}r.set=function(c,g){return rn(this),this.i=null,c=vr(this,c),Mo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=Vo(this,c),c.length>0?String(c[0]):g):g};function ua(c,g,v){Au(c,g),v.length>0&&(c.i=null,c.g.set(vr(c,g),M(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let b=0;b<g.length;b++){var v=g[b];const z=xi(v);v=Vo(this,v);for(let G=0;G<v.length;G++){let se=z;v[G]!==""&&(se+="="+xi(v[G])),c.push(se)}}return this.i=c.join("&")};function bu(c){const g=new _r;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function vr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function ca(c,g){g&&!c.j&&(rn(c),c.i=null,c.g.forEach(function(v,b){const z=b.toLowerCase();b!=z&&(Au(this,b),ua(this,z,v))},c)),c.j=g}function Bn(c,g){const v=new Un;if(f.Image){const b=new Image;b.onload=E(An,v,"TestLoadImage: loaded",!0,g,b),b.onerror=E(An,v,"TestLoadImage: error",!1,g,b),b.onabort=E(An,v,"TestLoadImage: abort",!1,g,b),b.ontimeout=E(An,v,"TestLoadImage: timeout",!1,g,b),f.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else g(!1)}function Lo(c,g){const v=new Un,b=new AbortController,z=setTimeout(()=>{b.abort(),An(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:b.signal}).then(G=>{clearTimeout(z),G.ok?An(v,"TestPingServer: ok",!0,g):An(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),An(v,"TestPingServer: error",!1,g)})}function An(c,g,v,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(v)}catch{}}function Er(){this.g=new hu}function fi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(fi,fu),fi.prototype.g=function(){return new Ts(this.i,this.h)};function Ts(c,g){_t.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ts,_t),r=Ts.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Hn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Tr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ha(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ha(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Tr(this):Hn(this),this.readyState==3&&ha(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Tr(this))},r.Na=function(c){this.g&&(this.response=c,Tr(this))},r.ga=function(){this.g&&Tr(this)};function Tr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Hn(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Hn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function bn(c){let g="";return Se(c,function(v,b){g+=b,g+=":",g+=v,g+=`\r
`}),g}function Ss(c,g,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=bn(v),typeof c=="string"?v!=null&&xi(v):Ke(c,g,v))}function $e(c){_t.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T($e,_t);var di=/^https?$/i,ko=["POST","PUT"];r=$e.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wo.g(),this.g.onreadystatechange=R(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){As(this,G);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)v.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const G of b.keys())v.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),z=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(ko,g,void 0)>=0)||b||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,se]of v)this.g.setRequestHeader(G,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){As(this,G)}};function As(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Po(c),Mi(c)}function Po(c){c.A||(c.A=!0,Dt(c,"complete"),Dt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Dt(this,"complete"),Dt(this,"abort"),Mi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mi(this,!0)),$e.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?bs(this):this.Xa())},r.Xa=function(){bs(this)};function bs(c){if(c.h&&typeof u<"u"){if(c.v&&qn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Dt(c,"readystatechange"),qn(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var b;if(b=G===0){let se=String(c.D).match(Eu)[1]||null;!se&&f.self&&f.self.location&&(se=f.self.location.protocol.slice(0,-1)),b=!di.test(se?se.toLowerCase():"")}v=b}if(v)Dt(c,"complete"),Dt(c,"success");else{c.o=6;try{var z=qn(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",Po(c)}}finally{Mi(c)}}}}function Mi(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||Dt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function qn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Zh(g)}};function zt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(c){const g={};c=(c.g&&qn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(D(c[b]))continue;var v=yu(c[b]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=g[z]||[];g[z]=G,G.push(v)}xe(g,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Sr(c){this.za=0,this.i=[],this.j=new Un,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,c),this.Za=mi("retryDelaySeedMs",1e4,c),this.Ta=mi("forwardChannelMaxRetries",2,c),this.va=mi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ro(c&&c.concurrentRequestLimit),this.Ba=new Er,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Sr.prototype,r.ka=8,r.I=1,r.connect=function(c,g,v,b){vt(0),this.W=c,this.H=g||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Ou(this,null,this.W),pi(this)};function Uo(c){if(fa(c),c.I==3){var g=c.V++,v=St(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",g),Ke(v,"TYPE","terminate"),ws(c,v),g=new jn(c,c.j,g),g.M=2,g.A=vs(St(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=g.A,v=!0),v||(g.g=xu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),ai(g)}Du(c)}function Ar(c){c.g&&(zo(c),c.g.cancel(),c.g=null)}function fa(c){Ar(c),c.v&&(f.clearTimeout(c.v),c.v=null),ma(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function pi(c){if(!Co(c.h)&&!c.m){c.m=!0;var g=c.Ea;me||w(),Te||(me(),Te=!0),N.add(g,c),c.D=0}}function da(c,g){return ui(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ii(y(c.Ea,c,g),Nu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new jn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=L(G),ae(G,this.U)):G=this.U),this.u!==null||this.R||(z.J=G,G=null),this.S)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(g+=b,g>4096){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=wu(this,z,g),v=St(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),ws(this,v),G&&(this.R?g="headers="+xi(bn(G))+"&"+g:this.u&&Ss(v,this.u,G)),Io(this.h,z),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",g),Ke(v,"SID","null"),z.U=!0,si(z,v,null)):si(z,v,g),this.I=2}}else this.I==3&&(c?jo(this,c):this.i.length==0||Co(this.h)||jo(this))};function jo(c,g){var v;g?v=g.l:v=c.V++;const b=St(c.J);Ke(b,"SID",c.M),Ke(b,"RID",v),Ke(b,"AID",c.K),ws(c,b),c.u&&c.o&&Ss(b,c.u,c.o),v=new jn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=wu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Io(c.h,v),si(v,b,g)}function ws(c,g){c.H&&Se(c.H,function(v,b){Ke(g,b,v)}),c.l&&Se({},function(v,b){Ke(g,b,v)})}function wu(c,g,v){v=Math.min(c.i.length,v);const b=c.l?y(c.l.Ka,c.l,c):null;e:{var z=c.i;let Re=-1;for(;;){const mt=["count="+v];Re==-1?v>0?(Re=z[0].g,mt.push("ofs="+Re)):Re=0:mt.push("ofs="+Re);let Fe=!0;for(let st=0;st<v;st++){var G=z[st].g;const wn=z[st].map;if(G-=Re,G<0)Re=Math.max(0,z[st].g-100),Fe=!1;else try{G="req"+G+"_"||"";try{var se=wn instanceof Map?wn:Object.entries(wn);for(const[yi,Fn]of se){let Gn=Fn;m(Fn)&&(Gn=pr(Fn)),mt.push(G+yi+"="+encodeURIComponent(Gn))}}catch(yi){throw mt.push(G+"type="+encodeURIComponent("_badmap")),yi}}catch{b&&b(wn)}}if(Fe){se=mt.join("&");break e}}se=void 0}return c=c.i.splice(0,v),g.G=c,se}function Ru(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;me||w(),Te||(me(),Te=!0),N.add(g,c),c.A=0}}function Rs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ii(y(c.Da,c),Nu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Cu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ii(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),Ar(this),Cu(this))};function zo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Cu(c){c.g=new jn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=St(c.na);Ke(g,"RID","rpc"),Ke(g,"SID",c.M),Ke(g,"AID",c.K),Ke(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(g,"TO",c.ia),Ke(g,"TYPE","xmlhttp"),ws(c,g),c.u&&c.o&&Ss(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=vs(St(g)),v.u=null,v.R=!0,sa(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Ar(this),Rs(this),vt(19))};function ma(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Iu(c,g){var v=null;if(c.g==g){ma(c),zo(c),c.g=null;var b=2}else if(ci(c.h,g))v=g.G,No(c.h,g),b=1;else return;if(c.I!=0){if(g.o)if(b==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var z=c.D;b=ra(),Dt(b,new ni(b,v)),pi(c)}else Ru(c);else if(z=g.m,z==3||z==0&&g.X>0||!(b==1&&da(c,g)||b==2&&Rs(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),z){case 1:gi(c,5);break;case 4:gi(c,10);break;case 3:gi(c,6);break;default:gi(c,2)}}}function Nu(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function gi(c,g){if(c.j.info("Error code "+g),g==2){var v=y(c.bb,c),b=c.Ua;const z=!b;b=new fn(b||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Lt(b,"https"),vs(b),z?Bn(b.toString(),v):Lo(b.toString(),v)}else vt(2);c.I=0,c.l&&c.l.pa(g),Du(c),fa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Du(c){if(c.I=0,c.ja=[],c.l){const g=Do(c.h);(g.length!=0||c.i.length!=0)&&(j(c.ja,g),j(c.ja,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.oa()}}function Ou(c,g,v){var b=v instanceof fn?St(v):new fn(v);if(b.g!="")g&&(b.g=g+"."+b.g),gr(b,b.u);else{var z=f.location;b=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;const G=new fn(null);b&&Lt(G,b),g&&(G.g=g),z&&gr(G,z),v&&(G.h=v),b=G}return v=c.G,g=c.wa,v&&g&&Ke(b,v,g),Ke(b,"VER",c.ka),ws(c,b),b}function xu(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new $e(new fi({ab:v})):new $e(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mu(){}r=Mu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function br(){}br.prototype.g=function(c,g){return new en(c,g)};function en(c,g){_t.call(this),this.g=new Sr(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!D(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!D(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Li(this)}T(en,_t),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Uo(this.g)},en.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=pr(c),c=v);g.i.push(new Tt(g.Ya++,c)),g.I==3&&pi(g)},en.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,en.Z.N.call(this)};function Vu(c){jt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}T(Vu,jt);function Lu(){Tn.call(this),this.status=1}T(Lu,Tn);function Li(c){this.g=c}T(Li,Mu),Li.prototype.ra=function(){Dt(this.g,"a")},Li.prototype.qa=function(c){Dt(this.g,new Vu(c))},Li.prototype.pa=function(c){Dt(this.g,new Lu)},Li.prototype.oa=function(){Dt(this.g,"b")},br.prototype.createWebChannel=br.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,R0=function(){return new br},w0=function(){return ra()},b0=dt,xm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ys.NO_ERROR=0,ys.TIMEOUT=8,ys.HTTP_ERROR=6,nh=ys,bo.COMPLETE="complete",A0=bo,du.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,Nl=du,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,S0=$e}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});const oE="@firebase/firestore",lE="4.9.2";class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");let po="12.3.0";const Xs=new tp("@firebase/firestore");function Ga(){return Xs.logLevel}function ue(r,...e){if(Xs.logLevel<=Le.DEBUG){const n=e.map(fp);Xs.debug(`Firestore (${po}): ${r}`,...n)}}function lr(r,...e){if(Xs.logLevel<=Le.ERROR){const n=e.map(fp);Xs.error(`Firestore (${po}): ${r}`,...n)}}function to(r,...e){if(Xs.logLevel<=Le.WARN){const n=e.map(fp);Xs.warn(`Firestore (${po}): ${r}`,...n)}}function fp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Ee(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,C0(r,s,n)}function C0(r,e,n){let s=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw lr(s),new Error(s)}function Ye(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||C0(e,o,s)}function we(r,e){return r}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends cr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class is{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class I0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n($t.UNAUTHENTICATED)))}shutdown(){}}class yN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class _N{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new is;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new is,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new is)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new I0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class vN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class EN{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new vN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class uE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new uE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new uE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function SN(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class dp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=SN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ke(r,e){return r<e?-1:r>e?1:0}function Mm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return fm(o)===fm(u)?ke(o,u):fm(o)?1:-1}return ke(r.length,e.length)}const AN=55296,bN=57343;function fm(r){const e=r.charCodeAt(0);return e>=AN&&e<=bN}function no(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const cE="__name__";class Si{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Si.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Si?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Si.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ke(e.length,n.length)}static compareSegments(e,n){const s=Si.isNumericId(e),o=Si.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Si.extractNumericId(e).compare(Si.extractNumericId(n)):Mm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ns.fromString(e.substring(4,e.length-2))}}class ot extends Si{construct(e,n,s){return new ot(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(re.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ot(n)}static emptyPath(){return new ot([])}}const wN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Si{construct(e,n,s){return new Yt(e,n,s)}static isValidIdentifier(e){return wN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cE}static keyField(){return new Yt([cE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new de(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new de(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(ot.fromString(e))}static fromName(e){return new ye(ot.fromString(e).popFirst(5))}static empty(){return new ye(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new ot(e.slice()))}}function RN(r,e,n){if(!n)throw new de(re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function CN(r,e,n,s){if(e===!0&&s===!0)throw new de(re.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function hE(r){if(!ye.isDocumentKey(r))throw new de(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function N0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function mp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function Fl(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new de(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mp(r);throw new de(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function It(r,e){const n={typeString:r};return e&&(n.value=e),n}function su(r,e){if(!N0(r))throw new de(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new de(re.INVALID_ARGUMENT,n);return!0}const fE=-62135596800,dE=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*dE);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<fE)throw new de(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dE}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(su(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-fE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:It("string",it._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new it(0,0))}static max(){return new Ae(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Gl=-1;function IN(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new rs(o,ye.empty(),e)}function NN(r){return new rs(r.readTime,r.key,Gl)}class rs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new rs(Ae.min(),ye.empty(),Gl)}static max(){return new rs(Ae.max(),ye.empty(),Gl)}}function DN(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:ke(r.largestBatchId,e.largestBatchId))}const ON="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function go(r){if(r.code!==re.FAILED_PRECONDITION||r.message!==ON)throw r;ue("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function MN(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yo(r){return r.name==="IndexedDbTransactionError"}class kh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}kh.ce=-1;const pp=-1;function Ph(r){return r==null}function _h(r){return r===0&&1/r==-1/0}function VN(r){return typeof r=="number"&&Number.isInteger(r)&&!_h(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const D0="";function LN(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=mE(e)),e=kN(r.get(n),e);return mE(e)}function kN(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case D0:n+="";break;default:n+=u}}return n}function mE(r){return r+D0+""}function pE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Js(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function O0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hc(this.root,e,this.comparator,!0)}}class Hc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Gt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gE(this.data.getIterator())}getIteratorFrom(e){return new gE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class gE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $n{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new $n([])}unionWith(e){let n=new Mt(Yt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new $n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return no(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class x0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new x0("Invalid base64 string: "+u):u}})(e);return new Kt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const PN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(r){if(Ye(!!r,39018),typeof r=="string"){let e=0;const n=PN.exec(r);if(Ye(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function as(r){return typeof r=="string"?Kt.fromBase64String(r):Kt.fromUint8Array(r)}const M0="server_timestamp",V0="__type__",L0="__previous_value__",k0="__local_write_time__";function gp(r){return(r?.mapValue?.fields||{})[V0]?.stringValue===M0}function Uh(r){const e=r.mapValue.fields[L0];return gp(e)?Uh(e):e}function Yl(r){const e=ss(r.mapValue.fields[k0].timestampValue);return new it(e.seconds,e.nanos)}class UN{constructor(e,n,s,o,u,f,m,p,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const vh="(default)";class Kl{constructor(e,n){this.projectId=e,this.database=n||vh}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database===vh}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}const P0="__type__",jN="__max__",qc={mapValue:{}},U0="__vector__",Eh="value";function os(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?gp(r)?4:BN(r)?9007199254740991:zN(r)?10:11:Ee(28295,{value:r})}function Ni(r,e){if(r===e)return!0;const n=os(r);if(n!==os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Yl(r).isEqual(Yl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ss(o.timestampValue),m=ss(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return as(o.bytesValue).isEqual(as(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=yt(o.doubleValue),m=yt(u.doubleValue);return f===m?_h(f)===_h(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return no(r.arrayValue.values||[],e.arrayValue.values||[],Ni);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(pE(f)!==pE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ni(f[p],m[p])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function Ql(r,e){return(r.values||[]).find((n=>Ni(n,e)))!==void 0}function io(r,e){if(r===e)return 0;const n=os(r),s=os(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=yt(u.integerValue||u.doubleValue),p=yt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return yE(r.timestampValue,e.timestampValue);case 4:return yE(Yl(r),Yl(e));case 5:return Mm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=as(u),p=as(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=ke(m[y],p[y]);if(E!==0)return E}return ke(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=ke(yt(u.latitude),yt(f.latitude));return m!==0?m:ke(yt(u.longitude),yt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return _E(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},y=m[Eh]?.arrayValue,E=p[Eh]?.arrayValue,T=ke(y?.values?.length||0,E?.values?.length||0);return T!==0?T:_E(y,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===qc.mapValue&&f===qc.mapValue)return 0;if(u===qc.mapValue)return 1;if(f===qc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const R=Mm(p[T],E[T]);if(R!==0)return R;const M=io(m[p[T]],y[E[T]]);if(M!==0)return M}return ke(p.length,E.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function yE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ke(r,e);const n=ss(r),s=ss(e),o=ke(n.seconds,s.seconds);return o!==0?o:ke(n.nanos,s.nanos)}function _E(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=io(n[o],s[o]);if(u)return u}return ke(n.length,s.length)}function ro(r){return Vm(r)}function Vm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ss(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return as(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ye.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Vm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Vm(n.fields[f])}`;return o+"}"})(r.mapValue):Ee(61005,{value:r})}function ih(r){switch(os(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uh(r);return e?16+ih(e):16;case 5:return 2*r.stringValue.length;case 6:return as(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+ih(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Js(s.fields,((u,f)=>{o+=u.length+ih(f)})),o})(r.mapValue);default:throw Ee(13486,{value:r})}}function Lm(r){return!!r&&"integerValue"in r}function yp(r){return!!r&&"arrayValue"in r}function vE(r){return!!r&&"nullValue"in r}function EE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function rh(r){return!!r&&"mapValue"in r}function zN(r){return(r?.mapValue?.fields||{})[P0]?.stringValue===U0}function Ll(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Js(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Ll(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ll(r.arrayValue.values[n]);return e}return{...r}}function BN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===jN}class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!rh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(n)}setAll(e){let n=Yt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Ll(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());rh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];rh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Js(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Ln(Ll(this.value))}}function j0(r){const e=[];return Js(r.fields,((n,s)=>{const o=new Yt([n]);if(rh(s)){const u=j0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new $n(e)}class Jt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Jt(e,0,Ae.min(),Ae.min(),Ae.min(),Ln.empty(),0)}static newFoundDocument(e,n,s,o){return new Jt(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new Jt(e,2,n,Ae.min(),Ae.min(),Ln.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,Ae.min(),Ae.min(),Ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Th{constructor(e,n){this.position=e,this.inclusive=n}}function TE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=io(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function SE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ni(r.position[n],e.position[n]))return!1;return!0}class Sh{constructor(e,n="asc"){this.field=e,this.dir=n}}function HN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class z0{}class xt extends z0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new FN(e,n,s):n==="array-contains"?new KN(e,s):n==="in"?new QN(e,s):n==="not-in"?new XN(e,s):n==="array-contains-any"?new $N(e,s):new xt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new GN(e,s):new YN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(io(n,this.value)):n!==null&&os(this.value)===os(n)&&this.matchesComparison(io(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends z0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Di(e,n)}matches(e){return B0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function B0(r){return r.op==="and"}function H0(r){return qN(r)&&B0(r)}function qN(r){for(const e of r.filters)if(e instanceof Di)return!1;return!0}function km(r){if(r instanceof xt)return r.field.canonicalString()+r.op.toString()+ro(r.value);if(H0(r))return r.filters.map((e=>km(e))).join(",");{const e=r.filters.map((n=>km(n))).join(",");return`${r.op}(${e})`}}function q0(r,e){return r instanceof xt?(function(s,o){return o instanceof xt&&s.op===o.op&&s.field.isEqual(o.field)&&Ni(s.value,o.value)})(r,e):r instanceof Di?(function(s,o){return o instanceof Di&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&q0(f,o.filters[m])),!0):!1})(r,e):void Ee(19439)}function F0(r){return r instanceof xt?(function(n){return`${n.field.canonicalString()} ${n.op} ${ro(n.value)}`})(r):r instanceof Di?(function(n){return n.op.toString()+" {"+n.getFilters().map(F0).join(" ,")+"}"})(r):"Filter"}class FN extends xt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class GN extends xt{constructor(e,n){super(e,"in",n),this.keys=G0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class YN extends xt{constructor(e,n){super(e,"not-in",n),this.keys=G0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function G0(r,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class KN extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yp(n)&&Ql(n.arrayValue,this.value)}}class QN extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ql(this.value.arrayValue,n)}}class XN extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ql(this.value.arrayValue,n)}}class $N extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Ql(this.value.arrayValue,s)))}}class JN{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function AE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new JN(r,e,n,s,o,u,f)}function _p(r){const e=we(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>km(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Ph(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>ro(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>ro(s))).join(",")),e.Te=n}return e.Te}function vp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!HN(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!q0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!SE(r.startAt,e.startAt)&&SE(r.endAt,e.endAt)}function Pm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class jh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function WN(r,e,n,s,o,u,f,m){return new jh(r,e,n,s,o,u,f,m)}function Ep(r){return new jh(r)}function bE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function ZN(r){return r.collectionGroup!==null}function kl(r){const e=we(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Mt(Yt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Sh(u,s))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new Sh(Yt.keyField(),s))}return e.Ie}function wi(r){const e=we(r);return e.Ee||(e.Ee=e2(e,kl(r))),e.Ee}function e2(r,e){if(r.limitType==="F")return AE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Sh(o.field,u)}));const n=r.endAt?new Th(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Th(r.startAt.position,r.startAt.inclusive):null;return AE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Um(r,e,n){return new jh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function zh(r,e){return vp(wi(r),wi(e))&&r.limitType===e.limitType}function Y0(r){return`${_p(wi(r))}|lt:${r.limitType}`}function Ya(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>F0(o))).join(", ")}]`),Ph(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>ro(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>ro(o))).join(",")),`Target(${s})`})(wi(r))}; limitType=${r.limitType})`}function Bh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of kl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const y=TE(f,m,p);return f.inclusive?y<=0:y<0})(s.startAt,kl(s),o)||s.endAt&&!(function(f,m,p){const y=TE(f,m,p);return f.inclusive?y>=0:y>0})(s.endAt,kl(s),o))})(r,e)}function t2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function K0(r){return(e,n)=>{let s=!1;for(const o of kl(r)){const u=n2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function n2(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?io(p,y):Ee(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}class Ws{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Js(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return O0(this.inner)}size(){return this.innerSize}}const i2=new ut(ye.comparator);function ur(){return i2}const Q0=new ut(ye.comparator);function Dl(...r){let e=Q0;for(const n of r)e=e.insert(n.key,n);return e}function X0(r){let e=Q0;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Fs(){return Pl()}function $0(){return Pl()}function Pl(){return new Ws((r=>r.toString()),((r,e)=>r.isEqual(e)))}const r2=new ut(ye.comparator),s2=new Mt(ye.comparator);function Pe(...r){let e=s2;for(const n of r)e=e.add(n);return e}const a2=new Mt(ke);function o2(){return a2}function Tp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(e)?"-0":e}}function J0(r){return{integerValue:""+r}}function l2(r,e){return VN(e)?J0(e):Tp(r,e)}class Hh{constructor(){this._=void 0}}function u2(r,e,n){return r instanceof Ah?(function(o,u){const f={fields:{[V0]:{stringValue:M0},[k0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&gp(u)&&(u=Uh(u)),u&&(f.fields[L0]=u),{mapValue:f}})(n,e):r instanceof so?Z0(r,e):r instanceof ao?eS(r,e):(function(o,u){const f=W0(o,u),m=wE(f)+wE(o.Ae);return Lm(f)&&Lm(o.Ae)?J0(m):Tp(o.serializer,m)})(r,e)}function c2(r,e,n){return r instanceof so?Z0(r,e):r instanceof ao?eS(r,e):n}function W0(r,e){return r instanceof bh?(function(s){return Lm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Ah extends Hh{}class so extends Hh{constructor(e){super(),this.elements=e}}function Z0(r,e){const n=tS(e);for(const s of r.elements)n.some((o=>Ni(o,s)))||n.push(s);return{arrayValue:{values:n}}}class ao extends Hh{constructor(e){super(),this.elements=e}}function eS(r,e){let n=tS(e);for(const s of r.elements)n=n.filter((o=>!Ni(o,s)));return{arrayValue:{values:n}}}class bh extends Hh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function wE(r){return yt(r.integerValue||r.doubleValue)}function tS(r){return yp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class nS{constructor(e,n){this.field=e,this.transform=n}}function h2(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof so&&o instanceof so||s instanceof ao&&o instanceof ao?no(s.elements,o.elements,Ni):s instanceof bh&&o instanceof bh?Ni(s.Ae,o.Ae):s instanceof Ah&&o instanceof Ah})(r.transform,e.transform)}class f2{constructor(e,n){this.version=e,this.transformResults=n}}class ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class qh{}function iS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new sS(r.key,ir.none()):new au(r.key,r.data,ir.none());{const n=r.data,s=Ln.empty();let o=new Mt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Zs(r.key,s,new $n(o.toArray()),ir.none())}}function d2(r,e,n){r instanceof au?(function(o,u,f){const m=o.value.clone(),p=CE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Zs?(function(o,u,f){if(!sh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=CE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(rS(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Ul(r,e,n,s){return r instanceof au?(function(u,f,m,p){if(!sh(u.precondition,f))return m;const y=u.value.clone(),E=IE(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof Zs?(function(u,f,m,p){if(!sh(u.precondition,f))return m;const y=IE(u.fieldTransforms,p,f),E=f.data;return E.setAll(rS(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,f,m){return sh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function m2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=W0(s.transform,o||null);u!=null&&(n===null&&(n=Ln.empty()),n.set(s.field,u))}return n||null}function RE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&no(s,o,((u,f)=>h2(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class au extends qh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Zs extends qh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function rS(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function CE(r,e,n){const s=new Map;Ye(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,c2(f,m,n[o]))}return s}function IE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,u2(u,f,e))}return s}class sS extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class p2 extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class g2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&d2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ul(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ul(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=$0();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=iS(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&no(this.mutations,e.mutations,((n,s)=>RE(n,s)))&&no(this.baseMutations,e.baseMutations,((n,s)=>RE(n,s)))}}class Sp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ye(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return r2})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Sp(e,n,s,o)}}class y2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class _2{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ct,ze;function v2(r){switch(r){case re.OK:return Ee(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function aS(r){if(r===void 0)return lr("GRPC error has no .code"),re.UNKNOWN;switch(r){case Ct.OK:return re.OK;case Ct.CANCELLED:return re.CANCELLED;case Ct.UNKNOWN:return re.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return re.INTERNAL;case Ct.UNAVAILABLE:return re.UNAVAILABLE;case Ct.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Ct.NOT_FOUND:return re.NOT_FOUND;case Ct.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Ct.ABORTED:return re.ABORTED;case Ct.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Ct.DATA_LOSS:return re.DATA_LOSS;default:return Ee(39323,{code:r})}}(ze=Ct||(Ct={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function E2(){return new TextEncoder}const T2=new ns([4294967295,4294967295],0);function NE(r){const e=E2().encode(r),n=new T0;return n.update(e),new Uint8Array(n.digest())}function DE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ns([n,s],0),new ns([o,u],0)]}class Ap{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ol(`Invalid padding: ${n}`);if(s<0)throw new Ol(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ns.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ns.fromNumber(s)));return o.compare(T2)===1&&(o=new ns([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=NE(e),[s,o]=DE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Ap(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=NE(e),[s,o]=DE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Fh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Fh(Ae.min(),o,new ut(ke),ur(),Pe())}}class ou{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ou(s,n,Pe(),Pe(),Pe())}}class ah{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class oS{constructor(e,n){this.targetId=e,this.Ce=n}}class lS{constructor(e,n,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class OE{constructor(){this.ve=0,this.Fe=xE(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new ou(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=xE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class S2{constructor(e){this.Ge=e,this.ze=new Map,this.je=ur(),this.Je=Fc(),this.He=Fc(),this.Ye=new ut(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Pm(u))if(s===0){const f=new ye(u.path);this.et(n,f,Jt.newNoDocument(f,Ae.min()))}else Ye(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=as(s).toUint8Array()}catch(p){if(p instanceof x0)return to("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Ap(f,o,u)}catch(p){return to(p instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Pm(m.target)){const p=new ye(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Jt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Pe();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Fh(e,n,this.Ye,this.je,s);return this.je=ur(),this.Je=Fc(),this.He=Fc(),this.Ye=new ut(ke),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new OE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Mt(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Mt(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new OE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Fc(){return new ut(ye.comparator)}function xE(){return new ut(ye.comparator)}const A2={asc:"ASCENDING",desc:"DESCENDING"},b2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},w2={and:"AND",or:"OR"};class R2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jm(r,e){return r.useProto3Json||Ph(e)?e:{value:e}}function wh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function C2(r,e){return wh(r,e.toTimestamp())}function Ri(r){return Ye(!!r,49232),Ae.fromTimestamp((function(n){const s=ss(n);return new it(s.seconds,s.nanos)})(r))}function bp(r,e){return zm(r,e).canonicalString()}function zm(r,e){const n=(function(o){return new ot(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function cS(r){const e=ot.fromString(r);return Ye(pS(e),10190,{key:e.toString()}),e}function Bm(r,e){return bp(r.databaseId,e.path)}function dm(r,e){const n=cS(e);if(n.get(1)!==r.databaseId.projectId)throw new de(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new de(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(fS(n))}function hS(r,e){return bp(r.databaseId,e)}function I2(r){const e=cS(r);return e.length===4?ot.emptyPath():fS(e)}function Hm(r){return new ot(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function fS(r){return Ye(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function ME(r,e,n){return{name:Bm(r,e),fields:n.value.mapValue.fields}}function N2(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Ye(E===void 0||typeof E=="string",58123),Kt.fromBase64String(E||"")):(Ye(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Kt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?re.UNKNOWN:aS(y.code);return new de(E,y.message||"")})(f);n=new lS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=dm(r,s.document.name),u=Ri(s.document.updateTime),f=s.document.createTime?Ri(s.document.createTime):Ae.min(),m=new Ln({mapValue:{fields:s.document.fields}}),p=Jt.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new ah(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=dm(r,s.document),u=s.readTime?Ri(s.readTime):Ae.min(),f=Jt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ah([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=dm(r,s.document),u=s.removedTargetIds||[];n=new ah([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new _2(o,u),m=s.targetId;n=new oS(m,f)}}return n}function D2(r,e){let n;if(e instanceof au)n={update:ME(r,e.key,e.value)};else if(e instanceof sS)n={delete:Bm(r,e.key)};else if(e instanceof Zs)n={update:ME(r,e.key,e.data),updateMask:j2(e.fieldMask)};else{if(!(e instanceof p2))return Ee(16599,{Vt:e.type});n={verify:Bm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Ah)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof so)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ao)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof bh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:C2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(r,e.precondition)),n}function O2(r,e){return r&&r.length>0?(Ye(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Ri(o.updateTime):Ri(u);return f.isEqual(Ae.min())&&(f=Ri(u)),new f2(f,o.transformResults||[])})(n,e)))):[]}function x2(r,e){return{documents:[hS(r,e.path)]}}function M2(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=hS(r,o);const u=(function(y){if(y.length!==0)return mS(Di.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(R){return{field:Ka(R.field),direction:k2(R.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=jm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function V2(r){let e=I2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ye(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const R=dS(T);return R instanceof Di&&H0(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((R=>(function(j){return new Sh(Qa(j.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let R;return R=typeof T=="object"?T.value:T,Ph(R)?null:R})(n.limit));let p=null;n.startAt&&(p=(function(T){const R=!!T.before,M=T.values||[];return new Th(M,R)})(n.startAt));let y=null;return n.endAt&&(y=(function(T){const R=!T.before,M=T.values||[];return new Th(M,R)})(n.endAt)),WN(e,o,f,u,m,"F",p,y)}function L2(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Qa(n.unaryFilter.field);return xt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Qa(n.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Qa(n.unaryFilter.field);return xt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Qa(n.unaryFilter.field);return xt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(n){return xt.create(Qa(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Di.create(n.compositeFilter.filters.map((s=>dS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(r):Ee(30097,{filter:r})}function k2(r){return A2[r]}function P2(r){return b2[r]}function U2(r){return w2[r]}function Ka(r){return{fieldPath:r.canonicalString()}}function Qa(r){return Yt.fromServerFormat(r.fieldPath)}function mS(r){return r instanceof xt?(function(n){if(n.op==="=="){if(EE(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NAN"}};if(vE(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(EE(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NOT_NAN"}};if(vE(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(n.field),op:P2(n.op),value:n.value}}})(r):r instanceof Di?(function(n){const s=n.getFilters().map((o=>mS(o)));return s.length===1?s[0]:{compositeFilter:{op:U2(n.op),filters:s}}})(r):Ee(54877,{filter:r})}function j2(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function pS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Wr{constructor(e,n,s,o,u=Ae.min(),f=Ae.min(),m=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Wr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class z2{constructor(e){this.yt=e}}function B2(r){const e=V2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Um(e,e.limit,"L"):e}class H2{constructor(){this.Cn=new q2}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(rs.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class q2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Mt(ot.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Mt(ot.comparator)).toArray()}}const VE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gS=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(gS,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class oo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new oo(0)}static cr(){return new oo(-1)}}const LE="LruGarbageCollector",F2=1048576;function kE([r,e],[n,s]){const o=ke(r,n);return o===0?ke(e,s):o}class G2{constructor(e){this.Ir=e,this.buffer=new Mt(kE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();kE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Y2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(LE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yo(n)?ue(LE,"Ignoring IndexedDB error during garbage collection: ",n):await go(n)}await this.Vr(3e5)}))}}class K2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(kh.ce);const s=new G2(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(VE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(y=Date.now(),Ga()<=Le.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function Q2(r,e){return new K2(r,e)}class X2{constructor(){this.changes=new Ws((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class J2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Ul(s.mutation,o,$n.empty(),it.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Pe()){const o=Fs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Dl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Fs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Pe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=ur();const f=Pl(),m=(function(){return Pl()})();return n.forEach(((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Zs)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Ul(E.mutation,y,E.mutation.getFieldMask(),it.now())):f.set(y.key,$n.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new $2(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Pl();let o=new ut(((f,m)=>f-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||$n.empty();E=m.applyToLocalView(y,E),s.set(p,E);const T=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,T=$0();E.forEach((R=>{if(!u.has(R)){const M=iS(n.get(R),s.get(R));M!==null&&T.set(R,M),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,T))}return ne.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ZN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(Fs());let m=Gl,p=u;return f.next((y=>ne.forEach(y,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next((R=>{p=p.insert(E,R)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,Pe()))).next((E=>({batchId:m,changes:X0(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let o=Dl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Dl();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(p=>{const y=(function(T,R){return new jh(R,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((T,R)=>{f=f.insert(T,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Jt.newInvalidDocument(E)))}));let m=Dl();return f.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&Ul(E.mutation,y,$n.empty(),it.now()),Bh(n,y)&&(m=m.insert(p,y))})),m}))}}class W2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ri(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:B2(o.bundledQuery),readTime:Ri(o.readTime)}})(n)),ne.resolve()}}class Z2{constructor(){this.overlays=new ut(ye.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Fs();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=Fs(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Fs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Fs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new y2(n,s));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class eD{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class wp{constructor(){this.Qr=new Mt(Pt.$r),this.Ur=new Mt(Pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Pt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Pt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new ot([])),s=new Pt(n,e),o=new Pt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new ot([])),s=new Pt(n,e),o=new Pt(n,e+1);let u=Pe();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Pt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Pt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class tD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(Pt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new g2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Pt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?pp:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Pt(n,0),o=new Pt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Mt(ke);return n.forEach((o=>{const u=new Pt(o,0),f=new Pt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new Pt(new ye(u),0);let m=new Mt(ke);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)}),f),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new Pt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Pt(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class nD{constructor(e){this.ri=e,this.docs=(function(){return new ut(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let s=ur();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Jt.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ur();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||DN(NN(E),s)<=0||(o.has(E.key)||Bh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new iD(this)}getSize(e){return ne.resolve(this.size)}}class iD extends X2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class rD{constructor(e){this.persistence=e,this.si=new Ws((n=>_p(n)),vp),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new wp,this.targetCount=0,this.ai=oo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new oo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}class yS{constructor(e,n){this.ui={},this.overlays={},this.ci=new kh(0),this.li=!1,this.li=!0,this.hi=new eD,this.referenceDelegate=e(this),this.Pi=new rD(this),this.indexManager=new H2,this.remoteDocumentCache=(function(o){return new nD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new z2(n),this.Ii=new W2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Z2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new tD(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new sD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class sD extends xN{constructor(e){super(),this.currentSequenceNumber=e}}class Rp{constructor(e){this.persistence=e,this.Ri=new wp,this.Vi=null}static mi(e){return new Rp(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=ye.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Rh{constructor(e,n){this.persistence=e,this.pi=new Ws((s=>LN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=Q2(this,n)}static mi(e,n){return new Rh(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Ae.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ih(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Cp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Cp(e,n.fromCache,s,o)}}class aD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class oD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return M1()?8:MN(Wt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new aD;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Ga()<=Le.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Ya(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Ga()<=Le.DEBUG&&ue("QueryEngine","Query:",Ya(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ga()<=Le.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Ya(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wi(n))):ne.resolve())}ys(e,n){if(bE(n))return ne.resolve(null);let s=wi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Um(n,null,"F"),s=wi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Pe(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.Ds(n,m);return this.Cs(n,y,f,p.readTime)?this.ys(e,Um(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,s,o){return bE(n)||o.isEqual(Ae.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ne.resolve(null):(Ga()<=Le.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ya(n)),this.vs(e,f,n,IN(o,Gl)).next((m=>m)))}))}Ds(e,n){let s=new Mt(K0(e));return n.forEach(((o,u)=>{Bh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Ga()<=Le.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Ya(n)),this.ps.getDocumentsMatchingQuery(e,n,rs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Ip="LocalStore",lD=3e8;class uD{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ut(ke),this.xs=new Ws((u=>_p(u)),vp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new J2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function cD(r,e,n,s){return new uD(r,e,n,s)}async function _S(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Pe();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function hD(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const T=y.batch,R=T.keys();let M=ne.resolve();return R.forEach((j=>{M=M.next((()=>E.getEntry(p,j))).next((Q=>{const q=y.docVersions.get(j);Ye(q!==null,48541),Q.version.compareTo(q)<0&&(T.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),E.addEntry(Q)))}))})),M.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Pe();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function vS(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function fD(r,e){const n=we(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const R=o.get(T);if(!R)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let M=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?M=M.withResumeToken(Kt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),o=o.insert(T,M),(function(Q,q,Y){return Q.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=lD?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(R,M,E)&&m.push(n.Pi.updateTargetData(u,M))}));let p=ur(),y=Pe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(dD(u,f,e.documentUpdates).next((E=>{p=E.ks,y=E.qs}))),!s.isEqual(Ae.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ne.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function dD(r,e,n){let s=Pe(),o=Pe();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=ur();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ue(Ip,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function mD(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=pp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function pD(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Wr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function qm(r,e,n){const s=we(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!yo(f))throw f;ue(Ip,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function PE(r,e,n){const s=we(r);let o=Ae.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const T=we(p),R=T.xs.get(E);return R!==void 0?ne.resolve(T.Ms.get(R)):T.Pi.getTargetData(y,E)})(s,f,wi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Ae.min(),n?u:Pe()))).next((m=>(gD(s,t2(e),m),{documents:m,Qs:u})))))}function gD(r,e,n){let s=r.Os.get(e)||Ae.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class UE{constructor(){this.activeTargetIds=o2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yD{constructor(){this.Mo=new UE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new UE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _D{Oo(e){}shutdown(){}}const jE="ConnectivityMonitor";class zE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(jE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(jE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Gc=null;function Fm(){return Gc===null?Gc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gc++,"0x"+Gc.toString(16)}const mm="RestConnection",vD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ED{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===vh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Fm(),m=this.zo(e,n.toUriEncodedString());ue(mm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(m),E=ho(y);return this.Jo(e,m,p,s,E).then((T=>(ue(mm,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw to(mm,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+po})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=vD[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class TD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xt="WebChannelConnection";class SD extends ED{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Fm();return new Promise(((m,p)=>{const y=new S0;y.setWithCredentials(!0),y.listenOnce(A0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case nh.NO_ERROR:const T=y.getResponseJson();ue(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case nh.TIMEOUT:ue(Xt,`RPC '${e}' ${f} timed out`),p(new de(re.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const R=y.getStatus();if(ue(Xt,`RPC '${e}' ${f} failed with status:`,R,"response text:",y.getResponseText()),R>0){let M=y.getResponseJson();Array.isArray(M)&&(M=M[0]);const j=M?.error;if(j&&j.status&&j.message){const Q=(function(Y){const te=Y.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(te)>=0?te:re.UNKNOWN})(j.status);p(new de(Q,j.message))}else p(new de(re.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new de(re.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ue(Xt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ue(Xt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Fm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=R0(),m=w0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ue(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=f.createWebChannel(E,p);this.I_(T);let R=!1,M=!1;const j=new TD({Yo:q=>{M?ue(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(R||(ue(Xt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),R=!0),ue(Xt,`RPC '${e}' stream ${o} sending:`,q),T.send(q))},Zo:()=>T.close()}),Q=(q,Y,te)=>{q.listen(Y,(ie=>{try{te(ie)}catch(he){setTimeout((()=>{throw he}),0)}}))};return Q(T,Nl.EventType.OPEN,(()=>{M||(ue(Xt,`RPC '${e}' stream ${o} transport opened.`),j.o_())})),Q(T,Nl.EventType.CLOSE,(()=>{M||(M=!0,ue(Xt,`RPC '${e}' stream ${o} transport closed`),j.a_(),this.E_(T))})),Q(T,Nl.EventType.ERROR,(q=>{M||(M=!0,to(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),j.a_(new de(re.UNAVAILABLE,"The operation could not be completed")))})),Q(T,Nl.EventType.MESSAGE,(q=>{if(!M){const Y=q.data[0];Ye(!!Y,16349);const te=Y,ie=te?.error||te[0]?.error;if(ie){ue(Xt,`RPC '${e}' stream ${o} received error:`,ie);const he=ie.status;let me=(function(w){const I=Ct[w];if(I!==void 0)return aS(I)})(he),Te=ie.message;me===void 0&&(me=re.INTERNAL,Te="Unknown error status: "+he+" with message "+ie.message),M=!0,j.a_(new de(me,Te)),T.close()}else ue(Xt,`RPC '${e}' stream ${o} received:`,Y),j.u_(Y)}})),Q(m,b0.STAT_EVENT,(q=>{q.stat===xm.PROXY?ue(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===xm.NOPROXY&&ue(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function pm(){return typeof document<"u"?document:null}function Gh(r){return new R2(r,!0)}class ES{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const BE="PersistentStream";class TS{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ES(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(lr(n.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new de(re.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(BE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(BE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class AD extends TS{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=N2(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?Ri(f.readTime):Ae.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Hm(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Pm(p)?{documents:x2(u,p)}:{query:M2(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=uS(u,f.resumeToken);const y=jm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Ae.min())>0){m.readTime=wh(u,f.snapshotVersion.toTimestamp());const y=jm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=L2(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Hm(this.serializer),n.removeTarget=e,this.q_(n)}}class bD extends TS{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=O2(e.writeResults,e.commitTime),s=Ri(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Hm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>D2(this.serializer,s)))};this.q_(n)}}class wD{}class RD extends wD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new de(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,zm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(re.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,zm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new de(re.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class CD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(lr(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const $s="RemoteStore";class ID{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ea(this)&&(ue($s,"Restarting streams for network reachability change."),await(async function(p){const y=we(p);y.Ea.add(4),await lu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Yh(y)})(this))}))})),this.Ra=new CD(s,o)}}async function Yh(r){if(ea(r))for(const e of r.da)await e(!0)}async function lu(r){for(const e of r.da)await e(!1)}function SS(r,e){const n=we(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),xp(n)?Op(n):_o(n).O_()&&Dp(n,e))}function Np(r,e){const n=we(r),s=_o(n);n.Ia.delete(e),s.O_()&&AS(n,e),n.Ia.size===0&&(s.O_()?s.L_():ea(n)&&n.Ra.set("Unknown"))}function Dp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_o(r).Y_(e)}function AS(r,e){r.Va.Ue(e),_o(r).Z_(e)}function Op(r){r.Va=new S2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),_o(r).start(),r.Ra.ua()}function xp(r){return ea(r)&&!_o(r).x_()&&r.Ia.size>0}function ea(r){return we(r).Ea.size===0}function bS(r){r.Va=void 0}async function ND(r){r.Ra.set("Online")}async function DD(r){r.Ia.forEach(((e,n)=>{Dp(r,e)}))}async function OD(r,e){bS(r),xp(r)?(r.Ra.ha(e),Op(r)):r.Ra.set("Unknown")}async function xD(r,e,n){if(r.Ra.set("Online"),e instanceof lS&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){ue($s,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ch(r,s)}else if(e instanceof ah?r.Va.Ze(e):e instanceof oS?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await vS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Kt.EMPTY_BYTE_STRING,E.snapshotVersion)),AS(u,p);const T=new Wr(E.target,p,y,E.sequenceNumber);Dp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ue($s,"Failed to raise snapshot:",s),await Ch(r,s)}}async function Ch(r,e,n){if(!yo(e))throw e;r.Ea.add(1),await lu(r),r.Ra.set("Offline"),n||(n=()=>vS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ue($s,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Yh(r)}))}function wS(r,e){return e().catch((n=>Ch(r,n,e)))}async function Kh(r){const e=we(r),n=ls(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:pp;for(;MD(e);)try{const o=await mD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,VD(e,o)}catch(o){await Ch(e,o)}RS(e)&&CS(e)}function MD(r){return ea(r)&&r.Ta.length<10}function VD(r,e){r.Ta.push(e);const n=ls(r);n.O_()&&n.X_&&n.ea(e.mutations)}function RS(r){return ea(r)&&!ls(r).x_()&&r.Ta.length>0}function CS(r){ls(r).start()}async function LD(r){ls(r).ra()}async function kD(r){const e=ls(r);for(const n of r.Ta)e.ea(n.mutations)}async function PD(r,e,n){const s=r.Ta.shift(),o=Sp.from(s,e,n);await wS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Kh(r)}async function UD(r,e){e&&ls(r).X_&&await(async function(s,o){if((function(f){return v2(f)&&f!==re.ABORTED})(o.code)){const u=s.Ta.shift();ls(s).B_(),await wS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Kh(s)}})(r,e),RS(r)&&CS(r)}async function HE(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),ue($s,"RemoteStore received new credentials");const s=ea(n);n.Ea.add(3),await lu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Yh(n)}async function jD(r,e){const n=we(r);e?(n.Ea.delete(2),await Yh(n)):e||(n.Ea.add(2),await lu(n),n.Ra.set("Unknown"))}function _o(r){return r.ma||(r.ma=(function(n,s,o){const u=we(n);return u.sa(),new AD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:ND.bind(null,r),t_:DD.bind(null,r),r_:OD.bind(null,r),H_:xD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),xp(r)?Op(r):r.Ra.set("Unknown")):(await r.ma.stop(),bS(r))}))),r.ma}function ls(r){return r.fa||(r.fa=(function(n,s,o){const u=we(n);return u.sa(),new bD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:LD.bind(null,r),r_:UD.bind(null,r),ta:kD.bind(null,r),na:PD.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Kh(r)):(await r.fa.stop(),r.Ta.length>0&&(ue($s,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Mp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Mp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vp(r,e){if(lr("AsyncQueue",`${e}: ${r}`),yo(r))return new de(re.UNAVAILABLE,`${e}: ${r}`);throw r}class Za{static emptySet(e){return new Za(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Dl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Za)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Za;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class qE{constructor(){this.ga=new ut(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class lo{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new lo(e,n,Za.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class zD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class BD{constructor(){this.queries=FE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=FE(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new de(re.ABORTED,"Firestore shutting down"))}}function FE(){return new Ws((r=>Y0(r)),zh)}async function HD(r,e){const n=we(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new zD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Vp(f,`Initialization of query '${Ya(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Lp(n)}async function qD(r,e){const n=we(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function FD(r,e){const n=we(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Lp(n)}function GD(r,e,n){const s=we(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Lp(r){r.Ca.forEach((e=>{e.next()}))}var Gm,GE;(GE=Gm||(Gm={})).Ma="default",GE.Cache="cache";class YD{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new lo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Gm.Cache}}class IS{constructor(e){this.key=e}}class NS{constructor(e){this.key=e}}class KD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=K0(e),this.tu=new Za(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new qE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const R=o.get(E),M=Bh(this.query,T)?T:null,j=!!R&&this.mutatedKeys.has(R.key),Q=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let q=!1;R&&M?R.data.isEqual(M.data)?j!==Q&&(s.track({type:3,doc:M}),q=!0):this.su(R,M)||(s.track({type:2,doc:M}),q=!0,(p&&this.eu(M,p)>0||y&&this.eu(M,y)<0)&&(m=!0)):!R&&M?(s.track({type:0,doc:M}),q=!0):R&&!M&&(s.track({type:1,doc:R}),q=!0,(p||y)&&(m=!0)),q&&(M?(f=f.add(M),u=Q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,T)=>(function(M,j){const Q=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:q})}};return Q(M)-Q(j)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new lo(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new NS(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new IS(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const kp="SyncEngine";class QD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class XD{constructor(e){this.key=e,this.hu=!1}}class $D{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ws((m=>Y0(m)),zh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(ye.comparator),this.Au=new Map,this.Ru=new wp,this.Vu={},this.mu=new Map,this.fu=oo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JD(r,e,n=!0){const s=LS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await DS(s,e,n,!0),o}async function WD(r,e){const n=LS(r);await DS(n,e,!0,!1)}async function DS(r,e,n,s){const o=await pD(r.localStore,wi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await ZD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&SS(r.remoteStore,o),m}async function ZD(r,e,n,s,o){r.pu=(T,R,M)=>(async function(Q,q,Y,te){let ie=q.view.ru(Y);ie.Cs&&(ie=await PE(Q.localStore,q.query,!1).then((({documents:N})=>q.view.ru(N,ie))));const he=te&&te.targetChanges.get(q.targetId),me=te&&te.targetMismatches.get(q.targetId)!=null,Te=q.view.applyChanges(ie,Q.isPrimaryClient,he,me);return KE(Q,q.targetId,Te.au),Te.snapshot})(r,T,R,M);const u=await PE(r.localStore,e,!0),f=new KD(e,u.Qs),m=f.ru(u.documents),p=ou.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);KE(r,n,y.au);const E=new QD(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function eO(r,e,n){const s=we(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!zh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await qm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Np(s.remoteStore,o.targetId),Ym(s,o.targetId)})).catch(go)):(Ym(s,o.targetId),await qm(s.localStore,o.targetId,!0))}async function tO(r,e){const n=we(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Np(n.remoteStore,s.targetId))}async function nO(r,e,n){const s=uO(r);try{const o=await(function(f,m){const p=we(f),y=it.now(),E=m.reduce(((M,j)=>M.add(j.key)),Pe());let T,R;return p.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let j=ur(),Q=Pe();return p.Ns.getEntries(M,E).next((q=>{j=q,j.forEach(((Y,te)=>{te.isValidDocument()||(Q=Q.add(Y))}))})).next((()=>p.localDocuments.getOverlayedDocuments(M,j))).next((q=>{T=q;const Y=[];for(const te of m){const ie=m2(te,T.get(te.key).overlayedDocument);ie!=null&&Y.push(new Zs(te.key,ie,j0(ie.value.mapValue),ir.exists(!0)))}return p.mutationQueue.addMutationBatch(M,y,Y,m)})).next((q=>{R=q;const Y=q.applyToLocalDocumentSet(T,Q);return p.documentOverlayCache.saveOverlays(M,q.batchId,Y)}))})).then((()=>({batchId:R.batchId,changes:X0(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new ut(ke)),y=y.insert(m,p),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await uu(s,o.changes),await Kh(s.remoteStore)}catch(o){const u=Vp(o,"Failed to persist write");n.reject(u)}}async function OS(r,e){const n=we(r);try{const s=await fD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ye(f.hu,14607):o.removedDocuments.size>0&&(Ye(f.hu,42227),f.hu=!1))})),await uu(n,s,e)}catch(s){await go(s)}}function YE(r,e,n){const s=we(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=we(f);p.onlineState=m;let y=!1;p.queries.forEach(((E,T)=>{for(const R of T.Sa)R.va(m)&&(y=!0)})),y&&Lp(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function iO(r,e,n){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ut(ye.comparator);f=f.insert(u,Jt.newNoDocument(u,Ae.min()));const m=Pe().add(u),p=new Fh(Ae.min(),new Map,new ut(ke),f,m);await OS(s,p),s.du=s.du.remove(u),s.Au.delete(e),Pp(s)}else await qm(s.localStore,e,!1).then((()=>Ym(s,e,n))).catch(go)}async function rO(r,e){const n=we(r),s=e.batch.batchId;try{const o=await hD(n.localStore,e);MS(n,s,null),xS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await uu(n,o)}catch(o){await go(o)}}async function sO(r,e,n){const s=we(r);try{const o=await(function(f,m){const p=we(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((T=>(Ye(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(y,T)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);MS(s,e,n),xS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await uu(s,o)}catch(o){await go(o)}}function xS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function MS(r,e,n){const s=we(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Ym(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||VS(r,s)}))}function VS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Np(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Pp(r))}function KE(r,e,n){for(const s of n)s instanceof IS?(r.Ru.addReference(s.key,e),aO(r,s)):s instanceof NS?(ue(kp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||VS(r,s.key)):Ee(19791,{wu:s})}function aO(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ue(kp,"New document in limbo: "+n),r.Eu.add(s),Pp(r))}function Pp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ye(ot.fromString(e)),s=r.fu.next();r.Au.set(s,new XD(n)),r.du=r.du.insert(n,s),SS(r.remoteStore,new Wr(wi(Ep(n.path)),s,"TargetPurposeLimboResolution",kh.ce))}}async function uu(r,e,n){const s=we(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Cp.As(p.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,y){const E=we(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ne.forEach(y,(R=>ne.forEach(R.Es,(M=>E.persistence.referenceDelegate.addReference(T,R.targetId,M))).next((()=>ne.forEach(R.ds,(M=>E.persistence.referenceDelegate.removeReference(T,R.targetId,M)))))))))}catch(T){if(!yo(T))throw T;ue(Ip,"Failed to update sequence numbers: "+T)}for(const T of y){const R=T.targetId;if(!T.fromCache){const M=E.Ms.get(R),j=M.snapshotVersion,Q=M.withLastLimboFreeSnapshotVersion(j);E.Ms=E.Ms.insert(R,Q)}}})(s.localStore,u))}async function oO(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){ue(kp,"User change. New user:",e.toKey());const s=await _S(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new de(re.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await uu(n,s.Ls)}}function lO(r,e){const n=we(r),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function LS(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=OS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iO.bind(null,e),e.Pu.H_=FD.bind(null,e.eventManager),e.Pu.yu=GD.bind(null,e.eventManager),e}function uO(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sO.bind(null,e),e}class Ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return cD(this.persistence,new oD,e.initialUser,this.serializer)}Cu(e){return new yS(Rp.mi,this.serializer)}Du(e){return new yD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ih.provider={build:()=>new Ih};class cO extends Ih{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof Rh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Y2(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new yS((s=>Rh.mi(s,n)),this.serializer)}}class Km{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>YE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=oO.bind(null,this.syncEngine),await jD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new BD})()}createDatastore(e){const n=Gh(e.databaseInfo.databaseId),s=(function(u){return new SD(u)})(e.databaseInfo);return(function(u,f,m,p){return new RD(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new ID(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>YE(this.syncEngine,n,0)),(function(){return zE.v()?new zE:new _D})())}createSyncEngine(e,n){return(function(o,u,f,m,p,y,E){const T=new $D(o,u,f,m,p,y);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=we(n);ue($s,"RemoteStore shutting down."),s.Ea.add(5),await lu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Km.provider={build:()=>new Km};class hO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const us="FirestoreClient";class fO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=dp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ue(us,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ue(us,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Vp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function gm(r,e){r.asyncQueue.verifyOperationInProgress(),ue(us,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await _S(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function QE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await dO(r);ue(us,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>HE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>HE(e.remoteStore,o))),r._onlineComponents=e}async function dO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(us,"Using user provided OfflineComponentProvider");try{await gm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;to("Error using user provided cache. Falling back to memory cache: "+n),await gm(r,new Ih)}}else ue(us,"Using default OfflineComponentProvider"),await gm(r,new cO(void 0));return r._offlineComponents}async function kS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(us,"Using user provided OnlineComponentProvider"),await QE(r,r._uninitializedComponentsProvider._online)):(ue(us,"Using default OnlineComponentProvider"),await QE(r,new Km))),r._onlineComponents}function mO(r){return kS(r).then((e=>e.syncEngine))}async function pO(r){const e=await kS(r),n=e.eventManager;return n.onListen=JD.bind(null,e.syncEngine),n.onUnlisten=eO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=WD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=tO.bind(null,e.syncEngine),n}function gO(r,e,n={}){const s=new is;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new hO({next:R=>{E.Nu(),f.enqueueAndForget((()=>qD(u,T)));const M=R.docs.has(m);!M&&R.fromCache?y.reject(new de(re.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&R.fromCache&&p&&p.source==="server"?y.reject(new de(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),T=new YD(Ep(m.path),E,{includeMetadataChanges:!0,qa:!0});return HD(u,T)})(await pO(r),r.asyncQueue,e,n,s))),s.promise}function PS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const XE=new Map;const US="firestore.googleapis.com",$E=!0;class JE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=US,this.ssl=$E}else this.host=e.host,this.ssl=e.ssl??$E;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<F2)throw new de(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Up{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new gN;switch(s.type){case"firstParty":return new EN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=XE.get(n);s&&(ue("ComponentProvider","Removing Datastore"),XE.delete(n),s.terminate())})(this),Promise.resolve()}}function yO(r,e,n,s={}){r=Fl(r,Up);const o=ho(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(xT(`https://${m}`),MT("Firestore",!0)),u.host!==US&&u.host!==m&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!sr(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=$t.MOCK_USER;else{y=b1(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new de(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $t(T)}r._authCredentials=new yN(new I0(y,E))}}class jp{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new jp(this.firestore,e,this._query)}}class Ut{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(su(n,Ut._jsonSchema))return new Ut(e,s||null,new ye(ot.fromString(n.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:It("string",Ut._jsonSchemaVersion),referencePath:It("string")};class Xl extends jp{constructor(e,n,s){super(e,n,Ep(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new ye(e))}withConverter(e){return new Xl(this.firestore,e,this._path)}}function ym(r,e,...n){if(r=En(r),arguments.length===1&&(e=dp.newId()),RN("doc","path",e),r instanceof Up){const s=ot.fromString(e,...n);return hE(s),new Ut(r,null,new ye(s))}{if(!(r instanceof Ut||r instanceof Xl))throw new de(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ot.fromString(e,...n));return hE(s),new Ut(r.firestore,r instanceof Xl?r.converter:null,new ye(s))}}const WE="AsyncQueue";class ZE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ES(this,"async_queue_retry"),this._c=()=>{const s=pm();s&&ue(WE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=pm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=pm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new is;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yo(e))throw e;ue(WE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,lr("INTERNAL UNHANDLED ERROR: ",eT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Mp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:eT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function eT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class zp extends Up{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new ZE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ZE(e),this._firestoreClient=void 0,await e}}}function _O(r,e){const n=typeof r=="object"?r:PT(),s=typeof r=="string"?r:vh,o=ip(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=S1("firestore");u&&yO(o,...u)}return o}function jS(r){if(r._terminated)throw new de(re.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||vO(r),r._firestoreClient}function vO(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new UN(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,PS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new fO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kn(Kt.fromBase64String(e))}catch(n){throw new de(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new kn(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(su(e,kn._jsonSchema))return kn.fromBase64String(e.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:It("string",kn._jsonSchemaVersion),bytes:It("string")};class Bp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qh{constructor(e){this._methodName=e}}class Ci{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(e){if(su(e,Ci._jsonSchema))return new Ci(e.latitude,e.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:It("string",Ci._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};class Ii{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(su(e,Ii._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ii(e.vectorValues);throw new de(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ii._jsonSchemaVersion="firestore/vectorValue/1.0",Ii._jsonSchema={type:It("string",Ii._jsonSchemaVersion),vectorValues:It("object")};const EO=/^__.*__$/;class TO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Zs(e,this.data,this.fieldMask,n,this.fieldTransforms):new au(e,this.data,n,this.fieldTransforms)}}function zS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:r})}}class Xh{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Nh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(zS(this.Ac)&&EO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class SO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Gh(e)}Cc(e,n,s,o=!1){return new Xh({Ac:e,methodName:n,Dc:s,path:Yt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function AO(r){const e=r._freezeSettings(),n=Gh(r._databaseId);return new SO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function bO(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);FS("Data must be an object, but it was:",f,s);const m=HS(s,f);let p,y;if(u.merge)p=new $n(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const R=wO(e,T,n);if(!f.contains(R))throw new de(re.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);CO(E,R)||E.push(R)}p=new $n(E),y=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,y=f.fieldTransforms;return new TO(new Ln(m),p,y)}function BS(r,e,n){return new Xh({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Hp extends Qh{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=BS(this,e,!0),s=this.vc.map((u=>$h(u,n))),o=new so(s);return new nS(e.path,o)}isEqual(e){return e instanceof Hp&&sr(this.vc,e.vc)}}class qp extends Qh{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=BS(this,e,!0),s=this.vc.map((u=>$h(u,n))),o=new ao(s);return new nS(e.path,o)}isEqual(e){return e instanceof qp&&sr(this.vc,e.vc)}}function $h(r,e){if(qS(r=En(r)))return FS("Unsupported field value:",e,r),HS(r,e);if(r instanceof Qh)return(function(s,o){if(!zS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=$h(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=En(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return l2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:wh(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:wh(o.serializer,u)}}if(s instanceof Ci)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof kn)return{bytesValue:uS(o.serializer,s._byteString)};if(s instanceof Ut){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:bp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ii)return(function(f,m){return{mapValue:{fields:{[P0]:{stringValue:U0},[Eh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Tp(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${mp(s)}`)})(r,e)}function HS(r,e){const n={};return O0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Js(r,((s,o)=>{const u=$h(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function qS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof it||r instanceof Ci||r instanceof kn||r instanceof Ut||r instanceof Qh||r instanceof Ii)}function FS(r,e,n){if(!qS(n)||!N0(n)){const s=mp(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function wO(r,e,n){if((e=En(e))instanceof Bp)return e._internalPath;if(typeof e=="string")return GS(r,e);throw Nh("Field path arguments must be of type string or ",r,!1,void 0,n)}const RO=new RegExp("[~\\*/\\[\\]]");function GS(r,e,n){if(e.search(RO)>=0)throw Nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Bp(...e.split("."))._internalPath}catch{throw Nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Nh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new de(re.INVALID_ARGUMENT,m+r+p)}function CO(r,e){return r.some((n=>n.isEqual(e)))}class YS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(KS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class IO extends YS{data(){return super.data()}}function KS(r,e){return typeof e=="string"?GS(r,e):e instanceof Bp?e._internalPath:e._delegate._internalPath}class NO{convertValue(e,n="none"){switch(os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Js(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Eh].arrayValue?.values?.map((s=>yt(s.doubleValue)));return new Ii(n)}convertGeoPoint(e){return new Ci(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Uh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const n=ss(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ot.fromString(e);Ye(pS(s),9688,{name:e});const o=new Kl(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||lr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function DO(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gs extends YS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(KS("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Gs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Gs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gs._jsonSchema={type:It("string",Gs._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class oh extends Gs{data(e={}){return super.data(e)}}class jl{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new xl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new oh(this._firestore,this._userDataWriter,s.key,s,new xl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:OO(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=jl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function OO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}function xO(r){r=Fl(r,Ut);const e=Fl(r.firestore,zp);return gO(jS(e),r._key).then((n=>LO(e,r,n)))}jl._jsonSchemaVersion="firestore/querySnapshot/1.0",jl._jsonSchema={type:It("string",jl._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};class MO extends NO{constructor(e){super(),this.firestore=e}convertBytes(e){return new kn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}}function tT(r,e,n){r=Fl(r,Ut);const s=Fl(r.firestore,zp),o=DO(r.converter,e,n);return VO(s,[bO(AO(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ir.none())])}function VO(r,e){return(function(s,o){const u=new is;return s.asyncQueue.enqueueAndForget((async()=>nO(await mO(s),o,u))),u.promise})(jS(r),e)}function LO(r,e,n){const s=n.docs.get(e._key),o=new MO(r);return new Gs(r,o,e._key,s,new xl(n.hasPendingWrites,n.fromCache),e.converter)}function kO(...r){return new Hp("arrayUnion",r)}function PO(...r){return new qp("arrayRemove",r)}(function(e,n=!0){(function(o){po=o})(fo),eo(new Ys("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new zp(new _N(s.getProvider("auth-internal")),new TN(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new de(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ts(oE,lE,e),ts(oE,lE,"esm2020")})();const UO={apiKey:"AIzaSyBmuibsjXBem9CN6pB-0nye7NryFJSya2g",authDomain:"filmorex.firebaseapp.com",projectId:"filmorex",storageBucket:"filmorex.firebasestorage.app",messagingSenderId:"962389606250",appId:"1:962389606250:web:4ba4c4fd8d70b077e56f13",measurementId:"G-XYT7Y5H7G9"},QS=kT(UO),Ji=fN(QS),_m=_O(QS);function Fp(){const[r,e]=P.useState(null),[n,s]=P.useState(!0);return P.useEffect(()=>c0(Ji,y=>{e(y),s(!1)}),[]),{user:r,loading:n,register:async(p,y)=>await JC(Ji,p,y),login:async(p,y)=>await WC(Ji,p,y),logout:async()=>await tI(Ji),resetPassword:async p=>await $C(Ji,p)}}const jO="/my-project-cinemania/img/logo.png",Yc="/my-project-cinemania/img/symbol-defs.svg",zO=[{code:"tr",name:"Turkish",flag:"tr"},{code:"fr",name:"Francais",flag:"fr"},{code:"de",name:"Deutsch",flag:"de"},{code:"en",name:"English",flag:"gb"},{code:"es",name:"Espanol",flag:"es"},{code:"it",name:"Italiano",flag:"it"},{code:"pt",name:"Portugues",flag:"pt"},{code:"ru",name:"Russian",flag:"ru"},{code:"ar",name:"Arabic",flag:"sa"},{code:"fa",name:"Persian",flag:"ir"},{code:"zh",name:"Chinese",flag:"cn"},{code:"ja",name:"Japanese",flag:"jp"},{code:"ko",name:"Korean",flag:"kr"}];function BO({onLoginClick:r}){const{user:e,logout:n,resetPassword:s}=Fp(),o=cs(),[u,f]=P.useState(!1),[m,p]=P.useState(!1),[y,E]=P.useState(!1),T=Y=>o.pathname===Y?"active":"",R=Y=>{window.innerWidth<=768&&(Y.preventDefault(),f(!0))},M=()=>{f(!1)},j=async Y=>{Y&&Y.preventDefault(),await n(),window.location.reload()},Q=async Y=>{if(Y&&Y.preventDefault(),e&&e.email)try{await s(e.email),alert("Password reset email sent! Please check your inbox.")}catch(te){alert(`Failed to send password reset email: ${te.message}`)}},q=Y=>{const te=`/auto/${Y}`;document.cookie=`googtrans=${te}; path=/; domain=${window.location.hostname}`,document.cookie=`googtrans=${te}; path=/;`,window.location.reload()};return P.useEffect(()=>{const Y=()=>{window.innerWidth>768&&f(!1)};return window.addEventListener("resize",Y),()=>window.removeEventListener("resize",Y)},[]),P.useEffect(()=>{const Y=te=>{const ie=te.target instanceof Element?te.target:null;ie&&m&&!ie.closest("#user-account-container")&&(p(!1),E(!1))};return document.addEventListener("click",Y),()=>document.removeEventListener("click",Y)},[m]),P.useEffect(()=>{const Y=te=>{const ie=te.target instanceof Element?te.target:null;if(!ie)return;const he=ie.closest("[data-lang-code]");if(!he)return;te.preventDefault();const me=he.getAttribute("data-lang-code");me&&q(me)};return document.addEventListener("click",Y,!0),()=>document.removeEventListener("click",Y,!0)},[]),A.jsxs("header",{className:"site-header",children:[A.jsxs("div",{className:"container header-container",children:[A.jsxs(Wi,{to:"/",className:"logo",onClick:R,children:[A.jsx("img",{src:jO,alt:"Cinemania Logo"}),A.jsx("span",{children:"cprookie"})]}),A.jsxs("nav",{className:`main-nav ${u?"is-open":""}`,children:[A.jsx("button",{className:"mobile-nav-close",onClick:M,children:""}),A.jsxs("ul",{children:[A.jsx("li",{children:A.jsx(Wi,{to:"/",className:`nav-link ${T("/")}`,onClick:M,children:"HOME"})}),A.jsx("li",{children:A.jsx(Wi,{to:"/catalog",className:`nav-link ${T("/catalog")}`,onClick:M,children:"CATALOG"})}),A.jsx("li",{children:A.jsx(Wi,{to:"/library",className:`nav-link ${T("/library")}`,onClick:M,children:"MY LIBRARY"})})]})]}),A.jsxs("div",{className:"auth-buttons",children:[e?A.jsxs("div",{id:"user-account-container",className:"user-dropdown-container",children:[A.jsxs("button",{id:"btn-account",className:"nav-link account-btn",onClick:Y=>{Y.stopPropagation(),p(!m)},children:[A.jsx("span",{children:"My Account"}),A.jsx("i",{className:"fas fa-chevron-down",style:{marginLeft:"5px",fontSize:"0.8em"}})]}),A.jsxs("div",{id:"account-dropdown",className:`dropdown-content ${m?"show":""}`,children:[A.jsx("div",{className:"dropdown-user-info",children:A.jsx("span",{id:"dropdown-email",children:e.email})}),A.jsx("hr",{}),A.jsxs("div",{className:"submenu-wrapper",children:[A.jsxs("button",{id:"btn-languages",className:`dropdown-item submenu-trigger ${y?"open":""}`,onClick:Y=>{Y.stopPropagation(),E(!y)},children:[A.jsxs("span",{children:[A.jsx("i",{className:"fas fa-globe"}),A.jsx("span",{children:"Languages"})]}),A.jsx("i",{className:"fas fa-chevron-right arrow-icon"})]}),A.jsx("div",{id:"languages-list",className:`submenu-content ${y?"show":""}`,children:zO.map(Y=>A.jsxs("button",{type:"button",className:"dropdown-item lang-opt","data-val":Y.code,"data-lang-code":Y.code,onClick:()=>q(Y.code),children:[A.jsx("img",{className:"flag-icon",src:`https://flagcdn.com/w20/${Y.flag}.png`,alt:Y.name}),Y.name]},Y.code))})]}),A.jsxs("a",{href:"#",className:"dropdown-item",id:"btn-change-password",onClick:Q,children:[A.jsx("i",{className:"fas fa-key"}),A.jsx("span",{children:"Change Password"})]}),A.jsxs("a",{href:"#",className:"dropdown-item",id:"btn-logout",onClick:j,children:[A.jsx("i",{className:"fas fa-sign-out-alt"}),A.jsx("span",{children:"Logout"})]})]})]}):A.jsx("button",{id:"btn-login",className:"nav-link",onClick:r,children:"Login / Register"}),A.jsx("div",{className:"theme-switcher",children:A.jsxs("label",{className:"switch",children:[A.jsx("input",{type:"checkbox",id:"theme-toggle-checkbox"}),A.jsxs("span",{className:"slider round",children:[A.jsx("svg",{className:"icon icon-sun",children:A.jsx("use",{xlinkHref:`${Yc}#icon-sun`})}),A.jsx("svg",{className:"icon-moon",children:A.jsx("use",{xlinkHref:`${Yc}#icon-moon`})}),A.jsxs("span",{className:"slider-circle-container",children:[A.jsx("svg",{className:"slider-circle-white",children:A.jsx("use",{xlinkHref:`${Yc}#icon-circle1`})}),A.jsx("svg",{className:"slider-circle-orange",children:A.jsx("use",{xlinkHref:`${Yc}#icon-circle1`})})]})]})]})})]})]}),u&&A.jsx("div",{className:"mobile-overlay active",onClick:M})]})}const HO="/my-project-cinemania/img/symbol-defs.svg";function qO({onTeamModalOpen:r}){return P.useEffect(()=>{const e=n=>{const s=n.target instanceof Element?n.target:null;!s||!s.closest('[data-team-modal-trigger="true"]')||(n.preventDefault(),typeof r=="function"&&r())};return document.addEventListener("click",e,!0),()=>document.removeEventListener("click",e,!0)},[r]),A.jsx("footer",{className:"site-footer",children:A.jsx("div",{className:"container",children:A.jsxs("p",{children:[" 2025 | All Rights Reserved | Developed with",A.jsx("svg",{className:"footer-heart",children:A.jsx("use",{xlinkHref:`${HO}#icon-heart`})}),"by"," ",A.jsx("button",{type:"button",className:"footer-link","data-team-modal-trigger":"true",onClick:()=>typeof r=="function"&&r(),children:"GoIT Students"})]})})})}function FO({isOpen:r,onClose:e}){const[n,s]=P.useState(!0),[o,u]=P.useState(""),[f,m]=P.useState(""),[p,y]=P.useState(!1),{login:E,register:T}=Fp(),R=async j=>{j.preventDefault(),y(!0);try{n?await E(o,f):await T(o,f),e(),u(""),m("")}catch(Q){alert("Hata: "+Q.message)}finally{y(!1)}},M=j=>{j.target===j.currentTarget&&e()};return r?A.jsx("div",{className:"modal-backdrop",id:"auth-modal-backdrop",onClick:M,children:A.jsxs("div",{className:"modal-window auth-window",children:[A.jsx("button",{type:"button",className:"modal-close-btn",onClick:e,children:""}),A.jsxs("div",{className:"auth-content",children:[A.jsx("h2",{id:"auth-title",children:n?"Login":"Register"}),A.jsxs("form",{id:"auth-form",onSubmit:R,children:[A.jsx("input",{type:"email",id:"auth-email",placeholder:"Email",required:!0,value:o,onChange:j=>u(j.target.value)}),A.jsx("input",{type:"password",id:"auth-password",placeholder:"Password",required:!0,value:f,onChange:j=>m(j.target.value)}),A.jsx("button",{type:"submit",id:"auth-submit-btn",className:"btn btn-primary",disabled:p,children:p?"Please wait...":n?"Sign In":"Sign Up"})]}),A.jsxs("p",{className:"auth-switch-text",children:[n?"Don't have an account? ":"Already have an account? ",A.jsx("span",{id:"auth-switch-btn",onClick:()=>s(!n),style:{color:"orange",cursor:"pointer"},children:n?"Register here":"Login here"})]})]})]})}):null}function GO({isOpen:r,onClose:e,videoKey:n}){P.useEffect(()=>{const o=u=>{u.key==="Escape"&&r&&e()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[r,e]);const s=o=>{o.target===o.currentTarget&&e()};return r?A.jsx("div",{className:"modal-backdrop",id:"trailer-modal-backdrop",onClick:s,children:A.jsxs("div",{className:"modal-window trailer-modal-content",children:[A.jsx("button",{type:"button",className:"modal-close-btn",id:"trailer-modal-close-btn",onClick:e,children:""}),A.jsx("div",{className:"trailer-modal-body",children:A.jsx("iframe",{id:"trailer-iframe",width:"100%",height:"500",src:`https://www.youtube.com/embed/${n}?autoplay=1&rel=0&showinfo=0`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]})}):null}function YO({isOpen:r,onClose:e}){P.useEffect(()=>{const s=o=>{o.key==="Escape"&&r&&e()};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[r,e]);const n=s=>{s.target===s.currentTarget&&e()};return r?A.jsx("div",{className:"modal-backdrop",id:"trailer-error-backdrop",onClick:n,children:A.jsxs("div",{className:"modal-window trailer-error-window",children:[A.jsx("button",{type:"button",className:"modal-close-btn",onClick:e,children:""}),A.jsxs("div",{className:"trailer-error-content",children:[A.jsxs("div",{className:"trailer-error-text",children:[A.jsx("h2",{children:"OOPS..."}),A.jsx("p",{children:"We are very sorry!"}),A.jsx("p",{children:"But we couldn't find the trailer."})]}),A.jsx("div",{className:"trailer-error-image",children:A.jsx("img",{src:"/my-project-cinemania/img/trailer-modal.png",alt:"No Trailer"})})]})]})}):null}function KO({isOpen:r,onClose:e}){P.useEffect(()=>{if(!r)return;const s=o=>{o.key==="Escape"&&e()};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[r,e]),P.useEffect(()=>{if(r)return document.body.classList.add("modal-open"),()=>document.body.classList.remove("modal-open")},[r]);const n=s=>{s.target===s.currentTarget&&e()};return A.jsx("div",{className:`modal-backdrop ${r?"":"team-modal-hidden"}`,id:"team-modal-backdrop",onClick:n,"aria-hidden":!r,role:"dialog","aria-modal":"true","aria-labelledby":"team-modal-title",children:A.jsxs("div",{className:"modal-window team-modal-window",children:[A.jsx("button",{type:"button",id:"team-modal-close-btn",className:"modal-close-btn",onClick:e,"aria-label":"Close team modal",children:""}),A.jsx("h2",{id:"team-modal-title",className:"team-title",children:"Our Team"}),A.jsx("p",{className:"team-subtitle",children:"Built with care for Cinemania"}),A.jsx("div",{className:"team-list",children:A.jsxs("div",{className:"team-member",children:[A.jsx("div",{className:"member-img-wrapper",children:A.jsx("img",{src:"/my-project-cinemania/img/omer.jpg",alt:"Omer Ozdemir",className:"member-img"})}),A.jsx("h3",{className:"member-name",children:"Omer Ozdemir"}),A.jsx("p",{className:"member-role",children:"Team Lead"}),A.jsxs("div",{className:"member-social",children:[A.jsx("a",{href:"https://github.com/omerozdemir7",target:"_blank",rel:"noopener noreferrer",children:A.jsx("i",{className:"fab fa-github"})}),A.jsx("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",children:A.jsx("i",{className:"fab fa-linkedin"})}),A.jsx("a",{href:"https://www.instagram.com/cprookie",target:"_blank",rel:"noopener noreferrer",children:A.jsx("i",{className:"fab fa-instagram"})})]})]})})]})})}const QO="362ee522f1af2dedac989b8df9cfb4eb",XO="https://api.themoviedb.org/3",$O="https://image.tmdb.org/t/p/w500",JO="https://image.tmdb.org/t/p/original";async function dr(r,e={},n="en-US"){const s=new URL(`${XO}${r}`);s.searchParams.append("api_key",QO),n&&s.searchParams.append("language",n);for(const o in e)e[o]&&s.searchParams.append(o,e[o]);try{const o=await fetch(s);if(!o.ok)throw new Error(`API Error: ${o.status}`);return await o.json()}catch(o){return console.error("API Request Failed:",o),null}}async function nT(r=1){return await dr("/movie/popular",{page:r})}async function iT(r="week",e=1){return await dr(`/trending/movie/${r}`,{page:e})}async function WO(r=1){return await dr("/movie/upcoming",{page:r,region:"US"})}async function ZO(r,e=1,n=""){return await dr("/search/movie",{query:r,page:e,primary_release_year:n})}async function Gp(r){return await dr(`/movie/${r}`)}async function XS(r){return await dr(`/movie/${r}/videos`,{},null)}function $S(r){return r?`${$O}${r}`:"https://via.placeholder.com/500x750?text=No+Poster"}function JS(r){return r?`${JO}${r}`:"https://via.placeholder.com/1920x1080?text=No+Image"}function ex(r){return r?`https://image.tmdb.org/t/p/w1280${r}`:""}async function tx(r){return await dr(`/movie/${r}/watch/providers`)}async function nx(r){return await dr(`/movie/${r}/credits`,{},null)}async function ix(r,e=1){return await dr(`/movie/${r}/reviews`,{page:e})}function Yp({movieId:r,onWatchTrailer:e,onMoreDetails:n,children:s}){const[o,u]=P.useState(null),[f,m]=P.useState("");P.useEffect(()=>{r&&p()},[r]);const p=async()=>{const T=await Gp(r);if(T){u(T);const R=ex(T.backdrop_path||T.poster_path);m(`
        linear-gradient(to right, 
          #111 0%, 
          rgba(17, 17, 17, 1) 30%, 
          rgba(17, 17, 17, 0.5) 50%, 
          transparent 100%),
        url('${R}')
      `)}},y=async()=>{if(o)try{const T=await XS(o.id);let R=T?.results?.find(M=>M.type==="Trailer"&&M.site==="YouTube");R||(R=T?.results?.find(M=>M.type==="Teaser"&&M.site==="YouTube")),R&&R.key?e(R.key):e(null)}catch(T){console.error(T),e(null)}},E=T=>{const R=Math.round((T||0)/2),M=[];for(let j=1;j<=5;j++)M.push(A.jsx("i",{className:`fa-star ${j<=R?"fas active":"far"}`},j));return M};return s?A.jsx("section",{className:"hero-section",style:{backgroundImage:f},children:A.jsx("div",{className:"container hero-container",children:A.jsx("div",{className:"hero-content",children:s})})}):o?A.jsx("section",{className:"hero-section",style:{backgroundImage:f},children:A.jsx("div",{className:"container hero-container",children:A.jsxs("div",{className:"hero-content",children:[A.jsx("h1",{className:"hero-title",children:o.title}),A.jsx("div",{className:"star-rating hero-stars",children:E(o.vote_average)}),A.jsx("p",{className:"hero-description",children:o.overview||"No description available."}),A.jsxs("div",{className:"hero-buttons",children:[A.jsx("button",{className:"btn btn-primary",onClick:y,children:"Watch Trailer"}),A.jsx("button",{className:"btn btn-secondary",onClick:()=>n(o.id),children:"More details"})]})]})})}):A.jsx("section",{className:"hero-section",children:A.jsx("div",{className:"container hero-container",children:A.jsx("div",{className:"hero-content",children:A.jsx("h1",{className:"hero-title",children:"Loading..."})})})})}function rx(r){if(!r||!Array.isArray(r)||r.length===0)return"N/A";const e=r[0];if(typeof e=="object"&&e!==null&&e.name)return r.map(n=>n.name).slice(0,2).join(", ");if(typeof e=="number"){const n={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Sci-Fi",10770:"TV Movie",53:"Thriller",10752:"War",37:"Western"},s=r.map(o=>n[o]).filter(Boolean);return s.length>0?s.slice(0,2).join(", "):"Other"}return"N/A"}function sx(r){const e=Math.round((r||0)/2),n=[];for(let s=1;s<=5;s++)n.push(A.jsx("i",{className:`fa-star ${s<=e?"fas active":"far"}`},s));return n}function ax(r){return r?new Date(r).getFullYear():"N/A"}function Kp({movie:r,onClick:e}){const n=r.genres||r.genre_ids,s=ax(r.release_date);return A.jsxs("div",{className:"movie-card","data-id":r.id,onClick:()=>e&&e(r.id),children:[A.jsx("img",{src:$S(r.poster_path),alt:r.title,className:"movie-card-poster",loading:"lazy"}),A.jsxs("div",{className:"movie-card-overlay",children:[A.jsx("h3",{className:"movie-title",children:r.title}),A.jsxs("div",{className:"movie-meta",children:[A.jsxs("span",{className:"movie-genre",children:[rx(n)," | ",s]}),A.jsx("div",{className:"movie-rating",children:sx(r.vote_average)})]})]})]})}function Jh(){const r={position:"fixed",inset:0,background:"#000",display:"flex",justifyContent:"center",alignItems:"center",zIndex:99999,color:"white",fontSize:"18px",flexDirection:"column",backdropFilter:"blur(3px)"},e={border:"6px solid #333",borderTop:"6px solid var(--primary-orange, orange)",borderRadius:"50%",width:"60px",height:"60px",animation:"spin 1s linear infinite",marginBottom:"10px"};return A.jsxs("div",{style:r,children:[A.jsx("div",{style:e}),A.jsx("p",{children:"Loading..."}),A.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})}function ox({onMovieClick:r,onWatchTrailer:e}){const[n,s]=P.useState(!0),[o,u]=P.useState(null),[f,m]=P.useState([]),[p,y]=P.useState(null);P.useEffect(()=>{E()},[]);const E=async()=>{s(!0);try{const[R,M,j]=await Promise.all([iT("day"),iT("week"),WO()]);let Q=null;if(R?.results?.length){const q=Math.floor(Math.random()*Math.min(5,R.results.length));Q=R.results[q]}else M?.results?.length&&(Q=M.results[0]);if(Q&&u(Q.id),M?.results?.length&&m(M.results.slice(0,3)),j?.results?.length){const q=Math.floor(Math.random()*Math.min(10,j.results.length));y(j.results[q])}}catch(R){console.error("Anasayfa ykleme hatas:",R)}finally{s(!1)}},T=R=>{u(R),window.scrollTo({top:0,behavior:"smooth"})};return n?A.jsx(Jh,{}):A.jsxs(A.Fragment,{children:[A.jsx(Yp,{movieId:o,onWatchTrailer:e,onMoreDetails:r}),A.jsx("section",{className:"weekly-trends-section",children:A.jsxs("div",{className:"container",children:[A.jsxs("div",{className:"section-header",children:[A.jsx("h2",{children:"WEEKLY TRENDS"}),A.jsx(Wi,{to:"/catalog",className:"see-all-link",children:"See all"})]}),A.jsx("div",{className:"movie-grid-container",children:f.map(R=>A.jsx(Kp,{movie:R,onClick:T},R.id))})]})}),p&&A.jsx("section",{className:"upcoming-section",children:A.jsxs("div",{className:"container",children:[A.jsx("h2",{children:"UPCOMING THIS MONTH"}),A.jsxs("div",{className:"upcoming-container",children:[A.jsx("div",{className:"upcoming-image",children:A.jsx("img",{src:JS(p.poster_path),alt:p.title})}),A.jsxs("div",{className:"upcoming-info",children:[A.jsx("h3",{children:p.title}),A.jsxs("div",{className:"movie-details-list",children:[A.jsxs("div",{className:"detail-item",children:[A.jsx("span",{className:"detail-key",children:"Release Date"}),A.jsx("span",{className:"detail-value",children:new Date(p.release_date).toLocaleDateString("en-US")})]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("span",{className:"detail-key",children:"Vote"}),A.jsx("span",{className:"detail-value",children:p.vote_average.toFixed(1)})]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("span",{className:"detail-key",children:"Vote Count"}),A.jsx("span",{className:"detail-value",children:p.vote_count})]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("span",{className:"detail-key",children:"Popularity"}),A.jsx("span",{className:"detail-value",children:p.popularity.toFixed(1)})]})]}),A.jsx("h4",{className:"upcoming-about-title",children:"ABOUT"}),A.jsx("p",{className:"upcoming-description",children:p.overview||"No description available."}),A.jsx("button",{className:"btn btn-primary upcoming-btn",onClick:()=>r(p.id),children:"More details"})]})]})]})})]})}function lx({totalPages:r,currentPage:e,onPageChange:n}){if(r<=1)return null;const s=5;let o=Math.max(e-2,1),u=Math.min(o+s-1,r);u-o<s-1&&(o=Math.max(u-s+1,1));const f=[];f.push(A.jsx("button",{className:"pagination-arrow",disabled:e===1,onClick:()=>n(e-1),children:""},"prev")),o>1&&(f.push(A.jsx("button",{className:"pagination-btn",onClick:()=>n(1),children:"1"},1)),o>2&&f.push(A.jsx("span",{className:"pagination-dots",children:"..."},"dots1")));for(let m=o;m<=u;m++)f.push(A.jsx("button",{className:`pagination-btn ${m===e?"active":""}`,onClick:()=>n(m),children:m},m));return u<r&&(u<r-1&&f.push(A.jsx("span",{className:"pagination-dots",children:"..."},"dots2")),f.push(A.jsx("button",{className:"pagination-btn",onClick:()=>n(r),children:r},r))),f.push(A.jsx("button",{className:"pagination-arrow",disabled:e===r,onClick:()=>n(e+1),children:""},"next")),A.jsx("div",{className:"pagination",children:f})}function ux({onMovieClick:r,onWatchTrailer:e}){const[n,s]=P.useState(!0),[o,u]=P.useState(null),[f,m]=P.useState([]),[p,y]=P.useState(1),[E,T]=P.useState(1),[R,M]=P.useState(""),[j,Q]=P.useState(""),[q,Y]=P.useState(!1),te=P.useRef(null);P.useEffect(()=>{ie()},[]),P.useEffect(()=>{const C=k=>{te.current&&!te.current.contains(k.target)&&Y(!1)};return document.addEventListener("click",C),()=>document.removeEventListener("click",C)},[]);const ie=async()=>{s(!0);const C=await nT(1);s(!1),C?.results?.length&&(m(C.results),T(C.total_pages),u(C.results[0].id))},he=async C=>{C.preventDefault(),R.trim()&&(y(1),await me(R,j,1))},me=async(C,k,D)=>{s(!0);const Be=await ZO(C,D,k);if(s(!1),!Be?.results?.length){m([]),T(1);return}m(Be.results),T(Math.min(Be.total_pages,500)),Be.results[0]&&u(Be.results[0].id)},Te=C=>{y(C),R?me(R,j,C):N(C),window.scrollTo({top:0,behavior:"smooth"})},N=async C=>{s(!0);const k=await nT(C);s(!1),k?.results?.length&&(m(k.results),T(k.total_pages))},w=C=>{u(C),window.scrollTo({top:0,behavior:"smooth"})},I=new Date().getFullYear(),x=[];for(let C=I;C>=1950;C--)x.push(C);return A.jsxs(A.Fragment,{children:[n&&A.jsx(Jh,{}),A.jsx(Yp,{movieId:o,onWatchTrailer:e,onMoreDetails:r}),A.jsx("section",{className:"search-section",children:A.jsx("div",{className:"container",children:A.jsxs("form",{className:"search-form",onSubmit:he,children:[A.jsx("input",{type:"text",className:"search-bar",placeholder:"Search",value:R,onChange:C=>M(C.target.value)}),A.jsxs("div",{className:`custom-dropdown ${q?"active":""}`,ref:te,children:[A.jsxs("div",{className:"dropdown-header",onClick:C=>{C.stopPropagation(),Y(!q)},children:[A.jsx("span",{style:{color:j?"var(--primary-orange)":""},children:j||"Year"}),A.jsx("i",{className:"fas fa-chevron-down"})]}),A.jsxs("ul",{className:`dropdown-list ${q?"":"is-hidden"}`,children:[A.jsx("li",{className:"dropdown-item",onClick:()=>{Q(""),Y(!1)},children:"Year"}),x.map(C=>A.jsx("li",{className:"dropdown-item",onClick:()=>{Q(C.toString()),Y(!1)},children:C},C))]})]}),A.jsx("button",{type:"submit",className:"search-btn",children:A.jsx("i",{className:"fas fa-search"})})]})})}),A.jsx("section",{className:"movie-grid-section",children:A.jsx("div",{className:"container",children:f.length===0&&!n?A.jsxs("div",{className:"no-results-container",children:[A.jsx("h2",{children:"OOPS!"}),A.jsx("h3",{children:"Search result not successful"}),A.jsx("p",{children:"Enter a different keyword or remove the search filter"})]}):A.jsx("div",{className:"movie-grid-container",children:f.map(C=>A.jsx(Kp,{movie:C,onClick:w},C.id))})})}),A.jsx("section",{className:"pagination-section",children:A.jsx("div",{className:"container",children:A.jsx(lx,{totalPages:E,currentPage:p,onPageChange:Te})})})]})}const WS="myLibrary",ZS=new Set;let rT=!1;function sT(){const r=new Error("Login required");return r.code="auth/login-required",r}function Kc(){try{const r=localStorage.getItem(WS),e=r?JSON.parse(r):[];return Array.isArray(e)?e.map(Number).filter(Number.isFinite):[]}catch{return[]}}function Qc(r){try{const e=Array.from(new Set(r.map(Number).filter(Number.isFinite)));localStorage.setItem(WS,JSON.stringify(e))}catch{}}function vm(r){const e=typeof r?.code=="string"?r.code:"";return e==="permission-denied"||e==="unauthenticated"||e==="unavailable"||e==="failed-precondition"||e.endsWith("/permission-denied")||e.endsWith("/unauthenticated")||e.endsWith("/unavailable")||e.endsWith("/failed-precondition")}function aT(r){return typeof r=="string"&&ZS.has(r)}function Em(r,e){if(typeof r=="string"&&r&&ZS.add(r),!rT){const n=typeof e?.code=="string"?e.code:"unknown";console.warn(`[useLibrary] Firestore disabled (${n}). Falling back to localStorage.`),rT=!0}}function eA(){const[r,e]=P.useState([]),[n,s]=P.useState(!0),o=P.useRef(!1),u=async()=>{s(!0);const y=Ji.currentUser;if(!y){e([]),s(!1);return}if(aT(y.uid)&&(o.current=!0),o.current)e(Kc());else{const E=ym(_m,"users",y.uid);try{const T=await xO(E);if(T.exists()){const R=T.data().library||[],M=Array.isArray(R)?R.map(Number).filter(Number.isFinite):[];e(M),Qc(M)}else e([]),Qc([])}catch(T){vm(T)?(o.current=!0,Em(y.uid,T)):console.error("[useLibrary] Firestore load failed:",T),e(Kc())}}s(!1)};return P.useEffect(()=>(u(),c0(Ji,E=>{o.current=aT(E?.uid||""),u()})),[]),{library:r,loading:n,addToLibrary:async y=>{const E=Ji.currentUser,T=Number(y);if(!Number.isFinite(T))return;if(!E)throw sT();const R=Kc();if(!R.includes(T)){const M=[...R,T];Qc(M),e(M)}if(!o.current){const M=ym(_m,"users",E.uid);try{await tT(M,{library:kO(T)},{merge:!0})}catch(j){vm(j)?(o.current=!0,Em(E.uid,j)):console.error("[useLibrary] Firestore add sync failed:",j)}}},removeFromLibrary:async y=>{const E=Ji.currentUser,T=Number(y);if(!Number.isFinite(T))return;if(!E)throw sT();const R=Kc().filter(M=>M!==T);if(Qc(R),e(R),!o.current){const M=ym(_m,"users",E.uid);try{await tT(M,{library:PO(T)},{merge:!0})}catch(j){vm(j)?(o.current=!0,Em(E.uid,j)):console.error("[useLibrary] Firestore remove sync failed:",j)}}},isInLibrary:y=>r.includes(Number(y)),refreshLibrary:u}}function cx({onMovieClick:r,onWatchTrailer:e}){const{library:n,loading:s}=eA(),[o,u]=P.useState(!0),[f,m]=P.useState(null),[p,y]=P.useState([]),[E,T]=P.useState([]),[R,M]=P.useState([]),[j,Q]=P.useState("all"),[q,Y]=P.useState(!1),te=P.useRef(null);P.useEffect(()=>{s||ie()},[n,s]),P.useEffect(()=>{const w=I=>{te.current&&!te.current.contains(I.target)&&Y(!1)};return document.addEventListener("click",w),()=>document.removeEventListener("click",w)},[]);const ie=async()=>{if(!n||n.length===0){u(!1),y([]),T([]);return}u(!0);try{const w=n.map(C=>Gp(C)),x=(await Promise.all(w)).filter(C=>C!==null);y(x),T(x),x.length>0&&(m(x[0].id),he(x))}catch(w){console.error("Ktphane yklenirken hata:",w)}finally{u(!1)}},he=w=>{const I=new Map;w.forEach(C=>{C&&C.genres&&Array.isArray(C.genres)&&C.genres.forEach(k=>{k&&k.id&&k.name&&I.set(k.id,k.name)})});const x=Array.from(I,([C,k])=>({id:C,name:k}));M(x)},me=w=>{if(Q(w),Y(!1),w==="all")T(p);else{const I=p.filter(x=>x.genres&&Array.isArray(x.genres)&&x.genres.some(C=>C.id.toString()===w.toString()));T(I)}},Te=w=>{m(w),window.scrollTo({top:0,behavior:"smooth"})},N=()=>{if(j==="all")return"Genre";const w=R.find(I=>I.id.toString()===j.toString());return w?w.name:"Genre"};return o||s?A.jsx(Jh,{}):A.jsxs(A.Fragment,{children:[A.jsx(Yp,{movieId:f,onWatchTrailer:e,onMoreDetails:r,children:p.length===0&&A.jsx("h1",{children:"Your Library is Empty"})}),A.jsx("section",{className:"library-content-section",children:A.jsx("div",{className:"container",children:p.length===0?A.jsxs("div",{className:"empty-library",children:[A.jsx("p",{children:"OOPS..."}),A.jsx("p",{children:"You haven't added any movies yet."}),A.jsx(Wi,{to:"/catalog",className:"btn-modal-add",style:{display:"inline-block",marginTop:"20px",textDecoration:"none"},children:"Go to Catalog"})]}):A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:`genre-filter-container ${q?"is-open":""}`,ref:te,children:[A.jsxs("div",{className:"genre-header",onClick:w=>{w.stopPropagation(),Y(!q)},children:[A.jsx("span",{children:N()}),A.jsx("i",{className:"fas fa-chevron-down"})]}),A.jsxs("div",{className:`genre-list ${q?"":"is-hidden"}`,children:[A.jsx("div",{className:`genre-item ${j==="all"?"active":""}`,onClick:()=>me("all"),children:"All Genres"}),R.map(w=>A.jsx("div",{className:`genre-item ${j===w.id.toString()?"active":""}`,onClick:()=>me(w.id.toString()),children:w.name},w.id))]})]}),E.length===0?A.jsx("p",{style:{color:"white",textAlign:"center",gridColumn:"1/-1"},children:"No movies found for this genre."}):A.jsx("div",{className:"movie-grid-container",children:E.map(w=>A.jsx(Kp,{movie:w,onClick:Te},w.id))})]})})})]})}const hx="movieComments",fx=12,dx=4,Xc={tr:"izle",en:"watch",fr:"regarder",de:"anschauen",es:"ver",it:"guarda",pt:"assistir",ru:"",ar:"",fa:"",zh:"",ja:"",ko:""};function oT(r){return`${hx}:${r}`}function mx(){const r=document.cookie.match(/(?:^|;\s*)googtrans=([^;]+)/);if(r?.[1]){const s=decodeURIComponent(r[1]).split("/").filter(Boolean),o=s[s.length-1];if(o)return o.toLowerCase()}return(document.documentElement.lang||navigator.language||"en").toLowerCase()}function px(r){if(!r)return Xc.en;const e=r.split("-")[0];return Xc[r]||Xc[e]||Xc.en}function lT(r){return!r||!Number.isFinite(r)?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(r)}function Tm(r){if(!r)return"N/A";const e=new Date(r);return Number.isNaN(e.getTime())?"N/A":e.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}function gx(r,e,n=""){const s=encodeURIComponent(e),o=r.toLowerCase();return o.includes("netflix")?`https://www.netflix.com/search?q=${s}`:o.includes("amazon")||o.includes("prime")?`https://www.primevideo.com/search/ref=atv_nb_sr?phrase=${s}`:o.includes("disney")?`https://www.disneyplus.com/search?q=${s}`:o.includes("apple")?`https://tv.apple.com/search?term=${s}`:o.includes("blutv")?`https://www.blutv.com/arama?q=${s}`:o.includes("mubi")?`https://mubi.com/tr/search/films?query=${s}`:n||`https://www.google.com/search?q=${s}+watch`}function yx({onWatchTrailer:r,onRequireLogin:e}){const n=$m(),{movieId:s}=Ew(),{user:o}=Fp(),{isInLibrary:u,addToLibrary:f,removeFromLibrary:m}=eA(),[p,y]=P.useState(!0),[E,T]=P.useState(null),[R,M]=P.useState(null),[j,Q]=P.useState([]),[q,Y]=P.useState([]),[te,ie]=P.useState(""),[he,me]=P.useState(""),[Te,N]=P.useState(""),[w,I]=P.useState([]),x=Number(s);P.useEffect(()=>{if(!Number.isFinite(x)){y(!1),T(null);return}(async()=>{y(!0);try{const[oe,Se,xe,L,Z]=await Promise.all([Gp(x),tx(x),nx(x),ix(x),XS(x)]);T(oe||null),M(Se||null),Q((xe?.cast||[]).slice(0,fx)),Y((L?.results||[]).slice(0,dx));const ae=Z?.results||[],le=ae.find(ge=>ge.site==="YouTube"&&ge.type==="Trailer")||ae.find(ge=>ge.site==="YouTube"&&ge.type==="Teaser");ie(le?.key||"")}catch(oe){console.error("[MovieDetailsPage] Failed to load movie data:",oe),T(null)}finally{y(!1)}})()},[x]),P.useEffect(()=>{if(!Number.isFinite(x))return;const J=oT(x);try{const oe=localStorage.getItem(J),Se=oe?JSON.parse(oe):[];I(Array.isArray(Se)?Se:[])}catch{I([])}},[x]);const C=P.useMemo(()=>R?.results&&(R.results.TR||R.results.US)||null,[R]),k=P.useMemo(()=>{if(!C)return[];const J=[...C.flatrate||[],...C.rent||[],...C.buy||[]],oe=new Map;return J.forEach(Se=>{Se?.provider_id&&!oe.has(Se.provider_id)&&oe.set(Se.provider_id,Se)}),Array.from(oe.values()).slice(0,12)},[C]),D=()=>{if(!E)return;const J=mx(),oe=J.split("-")[0],Se=px(J),xe=document.querySelector(".movie-details-title")?.textContent?.trim()||E.title,L=encodeURIComponent(`${xe} ${Se}`);window.open(`https://www.google.com/search?q=${L}&hl=${encodeURIComponent(oe)}`,"_blank")},Be=async()=>{if(E)try{u(E.id)?await m(E.id):await f(E.id)}catch(J){if((typeof J?.code=="string"?J.code:"").includes("login-required")){if(typeof e=="function"){e();return}alert("Please sign in to manage your library.");return}alert("Library update failed. Please try again.")}},ft=J=>{if(J.preventDefault(),!Number.isFinite(x))return;const oe=he.trim();if(oe.length<3){N("Comment must be at least 3 characters.");return}const xe=[{id:`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,author:o?.email||"Guest",text:oe,createdAt:new Date().toISOString()},...w];I(xe),me(""),N("");try{localStorage.setItem(oT(x),JSON.stringify(xe))}catch{}};if(p)return A.jsx(Jh,{});if(!E)return A.jsx("section",{className:"movie-details-empty",children:A.jsxs("div",{className:"container",children:[A.jsx("h1",{children:"Movie not found"}),A.jsx(Wi,{to:"/catalog",className:"btn btn-primary",children:"Back to Catalog"})]})});const X=E.release_date?new Date(E.release_date).getFullYear():"N/A";return A.jsxs("div",{className:"movie-details-page",children:[A.jsx("section",{className:"movie-details-hero",style:{backgroundImage:`linear-gradient(180deg, rgba(8,8,8,0.55) 0%, rgba(8,8,8,0.95) 100%), url('${JS(E.backdrop_path||E.poster_path)}')`},children:A.jsxs("div",{className:"container movie-details-hero-inner",children:[A.jsx("button",{type:"button",className:"movie-details-back-btn",onClick:()=>n(-1),children:"Back"}),A.jsxs("div",{className:"movie-details-hero-grid",children:[A.jsx("div",{className:"movie-details-poster-wrap",children:A.jsx("img",{src:$S(E.poster_path),alt:E.title,className:"movie-details-poster"})}),A.jsxs("div",{className:"movie-details-main",children:[A.jsx("h1",{className:"movie-details-title",children:E.title}),A.jsxs("p",{className:"movie-details-subtitle",children:[X," | ",E.runtime||"N/A"," min |"," ",E.status||"Unknown"]}),A.jsxs("div",{className:"movie-details-badges",children:[A.jsxs("span",{className:"movie-badge",children:["TMDB ",E.vote_average?.toFixed(1)||"N/A"]}),A.jsxs("span",{className:"movie-badge",children:[E.vote_count||0," votes"]}),A.jsx("span",{className:"movie-badge",children:E.original_language?.toUpperCase()||"N/A"})]}),A.jsx("p",{className:"movie-details-overview",children:E.overview||"No overview available."}),A.jsxs("div",{className:"movie-details-actions",children:[A.jsx("button",{type:"button",className:`btn-modal-add ${u(E.id)?"btn-remove":""}`,onClick:Be,children:u(E.id)?"Remove from my library":"Add to my library"}),A.jsx("button",{type:"button",className:"btn-modal-google",onClick:D,children:"Search on Google"}),A.jsx("button",{type:"button",className:"btn btn-secondary movie-details-trailer-btn",onClick:()=>r?.(te||null),children:"Watch Trailer"})]}),A.jsxs("div",{className:"movie-details-meta-grid",children:[A.jsxs("div",{children:[A.jsx("span",{children:"Release Date"}),A.jsx("strong",{children:Tm(E.release_date)})]}),A.jsxs("div",{children:[A.jsx("span",{children:"Genres"}),A.jsx("strong",{children:E.genres?.length?E.genres.map(J=>J.name).join(", "):"N/A"})]}),A.jsxs("div",{children:[A.jsx("span",{children:"Budget"}),A.jsx("strong",{children:lT(E.budget)})]}),A.jsxs("div",{children:[A.jsx("span",{children:"Revenue"}),A.jsx("strong",{children:lT(E.revenue)})]})]})]})]})]})}),A.jsx("section",{className:"movie-details-section",children:A.jsxs("div",{className:"container",children:[A.jsx("h2",{className:"movie-details-section-title",children:"Cast"}),j.length===0?A.jsx("p",{className:"movie-details-fallback",children:"Cast data is not available."}):A.jsx("div",{className:"movie-cast-grid",children:j.map(J=>A.jsxs("article",{className:"cast-card",children:[A.jsx("img",{src:J.profile_path?`https://image.tmdb.org/t/p/w300${J.profile_path}`:"https://via.placeholder.com/300x450?text=No+Photo",alt:J.name}),A.jsxs("div",{className:"cast-card-body",children:[A.jsx("h3",{children:J.name}),A.jsx("p",{children:J.character||"Unknown role"})]})]},J.cast_id||`${J.id}-${J.name}`))})]})}),A.jsx("section",{className:"movie-details-section",children:A.jsxs("div",{className:"container",children:[A.jsx("h2",{className:"movie-details-section-title",children:"Where to Watch"}),k.length===0?A.jsx("p",{className:"movie-details-fallback",children:"Provider data is not available for this region."}):A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"provider-grid",children:k.map(J=>A.jsxs("button",{type:"button",className:"provider-card",onClick:()=>window.open(gx(J.provider_name||"",E.title||"",C?.link||""),"_blank"),children:[A.jsx("img",{src:J.logo_path?`https://image.tmdb.org/t/p/w300${J.logo_path}`:"https://via.placeholder.com/300x300?text=No+Logo",alt:J.provider_name}),A.jsx("span",{children:J.provider_name})]},J.provider_id))}),C?.link&&A.jsx("a",{href:C.link,target:"_blank",rel:"noopener noreferrer",className:"watch-link movie-watch-link",children:"View all provider options"})]})]})}),A.jsx("section",{className:"movie-details-section",children:A.jsxs("div",{className:"container",children:[A.jsx("h2",{className:"movie-details-section-title",children:"TMDB Reviews"}),q.length===0?A.jsx("p",{className:"movie-details-fallback",children:"No reviews available yet."}):A.jsx("div",{className:"review-list",children:q.map(J=>A.jsxs("article",{className:"review-card",children:[A.jsxs("header",{children:[A.jsx("h3",{children:J.author||"Anonymous"}),A.jsx("time",{children:Tm(J.created_at)})]}),A.jsx("p",{children:(J.content||"").slice(0,500)||"No review text."})]},J.id))})]})}),A.jsx("section",{className:"movie-details-section movie-comment-section",children:A.jsxs("div",{className:"container",children:[A.jsx("h2",{className:"movie-details-section-title",children:"Your Comments"}),A.jsxs("form",{className:"comment-form",onSubmit:ft,children:[A.jsx("label",{htmlFor:"movie-comment-input",children:"Write a comment"}),A.jsx("textarea",{id:"movie-comment-input",value:he,onChange:J=>me(J.target.value),placeholder:"Share your thoughts about this movie...",rows:4,maxLength:800}),Te&&A.jsx("p",{className:"comment-error",children:Te}),A.jsx("button",{type:"submit",className:"btn btn-primary",children:"Post Comment"})]}),w.length===0?A.jsx("p",{className:"movie-details-fallback",children:"No comments yet. Be the first one."}):A.jsx("div",{className:"comment-list",children:w.map(J=>A.jsxs("article",{className:"comment-card",children:[A.jsxs("header",{children:[A.jsx("h3",{children:J.author}),A.jsx("time",{children:Tm(J.createdAt)})]}),A.jsx("p",{children:J.text})]},J.id))})]})})]})}function _x(){const r=$m(),[e,n]=P.useState(!1),[s,o]=P.useState(!1),[u,f]=P.useState(!1),[m,p]=P.useState(!1),[y,E]=P.useState(null);P.useEffect(()=>{const M=document.getElementById("theme-toggle-checkbox"),j=document.body;if(M){localStorage.getItem("theme")==="light"&&(j.classList.add("light-mode"),M.checked=!0);const q=()=>{M.checked?(j.classList.add("light-mode"),localStorage.setItem("theme","light")):(j.classList.remove("light-mode"),localStorage.setItem("theme","dark"))};return M.addEventListener("change",q),()=>M.removeEventListener("change",q)}},[]),P.useEffect(()=>{const M="translate.googleapis.com/element/log",j=window.fetch?window.fetch.bind(window):null;j&&(window.fetch=(ie,he)=>{const me=typeof ie=="string"?ie:ie?.url;return typeof me=="string"&&me.includes(M)?Promise.resolve(new Response("",{status:204})):j(ie,he)});const Q=typeof navigator.sendBeacon=="function"?navigator.sendBeacon.bind(navigator):null;Q&&(navigator.sendBeacon=(ie,he)=>typeof ie=="string"&&ie.includes(M)?!0:Q(ie,he));const q=XMLHttpRequest.prototype.open,Y=XMLHttpRequest.prototype.send;return XMLHttpRequest.prototype.open=function(ie,he,...me){return this.__skipTranslateLogRequest=typeof he=="string"&&he.includes(M),q.call(this,ie,he,...me)},XMLHttpRequest.prototype.send=function(...ie){if(!this.__skipTranslateLogRequest)return Y.apply(this,ie)},(()=>{if(document.querySelector('script[src*="translate.google.com"]'))return;window.googleTranslateElementInit=function(){new window.google.translate.TranslateElement({pageLanguage:"en",autoDisplay:!1},"google_translate_element")};const ie=document.createElement("script");ie.type="text/javascript",ie.src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit",document.body.appendChild(ie)})(),()=>{j&&(window.fetch=j),Q&&(navigator.sendBeacon=Q),XMLHttpRequest.prototype.open=q,XMLHttpRequest.prototype.send=Y}},[]);const T=M=>{M&&r(`/movie/${M}`)},R=M=>{M?(E(M),o(!0)):f(!0)};return A.jsxs("div",{className:"App",children:[A.jsx(BO,{onLoginClick:()=>n(!0)}),A.jsx("main",{children:A.jsxs(Lw,{children:[A.jsx(Rl,{path:"/",element:A.jsx(ox,{onMovieClick:T,onWatchTrailer:R})}),A.jsx(Rl,{path:"/catalog",element:A.jsx(ux,{onMovieClick:T,onWatchTrailer:R})}),A.jsx(Rl,{path:"/library",element:A.jsx(cx,{onMovieClick:T,onWatchTrailer:R})}),A.jsx(Rl,{path:"/movie/:movieId",element:A.jsx(yx,{onWatchTrailer:R,onRequireLogin:()=>n(!0)})})]})}),A.jsx(qO,{onTeamModalOpen:()=>p(!0)}),A.jsx(FO,{isOpen:e,onClose:()=>n(!1)}),A.jsx(GO,{isOpen:s,onClose:()=>o(!1),videoKey:y}),A.jsx(YO,{isOpen:u,onClose:()=>f(!1)}),A.jsx(KO,{isOpen:m,onClose:()=>p(!1)})]})}Hb.createRoot(document.getElementById("root")).render(A.jsx(Vb.StrictMode,{children:A.jsx(r1,{basename:"/my-project-cinemania/",children:A.jsx(_x,{})})}));
//# sourceMappingURL=index-DXqz9Zh9.js.map
