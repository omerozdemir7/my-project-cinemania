(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(t){if(t.ep)return;t.ep=!0;const i=r(t);fetch(t.href,i)}})();const g="modulepreload",b=function(e){return"/"+e},L={},E=function(o,r,n){let t=Promise.resolve();if(r&&r.length>0){let f=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};var c=f;document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=s?.nonce||s?.getAttribute("nonce");t=f(r.map(d=>{if(d=b(d),d in L)return;L[d]=!0;const p=d.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${y}`))return;const u=document.createElement("link");if(u.rel=p?"stylesheet":g,p||(u.as="script"),u.crossOrigin="",u.href=d,a&&u.setAttribute("nonce",a),document.head.appendChild(u),p)return new Promise((m,l)=>{u.addEventListener("load",m),u.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return t.then(s=>{for(const a of s||[])a.status==="rejected"&&i(a.reason);return o().catch(i)})},w="362ee522f1af2dedac989b8df9cfb4eb",k="https://api.themoviedb.org/3",S="https://image.tmdb.org/t/p/w500";async function M(e,o={}){const r=new URL(`${k}${e}`);r.searchParams.append("api_key",w),r.searchParams.append("language","en-US");for(const n in o)o[n]&&r.searchParams.append(n,o[n]);try{const n=await fetch(r);if(!n.ok)throw new Error(`API Error: ${n.status}`);return await n.json()}catch(n){return console.error("API Request Failed:",n),null}}async function q(e){return await M(`/movie/${e}`)}function P(e){return e?`${S}${e}`:"https://via.placeholder.com/500x750?text=No+Poster"}function x(){const e=document.querySelector("#movie-modal-backdrop");if(!e)return console.error("Modal backdrop '#movie-modal-backdrop' not found."),{openModal:()=>{},closeModal:()=>{}};const o=e.querySelector("#modal-close-btn"),r=e.querySelector("#modal-poster"),n=e.querySelector("#modal-title"),t=e.querySelector("#modal-vote-avg"),i=e.querySelector("#modal-vote-count"),c=e.querySelector("#modal-popularity"),s=e.querySelector("#modal-genre"),a=e.querySelector("#modal-description"),f=e.querySelector("#modal-add-btn");function d(){return JSON.parse(localStorage.getItem("myLibrary"))||[]}function p(m){localStorage.setItem("myLibrary",JSON.stringify(m))}async function y(m){const l=await q(m);if(l){if(r&&(r.src=P(l.poster_path)),n&&(n.textContent=l.title.toUpperCase()),t&&(t.textContent=l.vote_average.toFixed(1)),i&&(i.textContent=l.vote_count),c&&(c.textContent=l.popularity.toFixed(1)),s&&(s.textContent=l.genres.map(v=>v.name).join(", ")||"N/A"),a&&(a.textContent=l.overview||"No description available."),f){const v=d(),h=Number(l.id);f.textContent=v.includes(h)?"Remove from my library":"Add to my library",f.dataset.id=h}e.classList.remove("is-hidden"),document.body.classList.add("modal-open")}}function u(){e.classList.add("is-hidden"),document.body.classList.remove("modal-open")}return o&&o.addEventListener("click",u),e.addEventListener("click",m=>{m.target===e&&u()}),window.addEventListener("keydown",m=>{m.key==="Escape"&&!e.classList.contains("is-hidden")&&u()}),f&&f.addEventListener("click",()=>{const m=Number(f.dataset.id);if(!m)return;const l=d(),v=l.indexOf(m);v>-1?(l.splice(v,1),f.textContent="Add to my library"):(l.push(m),f.textContent="Remove from my library"),p(l)}),{openModal:y,closeModal:u}}function C(){const e=document.querySelector(".footer-link"),o=document.getElementById("team-modal-backdrop"),r=document.getElementById("team-modal-close-btn");if(!e||!o)return;function n(c){c.preventDefault(),o.classList.remove("is-hidden"),document.body.classList.add("modal-open"),window.addEventListener("keydown",i)}function t(){o.classList.add("is-hidden"),document.body.classList.remove("modal-open"),window.removeEventListener("keydown",i)}function i(c){c.code==="Escape"&&t()}e.addEventListener("click",n),r&&r.addEventListener("click",t),o.addEventListener("click",c=>{c.target===o&&t()})}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".main-nav"),o=document.querySelector(".logo"),r=document.querySelector(".mobile-menu-btn");let n=null;if(!e||!o)return;const t=()=>window.innerWidth<=768;function i(a){t()&&(a&&a.preventDefault(),n||(n=document.createElement("div"),n.className="mobile-overlay",n.addEventListener("click",c),document.body.appendChild(n)),e.classList.add("is-open"),document.body.classList.add("menu-open"))}function c(){e.classList.remove("is-open"),document.body.classList.remove("menu-open"),n&&(n.removeEventListener("click",c),n.remove(),n=null)}let s=e.querySelector(".mobile-nav-close");s||(s=document.createElement("button"),s.type="button",s.className="mobile-nav-close",s.innerHTML="&times;",e.appendChild(s)),s.addEventListener("click",c),o.addEventListener("click",i),r&&r.addEventListener("click",i),e.querySelectorAll("a.nav-link").forEach(a=>{a.addEventListener("click",c)}),window.addEventListener("resize",()=>{t()||c()})});document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("theme-toggle-checkbox"),o=document.body;if(!e)return;localStorage.getItem("theme")==="light"&&(o.classList.add("light-mode"),e.checked=!0),e.addEventListener("change",()=>{e.checked?(o.classList.add("light-mode"),localStorage.setItem("theme","light")):(o.classList.remove("light-mode"),localStorage.setItem("theme","dark"))})});document.addEventListener("DOMContentLoaded",()=>{const{openModal:e}=x();window.openMovieModal=e,C();const o=window.location.pathname;let r=null;o.includes("catalog.html")?r="catalog.js":o.includes("my-library.html")?r="my-library.js":(o==="/"||o.endsWith("index.html"))&&(r="index.js"),document.querySelectorAll(".nav-link").forEach(t=>{t.classList.remove("active");const i=t.getAttribute("href");((o==="/"||o.includes("index.html"))&&i.includes("index.html")||o.includes("catalog")&&i.includes("catalog")||o.includes("library")&&i.includes("library"))&&t.classList.add("active")}),r&&E(()=>import(`./${r}`),[]).then(()=>console.log(`${r} yüklendi.`)).catch(t=>console.error(`${r} yüklenirken hata:`,t))});
//# sourceMappingURL=main-CXJVh9_m.js.map
