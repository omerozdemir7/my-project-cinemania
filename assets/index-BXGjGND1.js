(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function eT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Xd={exports:{}},Al={};var uv;function Eb(){if(uv)return Al;uv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Al.Fragment=e,Al.jsx=n,Al.jsxs=n,Al}var cv;function Tb(){return cv||(cv=1,Xd.exports=Eb()),Xd.exports}var w=Tb(),$d={exports:{}},Ae={};var hv;function Sb(){if(hv)return Ae;hv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),R=Symbol.iterator;function k(V){return V===null||typeof V!="object"?null:(V=R&&V[R]||V["@@iterator"],typeof V=="function"?V:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,B={};function J(V,ee,ae){this.props=V,this.context=ee,this.refs=B,this.updater=ae||z}J.prototype.isReactComponent={},J.prototype.setState=function(V,ee){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ee,"setState")},J.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function X(){}X.prototype=J.prototype;function ne(V,ee,ae){this.props=V,this.context=ee,this.refs=B,this.updater=ae||z}var fe=ne.prototype=new X;fe.constructor=ne,K(fe,J.prototype),fe.isPureReactComponent=!0;var ye=Array.isArray;function pe(){}var N={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(V,ee,ae){var le=ae.ref;return{$$typeof:r,type:V,key:ee,ref:le!==void 0?le:null,props:ae}}function M(V,ee){return I(V.type,ee,V.props)}function C(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function L(V){var ee={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return ee[ae]})}var D=/\/+/g;function Fe(V,ee){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):ee.toString(36)}function It(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(pe,pe):(V.status="pending",V.then(function(ee){V.status==="pending"&&(V.status="fulfilled",V.value=ee)},function(ee){V.status==="pending"&&(V.status="rejected",V.reason=ee)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function $(V,ee,ae,le,Te){var Ce=typeof V;(Ce==="undefined"||Ce==="boolean")&&(V=null);var Pe=!1;if(V===null)Pe=!0;else switch(Ce){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(V.$$typeof){case r:case e:Pe=!0;break;case E:return Pe=V._init,$(Pe(V._payload),ee,ae,le,Te)}}if(Pe)return Te=Te(V),Pe=le===""?"."+Fe(V,0):le,ye(Te)?(ae="",Pe!=null&&(ae=Pe.replace(D,"$&/")+"/"),$(Te,ee,ae,"",function(hs){return hs})):Te!=null&&(C(Te)&&(Te=M(Te,ae+(Te.key==null||V&&V.key===Te.key?"":(""+Te.key).replace(D,"$&/")+"/")+Pe)),ee.push(Te)),1;Pe=0;var Nt=le===""?".":le+":";if(ye(V))for(var rt=0;rt<V.length;rt++)le=V[rt],Ce=Nt+Fe(le,rt),Pe+=$(le,ee,ae,Ce,Te);else if(rt=k(V),typeof rt=="function")for(V=rt.call(V),rt=0;!(le=V.next()).done;)le=le.value,Ce=Nt+Fe(le,rt++),Pe+=$(le,ee,ae,Ce,Te);else if(Ce==="object"){if(typeof V.then=="function")return $(It(V),ee,ae,le,Te);throw ee=String(V),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function se(V,ee,ae){if(V==null)return V;var le=[],Te=0;return $(V,le,"","",function(Ce){return ee.call(ae,Ce,Te++)}),le}function me(V){if(V._status===-1){var ee=V._result;ee=ee(),ee.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=ee)}if(V._status===1)return V._result.default;throw V._result}var je=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ye={map:se,forEach:function(V,ee,ae){se(V,function(){ee.apply(this,arguments)},ae)},count:function(V){var ee=0;return se(V,function(){ee++}),ee},toArray:function(V){return se(V,function(ee){return ee})||[]},only:function(V){if(!C(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ae.Activity=T,Ae.Children=Ye,Ae.Component=J,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=ne,Ae.StrictMode=s,Ae.Suspense=p,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(V){return N.H.useMemoCache(V)}},Ae.cache=function(V){return function(){return V.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(V,ee,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var le=K({},V.props),Te=V.key;if(ee!=null)for(Ce in ee.key!==void 0&&(Te=""+ee.key),ee)!b.call(ee,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ee.ref===void 0||(le[Ce]=ee[Ce]);var Ce=arguments.length-2;if(Ce===1)le.children=ae;else if(1<Ce){for(var Pe=Array(Ce),Nt=0;Nt<Ce;Nt++)Pe[Nt]=arguments[Nt+2];le.children=Pe}return I(V.type,Te,le)},Ae.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ae.createElement=function(V,ee,ae){var le,Te={},Ce=null;if(ee!=null)for(le in ee.key!==void 0&&(Ce=""+ee.key),ee)b.call(ee,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(Te[le]=ee[le]);var Pe=arguments.length-2;if(Pe===1)Te.children=ae;else if(1<Pe){for(var Nt=Array(Pe),rt=0;rt<Pe;rt++)Nt[rt]=arguments[rt+2];Te.children=Nt}if(V&&V.defaultProps)for(le in Pe=V.defaultProps,Pe)Te[le]===void 0&&(Te[le]=Pe[le]);return I(V,Ce,Te)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(V){return{$$typeof:m,render:V}},Ae.isValidElement=C,Ae.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:me}},Ae.memo=function(V,ee){return{$$typeof:y,type:V,compare:ee===void 0?null:ee}},Ae.startTransition=function(V){var ee=N.T,ae={};N.T=ae;try{var le=V(),Te=N.S;Te!==null&&Te(ae,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(pe,je)}catch(Ce){je(Ce)}finally{ee!==null&&ae.types!==null&&(ee.types=ae.types),N.T=ee}},Ae.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ae.use=function(V){return N.H.use(V)},Ae.useActionState=function(V,ee,ae){return N.H.useActionState(V,ee,ae)},Ae.useCallback=function(V,ee){return N.H.useCallback(V,ee)},Ae.useContext=function(V){return N.H.useContext(V)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(V,ee){return N.H.useDeferredValue(V,ee)},Ae.useEffect=function(V,ee){return N.H.useEffect(V,ee)},Ae.useEffectEvent=function(V){return N.H.useEffectEvent(V)},Ae.useId=function(){return N.H.useId()},Ae.useImperativeHandle=function(V,ee,ae){return N.H.useImperativeHandle(V,ee,ae)},Ae.useInsertionEffect=function(V,ee){return N.H.useInsertionEffect(V,ee)},Ae.useLayoutEffect=function(V,ee){return N.H.useLayoutEffect(V,ee)},Ae.useMemo=function(V,ee){return N.H.useMemo(V,ee)},Ae.useOptimistic=function(V,ee){return N.H.useOptimistic(V,ee)},Ae.useReducer=function(V,ee,ae){return N.H.useReducer(V,ee,ae)},Ae.useRef=function(V){return N.H.useRef(V)},Ae.useState=function(V){return N.H.useState(V)},Ae.useSyncExternalStore=function(V,ee,ae){return N.H.useSyncExternalStore(V,ee,ae)},Ae.useTransition=function(){return N.H.useTransition()},Ae.version="19.2.1",Ae}var fv;function Fm(){return fv||(fv=1,$d.exports=Sb()),$d.exports}var U=Fm();const Ab=eT(U);var Jd={exports:{}},bl={},Wd={exports:{}},Zd={};var dv;function bb(){return dv||(dv=1,(function(r){function e($,se){var me=$.length;$.push(se);e:for(;0<me;){var je=me-1>>>1,Ye=$[je];if(0<o(Ye,se))$[je]=se,$[me]=Ye,me=je;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var se=$[0],me=$.pop();if(me!==se){$[0]=me;e:for(var je=0,Ye=$.length,V=Ye>>>1;je<V;){var ee=2*(je+1)-1,ae=$[ee],le=ee+1,Te=$[le];if(0>o(ae,me))le<Ye&&0>o(Te,ae)?($[je]=Te,$[le]=me,je=le):($[je]=ae,$[ee]=me,je=ee);else if(le<Ye&&0>o(Te,me))$[je]=Te,$[le]=me,je=le;else break e}}return se}function o($,se){var me=$.sortIndex-se.sortIndex;return me!==0?me:$.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,T=null,R=3,k=!1,z=!1,K=!1,B=!1,J=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function fe($){for(var se=n(y);se!==null;){if(se.callback===null)s(y);else if(se.startTime<=$)s(y),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(y)}}function ye($){if(K=!1,fe($),!z)if(n(p)!==null)z=!0,pe||(pe=!0,L());else{var se=n(y);se!==null&&It(ye,se.startTime-$)}}var pe=!1,N=-1,b=5,I=-1;function M(){return B?!0:!(r.unstable_now()-I<b)}function C(){if(B=!1,pe){var $=r.unstable_now();I=$;var se=!0;try{e:{z=!1,K&&(K=!1,X(N),N=-1),k=!0;var me=R;try{t:{for(fe($),T=n(p);T!==null&&!(T.expirationTime>$&&M());){var je=T.callback;if(typeof je=="function"){T.callback=null,R=T.priorityLevel;var Ye=je(T.expirationTime<=$);if($=r.unstable_now(),typeof Ye=="function"){T.callback=Ye,fe($),se=!0;break t}T===n(p)&&s(p),fe($)}else s(p);T=n(p)}if(T!==null)se=!0;else{var V=n(y);V!==null&&It(ye,V.startTime-$),se=!1}}break e}finally{T=null,R=me,k=!1}se=void 0}}finally{se?L():pe=!1}}}var L;if(typeof ne=="function")L=function(){ne(C)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Fe=D.port2;D.port1.onmessage=C,L=function(){Fe.postMessage(null)}}else L=function(){J(C,0)};function It($,se){N=J(function(){$(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function($){switch(R){case 1:case 2:case 3:var se=3;break;default:se=R}var me=R;R=se;try{return $()}finally{R=me}},r.unstable_requestPaint=function(){B=!0},r.unstable_runWithPriority=function($,se){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var me=R;R=$;try{return se()}finally{R=me}},r.unstable_scheduleCallback=function($,se,me){var je=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?je+me:je):me=je,$){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=me+Ye,$={id:E++,callback:se,priorityLevel:$,startTime:me,expirationTime:Ye,sortIndex:-1},me>je?($.sortIndex=me,e(y,$),n(p)===null&&$===n(y)&&(K?(X(N),N=-1):K=!0,It(ye,me-je))):($.sortIndex=Ye,e(p,$),z||k||(z=!0,pe||(pe=!0,L()))),$},r.unstable_shouldYield=M,r.unstable_wrapCallback=function($){var se=R;return function(){var me=R;R=se;try{return $.apply(this,arguments)}finally{R=me}}}})(Zd)),Zd}var mv;function wb(){return mv||(mv=1,Wd.exports=bb()),Wd.exports}var em={exports:{}},Qt={};var pv;function Rb(){if(pv)return Qt;pv=1;var r=Fm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},Qt.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Qt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Qt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,k=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:R,fetchPriority:k}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:R,fetchPriority:k,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Qt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Qt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Qt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Qt.requestFormReset=function(p){s.d.r(p)},Qt.unstable_batchedUpdates=function(p,y){return p(y)},Qt.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Qt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qt.version="19.2.1",Qt}var gv;function Cb(){if(gv)return em.exports;gv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),em.exports=Rb(),em.exports}var yv;function Ib(){if(yv)return bl;yv=1;var r=wb(),e=Fm(),n=Cb();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,R=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=C&&t[C]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Fe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case J:return"Profiler";case B:return"StrictMode";case ye:return"Suspense";case pe:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case ne:return t.displayName||"Context";case X:return(t._context.displayName||"Context")+".Consumer";case fe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:Fe(t.type)||"Memo";case b:i=t._payload,t=t._init;try{return Fe(t(i))}catch{}}return null}var It=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},je=[],Ye=-1;function V(t){return{current:t}}function ee(t){0>Ye||(t.current=je[Ye],je[Ye]=null,Ye--)}function ae(t,i){Ye++,je[Ye]=t.current,t.current=i}var le=V(null),Te=V(null),Ce=V(null),Pe=V(null);function Nt(t,i){switch(ae(Ce,i),ae(Te,t),ae(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?M_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=M_(i),t=x_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(le),ae(le,t)}function rt(){ee(le),ee(Te),ee(Ce)}function hs(t){t.memoizedState!==null&&ae(Pe,t);var i=le.current,a=x_(i,t.type);i!==a&&(ae(Te,t),ae(le,a))}function ta(t){Te.current===t&&(ee(le),ee(Te)),Pe.current===t&&(ee(Pe),vl._currentValue=me)}var na,ia;function ei(t){if(na===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);na=i&&i[1]||"",ia=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+na+t+ia}var vo=!1;function fs(t,i){if(!t||vo)return"";vo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Y){var F=Y}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(Y){F=Y}t.call(Z.prototype)}}else{try{throw Error()}catch(Y){F=Y}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var O=_.split(`
`),q=S.split(`
`);for(h=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===O.length||h===q.length)for(l=O.length-1,h=q.length-1;1<=l&&0<=h&&O[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(O[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||O[l]!==q[h]){var Q=`
`+O[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{vo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ei(a):""}function Eo(t,i){switch(t.tag){case 26:case 27:case 5:return ei(t.type);case 16:return ei("Lazy");case 13:return t.child!==i&&i!==null?ei("Suspense Fallback"):ei("Suspense");case 19:return ei("SuspenseList");case 0:case 15:return fs(t.type,!1);case 11:return fs(t.type.render,!1);case 1:return fs(t.type,!0);case 31:return ei("Activity");default:return""}}function To(t){try{var i="",a=null;do i+=Eo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var yt=Object.prototype.hasOwnProperty,Dt=r.unstable_scheduleCallback,fr=r.unstable_cancelCallback,$h=r.unstable_shouldYield,uu=r.unstable_requestPaint,Zt=r.unstable_now,ds=r.unstable_getCurrentPriorityLevel,So=r.unstable_ImmediatePriority,Ao=r.unstable_UserBlockingPriority,dr=r.unstable_NormalPriority,Jh=r.unstable_LowPriority,cu=r.unstable_IdlePriority,hu=r.log,fu=r.unstable_setDisableYieldValue,Pn=null,jt=null;function Tn(t){if(typeof hu=="function"&&fu(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(Pn,t)}catch{}}var ft=Math.clz32?Math.clz32:mu,du=Math.log,ra=Math.LN2;function mu(t){return t>>>=0,t===0?32:31-(du(t)/ra|0)|0}var ti=256,ms=262144,_t=4194304;function ni(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ii(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=ni(l):(_&=S,_!==0?h=ni(_):a||(a=S&~t,a!==0&&(h=ni(a))))):(S=l&~d,S!==0?h=ni(S):_!==0?h=ni(_):a||(a=l&~t,a!==0&&(h=ni(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Un(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Wh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pu(){var t=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),t}function ri(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ps(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Zh(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,O=t.expirationTimes,q=t.hiddenUpdates;for(a=_&~a;0<a;){var Q=31-ft(a),Z=1<<Q;S[Q]=0,O[Q]=-1;var F=q[Q];if(F!==null)for(q[Q]=null,Q=0;Q<F.length;Q++){var Y=F[Q];Y!==null&&(Y.lane&=-536870913)}a&=~Z}l!==0&&gs(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function gs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-ft(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function bo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-ft(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function wo(t,i){var a=i&-i;return a=(a&42)!==0?1:ys(a),(a&(t.suspendedLanes|i))!==0?0:a}function ys(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Oi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function gu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:nv(t.type))}function jn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var zn=Math.random().toString(36).slice(2),vt="__reactFiber$"+zn,Vt="__reactProps$"+zn,si="__reactContainer$"+zn,sa="__reactEvents$"+zn,ef="__reactListeners$"+zn,yu="__reactHandles$"+zn,_u="__reactResources$"+zn,ai="__reactMarker$"+zn;function aa(t){delete t[vt],delete t[Vt],delete t[sa],delete t[ef],delete t[yu]}function oi(t){var i=t[vt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[si]||a[vt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=z_(t);t!==null;){if(a=t[vt])return a;t=z_(t)}return i}t=a,a=t.parentNode}return null}function Sn(t){if(t=t[vt]||t[si]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function hn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function li(t){var i=t[_u];return i||(i=t[_u]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Et(t){t[ai]=!0}var Ro=new Set,Co={};function ui(t,i){ci(t,i),ci(t+"Capture",i)}function ci(t,i){for(Co[t]=i,t=0;t<i.length;t++)Ro.add(i[t])}var Io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},Do={};function vu(t){return yt.call(Do,t)?!0:yt.call(No,t)?!1:Io.test(t)?Do[t]=!0:(No[t]=!0,!1)}function oa(t,i,a){if(vu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function fn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Tt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Oo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=mr(t)?"checked":"value";t._valueTracker=Oo(t,i,""+t[i])}}function _s(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=mr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function hi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var vs=/[\n"\\]/g;function nn(t){return t.replace(vs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function la(t,i,a,l,h,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+kt(i)):t.value!==""+kt(i)&&(t.value=""+kt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Mo(t,_,kt(i)):a!=null?Mo(t,_,kt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+kt(S):t.removeAttribute("name")}function Eu(t,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+kt(a):"",i=i!=null?""+kt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function Mo(t,i,a){i==="number"&&hi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function pr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+kt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Tu(t,i,a){if(i!=null&&(i=""+kt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+kt(a):""}function gr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(It(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=kt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function rn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Su.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Vo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&xo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&xo(t,d,i[d])}function ua(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Au=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ca(t){return yr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Bn(){}var ko=null;function An(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _r=null,fi=null;function Es(t){var i=Sn(t);if(i&&(t=i.stateNode)){var a=t[Vt]||null;e:switch(t=i.stateNode,i.type){case"input":if(la(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+nn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Vt]||null;if(!h)throw Error(s(90));la(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&_s(l)}break e;case"textarea":Tu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&pr(t,!!a.multiple,i,!1)}}}var ha=!1;function vr(t,i,a){if(ha)return t(i,a);ha=!0;try{var l=t(i);return l}finally{if(ha=!1,(_r!==null||fi!==null)&&(gc(),_r&&(i=_r,t=fi,fi=_r=null,Es(i),t)))for(i=0;i<t.length;i++)Es(t[i])}}function Hn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Vt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ts=!1;if(bn)try{var $e={};Object.defineProperty($e,"passive",{get:function(){Ts=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{Ts=!1}var di=null,Lo=null,Ss=null;function Po(){if(Ss)return Ss;var t,i=Lo,a=i.length,l,h="value"in di?di.value:di.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ss=h.slice(t,1<l?1-l:void 0)}function As(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Mi(){return!0}function qn(){return!1}function zt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Mi:qn,this.isPropagationStopped=qn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),i}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=zt(xi),Er=T({},xi,{view:0,detail:0}),Uo=zt(Er),Tr,fa,pi,da=T({},Er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pi&&(pi&&t.type==="mousemove"?(Tr=t.screenX-pi.screenX,fa=t.screenY-pi.screenY):fa=Tr=0,pi=t),Tr)},movementY:function(t){return"movementY"in t?t.movementY:fa}}),jo=zt(da),bs=T({},da,{dataTransfer:0}),bu=zt(bs),wu=T({},Er,{relatedTarget:0}),ws=zt(wu),zo=T({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ru=zt(zo),ma=T({},xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cu=zt(ma),Iu=T({},xi,{data:0}),gi=zt(Iu),Nu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ou[t])?!!i[t]:!1}function Sr(){return Mu}var en=T({},Er,{key:function(t){if(t.key){var i=Nu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=As(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Du[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(t){return t.type==="keypress"?As(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?As(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xu=zt(en),Vu=T({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vi=zt(Vu),c=T({},Er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr}),g=zt(c),v=T({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=zt(v),j=T({},da,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=zt(j),re=T({},xi,{newState:0,oldState:0}),we=zt(re),dt=[9,13,27,32],He=bn&&"CompositionEvent"in window,st=null;bn&&"documentMode"in document&&(st=document.documentMode);var wn=bn&&"TextEvent"in window&&!st,yi=bn&&(!He||st&&8<st&&11>=st),Fn=" ",Gn=!1;function Rs(t,i){switch(t){case"keyup":return dt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ga=!1;function FS(t,i){switch(t){case"compositionend":return pa(i);case"keypress":return i.which!==32?null:(Gn=!0,Fn);case"textInput":return t=i.data,t===Fn&&Gn?null:t;default:return null}}function GS(t,i){if(ga)return t==="compositionend"||!He&&Rs(t,i)?(t=Po(),Ss=Lo=di=null,ga=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return yi&&i.locale!=="ko"?null:i.data;default:return null}}var YS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!YS[t.type]:i==="textarea"}function Fp(t,i,a,l){_r?fi?fi.push(l):fi=[l]:_r=l,i=Ac(i,"onChange"),0<i.length&&(a=new mi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Bo=null,Ho=null;function KS(t){R_(t,0)}function ku(t){var i=hn(t);if(_s(i))return t}function Gp(t,i){if(t==="change")return i}var Yp=!1;if(bn){var tf;if(bn){var nf="oninput"in document;if(!nf){var Kp=document.createElement("div");Kp.setAttribute("oninput","return;"),nf=typeof Kp.oninput=="function"}tf=nf}else tf=!1;Yp=tf&&(!document.documentMode||9<document.documentMode)}function Qp(){Bo&&(Bo.detachEvent("onpropertychange",Xp),Ho=Bo=null)}function Xp(t){if(t.propertyName==="value"&&ku(Ho)){var i=[];Fp(i,Ho,t,An(t)),vr(KS,i)}}function QS(t,i,a){t==="focusin"?(Qp(),Bo=i,Ho=a,Bo.attachEvent("onpropertychange",Xp)):t==="focusout"&&Qp()}function XS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ku(Ho)}function $S(t,i){if(t==="click")return ku(i)}function JS(t,i){if(t==="input"||t==="change")return ku(i)}function WS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var dn=typeof Object.is=="function"?Object.is:WS;function qo(t,i){if(dn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!yt.call(i,h)||!dn(t[h],i[h]))return!1}return!0}function $p(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jp(t,i){var a=$p(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=$p(a)}}function Wp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Wp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Zp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=hi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=hi(t.document)}return i}function rf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var ZS=bn&&"documentMode"in document&&11>=document.documentMode,ya=null,sf=null,Fo=null,af=!1;function eg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;af||ya==null||ya!==hi(l)||(l=ya,"selectionStart"in l&&rf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Fo&&qo(Fo,l)||(Fo=l,l=Ac(sf,"onSelect"),0<l.length&&(i=new mi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ya)))}function Cs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var _a={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionrun:Cs("Transition","TransitionRun"),transitionstart:Cs("Transition","TransitionStart"),transitioncancel:Cs("Transition","TransitionCancel"),transitionend:Cs("Transition","TransitionEnd")},of={},tg={};bn&&(tg=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function Is(t){if(of[t])return of[t];if(!_a[t])return t;var i=_a[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in tg)return of[t]=i[a];return t}var ng=Is("animationend"),ig=Is("animationiteration"),rg=Is("animationstart"),eA=Is("transitionrun"),tA=Is("transitionstart"),nA=Is("transitioncancel"),sg=Is("transitionend"),ag=new Map,lf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lf.push("scrollEnd");function Yn(t,i){ag.set(t,i),ui(i,[t])}var Lu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Rn=[],va=0,uf=0;function Pu(){for(var t=va,i=uf=va=0;i<t;){var a=Rn[i];Rn[i++]=null;var l=Rn[i];Rn[i++]=null;var h=Rn[i];Rn[i++]=null;var d=Rn[i];if(Rn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&og(a,h,d)}}function Uu(t,i,a,l){Rn[va++]=t,Rn[va++]=i,Rn[va++]=a,Rn[va++]=l,uf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function cf(t,i,a,l){return Uu(t,i,a,l),ju(t)}function Ns(t,i){return Uu(t,null,null,i),ju(t)}function og(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-ft(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function ju(t){if(50<fl)throw fl=0,vd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ea={};function iA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,i,a,l){return new iA(t,i,a,l)}function hf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ki(t,i){var a=t.alternate;return a===null?(a=mn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function lg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function zu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")hf(t)&&(_=1);else if(typeof t=="string")_=lb(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=mn(31,a,i,h),t.elementType=I,t.lanes=d,t;case K:return Ds(a.children,h,d,i);case B:_=8,h|=24;break;case J:return t=mn(12,a,i,h|2),t.elementType=J,t.lanes=d,t;case ye:return t=mn(13,a,i,h),t.elementType=ye,t.lanes=d,t;case pe:return t=mn(19,a,i,h),t.elementType=pe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:_=10;break e;case X:_=9;break e;case fe:_=11;break e;case N:_=14;break e;case b:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=mn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ds(t,i,a,l){return t=mn(7,t,l,i),t.lanes=a,t}function ff(t,i,a){return t=mn(6,t,null,i),t.lanes=a,t}function ug(t){var i=mn(18,null,null,0);return i.stateNode=t,i}function df(t,i,a){return i=mn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var cg=new WeakMap;function Cn(t,i){if(typeof t=="object"&&t!==null){var a=cg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:To(i)},cg.set(t,i),i)}return{value:t,source:i,stack:To(i)}}var Ta=[],Sa=0,Bu=null,Go=0,In=[],Nn=0,Ar=null,_i=1,vi="";function Li(t,i){Ta[Sa++]=Go,Ta[Sa++]=Bu,Bu=t,Go=i}function hg(t,i,a){In[Nn++]=_i,In[Nn++]=vi,In[Nn++]=Ar,Ar=t;var l=_i;t=vi;var h=32-ft(l)-1;l&=~(1<<h),a+=1;var d=32-ft(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,_i=1<<32-ft(i)+h|a<<h|l,vi=d+t}else _i=1<<d|a<<h|l,vi=t}function mf(t){t.return!==null&&(Li(t,1),hg(t,1,0))}function pf(t){for(;t===Bu;)Bu=Ta[--Sa],Ta[Sa]=null,Go=Ta[--Sa],Ta[Sa]=null;for(;t===Ar;)Ar=In[--Nn],In[Nn]=null,vi=In[--Nn],In[Nn]=null,_i=In[--Nn],In[Nn]=null}function fg(t,i){In[Nn++]=_i,In[Nn++]=vi,In[Nn++]=Ar,_i=i.id,vi=i.overflow,Ar=t}var Bt=null,tt=null,Le=!1,br=null,Dn=!1,gf=Error(s(519));function wr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yo(Cn(i,t)),gf}function dg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[vt]=t,i[Vt]=l,a){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(a=0;a<ml.length;a++)De(ml[a],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),Eu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),gr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||D_(i.textContent,a)?(l.popover!=null&&(De("beforetoggle",i),De("toggle",i)),l.onScroll!=null&&De("scroll",i),l.onScrollEnd!=null&&De("scrollend",i),l.onClick!=null&&(i.onclick=Bn),i=!0):i=!1,i||wr(t,!0)}function mg(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Bt=Bt.return}}function Aa(t){if(t!==Bt)return!1;if(!Le)return mg(t),Le=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Vd(t.type,t.memoizedProps)),a=!a),a&&tt&&wr(t),mg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=j_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=j_(t)}else i===27?(i=tt,jr(t.type)?(t=jd,jd=null,tt=t):tt=i):tt=Bt?Mn(t.stateNode.nextSibling):null;return!0}function Os(){tt=Bt=null,Le=!1}function yf(){var t=br;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),br=null),t}function Yo(t){br===null?br=[t]:br.push(t)}var _f=V(null),Ms=null,Pi=null;function Rr(t,i,a){ae(_f,i._currentValue),i._currentValue=a}function Ui(t){t._currentValue=_f.current,ee(_f)}function vf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Ef(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var O=0;O<i.length;O++)if(S.context===i[O]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),vf(d.return,a,t),l||(_=null);break e}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),vf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function ba(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;dn(h.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(h===Pe.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(vl):t=[vl])}h=h.return}t!==null&&Ef(i,t,a,l),i.flags|=262144}function Hu(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function xs(t){Ms=t,Pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return pg(Ms,t)}function qu(t,i){return Ms===null&&xs(t),pg(t,i)}function pg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Pi===null){if(t===null)throw Error(s(308));Pi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Pi=Pi.next=i;return a}var rA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},sA=r.unstable_scheduleCallback,aA=r.unstable_NormalPriority,St={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tf(){return{controller:new rA,data:new Map,refCount:0}}function Ko(t){t.refCount--,t.refCount===0&&sA(aA,function(){t.controller.abort()})}var Qo=null,Sf=0,wa=0,Ra=null;function oA(t,i){if(Qo===null){var a=Qo=[];Sf=0,wa=wd(),Ra={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Sf++,i.then(gg,gg),i}function gg(){if(--Sf===0&&Qo!==null){Ra!==null&&(Ra.status="fulfilled");var t=Qo;Qo=null,wa=0,Ra=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function lA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var yg=$.S;$.S=function(t,i){e_=Zt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&oA(t,i),yg!==null&&yg(t,i)};var Vs=V(null);function Af(){var t=Vs.current;return t!==null?t:et.pooledCache}function Fu(t,i){i===null?ae(Vs,Vs.current):ae(Vs,i.pool)}function _g(){var t=Af();return t===null?null:{parent:St._currentValue,pool:t}}var Ca=Error(s(460)),bf=Error(s(474)),Gu=Error(s(542)),Yu={then:function(){}};function vg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Eg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Bn,Bn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Sg(t),t;default:if(typeof i.status=="string")i.then(Bn,Bn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Sg(t),t}throw Ls=i,Ca}}function ks(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ls=a,Ca):a}}var Ls=null;function Tg(){if(Ls===null)throw Error(s(459));var t=Ls;return Ls=null,t}function Sg(t){if(t===Ca||t===Gu)throw Error(s(483))}var Ia=null,Xo=0;function Ku(t){var i=Xo;return Xo+=1,Ia===null&&(Ia=[]),Eg(Ia,t,i)}function $o(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Qu(t,i){throw i.$$typeof===R?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ag(t){function i(P,x){if(t){var H=P.deletions;H===null?(P.deletions=[x],P.flags|=16):H.push(x)}}function a(P,x){if(!t)return null;for(;x!==null;)i(P,x),x=x.sibling;return null}function l(P){for(var x=new Map;P!==null;)P.key!==null?x.set(P.key,P):x.set(P.index,P),P=P.sibling;return x}function h(P,x){return P=ki(P,x),P.index=0,P.sibling=null,P}function d(P,x,H){return P.index=H,t?(H=P.alternate,H!==null?(H=H.index,H<x?(P.flags|=67108866,x):H):(P.flags|=67108866,x)):(P.flags|=1048576,x)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function S(P,x,H,W){return x===null||x.tag!==6?(x=ff(H,P.mode,W),x.return=P,x):(x=h(x,H),x.return=P,x)}function O(P,x,H,W){var de=H.type;return de===K?Q(P,x,H.props.children,W,H.key):x!==null&&(x.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===b&&ks(de)===x.type)?(x=h(x,H.props),$o(x,H),x.return=P,x):(x=zu(H.type,H.key,H.props,null,P.mode,W),$o(x,H),x.return=P,x)}function q(P,x,H,W){return x===null||x.tag!==4||x.stateNode.containerInfo!==H.containerInfo||x.stateNode.implementation!==H.implementation?(x=df(H,P.mode,W),x.return=P,x):(x=h(x,H.children||[]),x.return=P,x)}function Q(P,x,H,W,de){return x===null||x.tag!==7?(x=Ds(H,P.mode,W,de),x.return=P,x):(x=h(x,H),x.return=P,x)}function Z(P,x,H){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=ff(""+x,P.mode,H),x.return=P,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case k:return H=zu(x.type,x.key,x.props,null,P.mode,H),$o(H,x),H.return=P,H;case z:return x=df(x,P.mode,H),x.return=P,x;case b:return x=ks(x),Z(P,x,H)}if(It(x)||L(x))return x=Ds(x,P.mode,H,null),x.return=P,x;if(typeof x.then=="function")return Z(P,Ku(x),H);if(x.$$typeof===ne)return Z(P,qu(P,x),H);Qu(P,x)}return null}function F(P,x,H,W){var de=x!==null?x.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return de!==null?null:S(P,x,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case k:return H.key===de?O(P,x,H,W):null;case z:return H.key===de?q(P,x,H,W):null;case b:return H=ks(H),F(P,x,H,W)}if(It(H)||L(H))return de!==null?null:Q(P,x,H,W,null);if(typeof H.then=="function")return F(P,x,Ku(H),W);if(H.$$typeof===ne)return F(P,x,qu(P,H),W);Qu(P,H)}return null}function Y(P,x,H,W,de){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return P=P.get(H)||null,S(x,P,""+W,de);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case k:return P=P.get(W.key===null?H:W.key)||null,O(x,P,W,de);case z:return P=P.get(W.key===null?H:W.key)||null,q(x,P,W,de);case b:return W=ks(W),Y(P,x,H,W,de)}if(It(W)||L(W))return P=P.get(H)||null,Q(x,P,W,de,null);if(typeof W.then=="function")return Y(P,x,H,Ku(W),de);if(W.$$typeof===ne)return Y(P,x,H,qu(x,W),de);Qu(x,W)}return null}function ue(P,x,H,W){for(var de=null,ze=null,ce=x,Ie=x=0,Me=null;ce!==null&&Ie<H.length;Ie++){ce.index>Ie?(Me=ce,ce=null):Me=ce.sibling;var Be=F(P,ce,H[Ie],W);if(Be===null){ce===null&&(ce=Me);break}t&&ce&&Be.alternate===null&&i(P,ce),x=d(Be,x,Ie),ze===null?de=Be:ze.sibling=Be,ze=Be,ce=Me}if(Ie===H.length)return a(P,ce),Le&&Li(P,Ie),de;if(ce===null){for(;Ie<H.length;Ie++)ce=Z(P,H[Ie],W),ce!==null&&(x=d(ce,x,Ie),ze===null?de=ce:ze.sibling=ce,ze=ce);return Le&&Li(P,Ie),de}for(ce=l(ce);Ie<H.length;Ie++)Me=Y(ce,P,Ie,H[Ie],W),Me!==null&&(t&&Me.alternate!==null&&ce.delete(Me.key===null?Ie:Me.key),x=d(Me,x,Ie),ze===null?de=Me:ze.sibling=Me,ze=Me);return t&&ce.forEach(function(Fr){return i(P,Fr)}),Le&&Li(P,Ie),de}function _e(P,x,H,W){if(H==null)throw Error(s(151));for(var de=null,ze=null,ce=x,Ie=x=0,Me=null,Be=H.next();ce!==null&&!Be.done;Ie++,Be=H.next()){ce.index>Ie?(Me=ce,ce=null):Me=ce.sibling;var Fr=F(P,ce,Be.value,W);if(Fr===null){ce===null&&(ce=Me);break}t&&ce&&Fr.alternate===null&&i(P,ce),x=d(Fr,x,Ie),ze===null?de=Fr:ze.sibling=Fr,ze=Fr,ce=Me}if(Be.done)return a(P,ce),Le&&Li(P,Ie),de;if(ce===null){for(;!Be.done;Ie++,Be=H.next())Be=Z(P,Be.value,W),Be!==null&&(x=d(Be,x,Ie),ze===null?de=Be:ze.sibling=Be,ze=Be);return Le&&Li(P,Ie),de}for(ce=l(ce);!Be.done;Ie++,Be=H.next())Be=Y(ce,P,Ie,Be.value,W),Be!==null&&(t&&Be.alternate!==null&&ce.delete(Be.key===null?Ie:Be.key),x=d(Be,x,Ie),ze===null?de=Be:ze.sibling=Be,ze=Be);return t&&ce.forEach(function(vb){return i(P,vb)}),Le&&Li(P,Ie),de}function Ze(P,x,H,W){if(typeof H=="object"&&H!==null&&H.type===K&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case k:e:{for(var de=H.key;x!==null;){if(x.key===de){if(de=H.type,de===K){if(x.tag===7){a(P,x.sibling),W=h(x,H.props.children),W.return=P,P=W;break e}}else if(x.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===b&&ks(de)===x.type){a(P,x.sibling),W=h(x,H.props),$o(W,H),W.return=P,P=W;break e}a(P,x);break}else i(P,x);x=x.sibling}H.type===K?(W=Ds(H.props.children,P.mode,W,H.key),W.return=P,P=W):(W=zu(H.type,H.key,H.props,null,P.mode,W),$o(W,H),W.return=P,P=W)}return _(P);case z:e:{for(de=H.key;x!==null;){if(x.key===de)if(x.tag===4&&x.stateNode.containerInfo===H.containerInfo&&x.stateNode.implementation===H.implementation){a(P,x.sibling),W=h(x,H.children||[]),W.return=P,P=W;break e}else{a(P,x);break}else i(P,x);x=x.sibling}W=df(H,P.mode,W),W.return=P,P=W}return _(P);case b:return H=ks(H),Ze(P,x,H,W)}if(It(H))return ue(P,x,H,W);if(L(H)){if(de=L(H),typeof de!="function")throw Error(s(150));return H=de.call(H),_e(P,x,H,W)}if(typeof H.then=="function")return Ze(P,x,Ku(H),W);if(H.$$typeof===ne)return Ze(P,x,qu(P,H),W);Qu(P,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,x!==null&&x.tag===6?(a(P,x.sibling),W=h(x,H),W.return=P,P=W):(a(P,x),W=ff(H,P.mode,W),W.return=P,P=W),_(P)):a(P,x)}return function(P,x,H,W){try{Xo=0;var de=Ze(P,x,H,W);return Ia=null,de}catch(ce){if(ce===Ca||ce===Gu)throw ce;var ze=mn(29,ce,null,P.mode);return ze.lanes=W,ze.return=P,ze}finally{}}}var Ps=Ag(!0),bg=Ag(!1),Cr=!1;function wf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ir(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Nr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ju(t),og(t,null,a),i}return Uu(t,l,i,a),ju(t)}function Jo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,bo(t,a)}}function Cf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var If=!1;function Wo(){if(If){var t=Ra;if(t!==null)throw t}}function Zo(t,i,a,l){If=!1;var h=t.updateQueue;Cr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var O=S,q=O.next;O.next=null,_===null?d=q:_.next=q,_=O;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,S=Q.lastBaseUpdate,S!==_&&(S===null?Q.firstBaseUpdate=q:S.next=q,Q.lastBaseUpdate=O))}if(d!==null){var Z=h.baseState;_=0,Q=q=O=null,S=d;do{var F=S.lane&-536870913,Y=F!==S.lane;if(Y?(Oe&F)===F:(l&F)===F){F!==0&&F===wa&&(If=!0),Q!==null&&(Q=Q.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ue=t,_e=S;F=i;var Ze=a;switch(_e.tag){case 1:if(ue=_e.payload,typeof ue=="function"){Z=ue.call(Ze,Z,F);break e}Z=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=_e.payload,F=typeof ue=="function"?ue.call(Ze,Z,F):ue,F==null)break e;Z=T({},Z,F);break e;case 2:Cr=!0}}F=S.callback,F!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Q===null?(q=Q=Y,O=Z):Q=Q.next=Y,_|=F;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);Q===null&&(O=Z),h.baseState=O,h.firstBaseUpdate=q,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),Vr|=_,t.lanes=_,t.memoizedState=Z}}function wg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Rg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)wg(a[t],i)}var Na=V(null),Xu=V(0);function Cg(t,i){t=Ki,ae(Xu,t),ae(Na,i),Ki=t|i.baseLanes}function Nf(){ae(Xu,Ki),ae(Na,Na.current)}function Df(){Ki=Xu.current,ee(Na),ee(Xu)}var pn=V(null),On=null;function Dr(t){var i=t.alternate;ae(mt,mt.current&1),ae(pn,t),On===null&&(i===null||Na.current!==null||i.memoizedState!==null)&&(On=t)}function Of(t){ae(mt,mt.current),ae(pn,t),On===null&&(On=t)}function Ig(t){t.tag===22?(ae(mt,mt.current),ae(pn,t),On===null&&(On=t)):Or()}function Or(){ae(mt,mt.current),ae(pn,pn.current)}function gn(t){ee(pn),On===t&&(On=null),ee(mt)}var mt=V(0);function $u(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Pd(a)||Ud(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ji=0,Re=null,Je=null,At=null,Ju=!1,Da=!1,Us=!1,Wu=0,el=0,Oa=null,uA=0;function ct(){throw Error(s(321))}function Mf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!dn(t[a],i[a]))return!1;return!0}function xf(t,i,a,l,h,d){return ji=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=t===null||t.memoizedState===null?hy:Qf,Us=!1,d=a(l,h),Us=!1,Da&&(d=Dg(i,a,l,h)),Ng(t),d}function Ng(t){$.H=il;var i=Je!==null&&Je.next!==null;if(ji=0,At=Je=Re=null,Ju=!1,el=0,Oa=null,i)throw Error(s(300));t===null||bt||(t=t.dependencies,t!==null&&Hu(t)&&(bt=!0))}function Dg(t,i,a,l){Re=t;var h=0;do{if(Da&&(Oa=null),el=0,Da=!1,25<=h)throw Error(s(301));if(h+=1,At=Je=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=fy,d=i(a,l)}while(Da);return d}function cA(){var t=$.H,i=t.useState()[0];return i=typeof i.then=="function"?tl(i):i,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Re.flags|=1024),i}function Vf(){var t=Wu!==0;return Wu=0,t}function kf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Lf(t){if(Ju){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ju=!1}ji=0,At=Je=Re=null,Da=!1,el=Wu=0,Oa=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Re.memoizedState=At=t:At=At.next=t,At}function pt(){if(Je===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var i=At===null?Re.memoizedState:At.next;if(i!==null)At=i,Je=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},At===null?Re.memoizedState=At=t:At=At.next=t}return At}function Zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(t){var i=el;return el+=1,Oa===null&&(Oa=[]),t=Eg(Oa,t,i),i=Re,(At===null?i.memoizedState:At.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?hy:Qf),t}function ec(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return tl(t);if(t.$$typeof===ne)return Ht(t)}throw Error(s(438,String(t)))}function Pf(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Zu(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function zi(t,i){return typeof i=="function"?i(t):i}function tc(t){var i=pt();return Uf(i,Je,t)}function Uf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=_=null,O=null,q=i,Q=!1;do{var Z=q.lane&-536870913;if(Z!==q.lane?(Oe&Z)===Z:(ji&Z)===Z){var F=q.revertLane;if(F===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),Z===wa&&(Q=!0);else if((ji&F)===F){q=q.next,F===wa&&(Q=!0);continue}else Z={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(S=O=Z,_=d):O=O.next=Z,Re.lanes|=F,Vr|=F;Z=q.action,Us&&a(d,Z),d=q.hasEagerState?q.eagerState:a(d,Z)}else F={lane:Z,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(S=O=F,_=d):O=O.next=F,Re.lanes|=Z,Vr|=Z;q=q.next}while(q!==null&&q!==i);if(O===null?_=d:O.next=S,!dn(d,t.memoizedState)&&(bt=!0,Q&&(a=Ra,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=O,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function jf(t){var i=pt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);dn(d,i.memoizedState)||(bt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Og(t,i,a){var l=Re,h=pt(),d=Le;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!dn((Je||h).memoizedState,a);if(_&&(h.memoizedState=a,bt=!0),h=h.queue,Hf(Vg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,Ma(9,{destroy:void 0},xg.bind(null,l,h,a,i),null),et===null)throw Error(s(349));d||(ji&127)!==0||Mg(l,i,a)}return a}function Mg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=Zu(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function xg(t,i,a,l){i.value=a,i.getSnapshot=l,kg(i)&&Lg(t)}function Vg(t,i,a){return a(function(){kg(i)&&Lg(t)})}function kg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!dn(t,a)}catch{return!0}}function Lg(t){var i=Ns(t,2);i!==null&&un(i,t,2)}function zf(t){var i=tn();if(typeof t=="function"){var a=t;if(t=a(),Us){Tn(!0);try{a()}finally{Tn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:t},i}function Pg(t,i,a,l){return t.baseState=a,Uf(t,Je,typeof l=="function"?l:zi)}function hA(t,i,a,l,h){if(rc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ug(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ug(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=$.T,_={};$.T=_;try{var S=a(h,l),O=$.S;O!==null&&O(_,S),jg(t,i,S)}catch(q){Bf(t,i,q)}finally{d!==null&&_.types!==null&&(d.types=_.types),$.T=d}}else try{d=a(h,l),jg(t,i,d)}catch(q){Bf(t,i,q)}}function jg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){zg(t,i,l)},function(l){return Bf(t,i,l)}):zg(t,i,a)}function zg(t,i,a){i.status="fulfilled",i.value=a,Bg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ug(t,a)))}function Bf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Bg(i),i=i.next;while(i!==l)}t.action=null}function Bg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Hg(t,i){return i}function qg(t,i){if(Le){var a=et.formState;if(a!==null){e:{var l=Re;if(Le){if(tt){t:{for(var h=tt,d=Dn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Mn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){tt=Mn(h.nextSibling),l=h.data==="F!";break e}}wr(l)}l=!1}l&&(i=a[0])}}return a=tn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hg,lastRenderedState:i},a.queue=l,a=ly.bind(null,Re,l),l.dispatch=a,l=zf(!1),d=Kf.bind(null,Re,!1,l.queue),l=tn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=hA.bind(null,Re,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Fg(t){var i=pt();return Gg(i,Je,t)}function Gg(t,i,a){if(i=Uf(t,i,Hg)[0],t=tc(zi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=tl(i)}catch(_){throw _===Ca?Gu:_}else l=i;i=pt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,Ma(9,{destroy:void 0},fA.bind(null,h,a),null)),[l,d,t]}function fA(t,i){t.action=i}function Yg(t){var i=pt(),a=Je;if(a!==null)return Gg(i,a,t);pt(),i=i.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ma(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=Zu(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Kg(){return pt().memoizedState}function nc(t,i,a,l){var h=tn();Re.flags|=t,h.memoizedState=Ma(1|i,{destroy:void 0},a,l===void 0?null:l)}function ic(t,i,a,l){var h=pt();l=l===void 0?null:l;var d=h.memoizedState.inst;Je!==null&&l!==null&&Mf(l,Je.memoizedState.deps)?h.memoizedState=Ma(i,d,a,l):(Re.flags|=t,h.memoizedState=Ma(1|i,d,a,l))}function Qg(t,i){nc(8390656,8,t,i)}function Hf(t,i){ic(2048,8,t,i)}function dA(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=Zu(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Xg(t){var i=pt().memoizedState;return dA({ref:i,nextImpl:t}),function(){if((qe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function $g(t,i){return ic(4,2,t,i)}function Jg(t,i){return ic(4,4,t,i)}function Wg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Zg(t,i,a){a=a!=null?a.concat([t]):null,ic(4,4,Wg.bind(null,i,t),a)}function qf(){}function ey(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Mf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function ty(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Mf(i,l[1]))return l[0];if(l=t(),Us){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,i],l}function Ff(t,i,a){return a===void 0||(ji&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=n_(),Re.lanes|=t,Vr|=t,a)}function ny(t,i,a,l){return dn(a,i)?a:Na.current!==null?(t=Ff(t,a,l),dn(t,i)||(bt=!0),t):(ji&42)===0||(ji&1073741824)!==0&&(Oe&261930)===0?(bt=!0,t.memoizedState=a):(t=n_(),Re.lanes|=t,Vr|=t,i)}function iy(t,i,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var _=$.T,S={};$.T=S,Kf(t,!1,i,a);try{var O=h(),q=$.S;if(q!==null&&q(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Q=lA(O,l);nl(t,i,Q,vn(t))}else nl(t,i,l,vn(t))}catch(Z){nl(t,i,{then:function(){},status:"rejected",reason:Z},vn())}finally{se.p=d,_!==null&&S.types!==null&&(_.types=S.types),$.T=_}}function mA(){}function Gf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=ry(t).queue;iy(t,h,i,me,a===null?mA:function(){return sy(t),a(l)})}function ry(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function sy(t){var i=ry(t);i.next===null&&(i=t.alternate.memoizedState),nl(t,i.next.queue,{},vn())}function Yf(){return Ht(vl)}function ay(){return pt().memoizedState}function oy(){return pt().memoizedState}function pA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=vn();t=Ir(a);var l=Nr(i,t,a);l!==null&&(un(l,i,a),Jo(l,i,a)),i={cache:Tf()},t.payload=i;return}i=i.return}}function gA(t,i,a){var l=vn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},rc(t)?uy(i,a):(a=cf(t,i,a,l),a!==null&&(un(a,t,l),cy(a,i,l)))}function ly(t,i,a){var l=vn();nl(t,i,a,l)}function nl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(rc(t))uy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,dn(S,_))return Uu(t,i,h,0),et===null&&Pu(),!1}catch{}finally{}if(a=cf(t,i,h,l),a!==null)return un(a,t,l),cy(a,i,l),!0}return!1}function Kf(t,i,a,l){if(l={lane:2,revertLane:wd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},rc(t)){if(i)throw Error(s(479))}else i=cf(t,a,l,2),i!==null&&un(i,t,2)}function rc(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function uy(t,i){Da=Ju=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function cy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,bo(t,a)}}var il={readContext:Ht,use:ec,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};il.useEffectEvent=ct;var hy={readContext:Ht,use:ec,useCallback:function(t,i){return tn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:Qg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,nc(4194308,4,Wg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return nc(4194308,4,t,i)},useInsertionEffect:function(t,i){nc(4,2,t,i)},useMemo:function(t,i){var a=tn();i=i===void 0?null:i;var l=t();if(Us){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=tn();if(a!==void 0){var h=a(i);if(Us){Tn(!0);try{a(i)}finally{Tn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=gA.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=tn();return t={current:t},i.memoizedState=t},useState:function(t){t=zf(t);var i=t.queue,a=ly.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:qf,useDeferredValue:function(t,i){var a=tn();return Ff(a,t,i)},useTransition:function(){var t=zf(!1);return t=iy.bind(null,Re,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,h=tn();if(Le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(Oe&127)!==0||Mg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Qg(Vg.bind(null,l,d,t),[t]),l.flags|=2048,Ma(9,{destroy:void 0},xg.bind(null,l,d,a,i),null),a},useId:function(){var t=tn(),i=et.identifierPrefix;if(Le){var a=vi,l=_i;a=(l&~(1<<32-ft(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Wu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=uA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Yf,useFormState:qg,useActionState:qg,useOptimistic:function(t){var i=tn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Kf.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:Pf,useCacheRefresh:function(){return tn().memoizedState=pA.bind(null,Re)},useEffectEvent:function(t){var i=tn(),a={impl:t};return i.memoizedState=a,function(){if((qe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Qf={readContext:Ht,use:ec,useCallback:ey,useContext:Ht,useEffect:Hf,useImperativeHandle:Zg,useInsertionEffect:$g,useLayoutEffect:Jg,useMemo:ty,useReducer:tc,useRef:Kg,useState:function(){return tc(zi)},useDebugValue:qf,useDeferredValue:function(t,i){var a=pt();return ny(a,Je.memoizedState,t,i)},useTransition:function(){var t=tc(zi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:tl(t),i]},useSyncExternalStore:Og,useId:ay,useHostTransitionStatus:Yf,useFormState:Fg,useActionState:Fg,useOptimistic:function(t,i){var a=pt();return Pg(a,Je,t,i)},useMemoCache:Pf,useCacheRefresh:oy};Qf.useEffectEvent=Xg;var fy={readContext:Ht,use:ec,useCallback:ey,useContext:Ht,useEffect:Hf,useImperativeHandle:Zg,useInsertionEffect:$g,useLayoutEffect:Jg,useMemo:ty,useReducer:jf,useRef:Kg,useState:function(){return jf(zi)},useDebugValue:qf,useDeferredValue:function(t,i){var a=pt();return Je===null?Ff(a,t,i):ny(a,Je.memoizedState,t,i)},useTransition:function(){var t=jf(zi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:tl(t),i]},useSyncExternalStore:Og,useId:ay,useHostTransitionStatus:Yf,useFormState:Yg,useActionState:Yg,useOptimistic:function(t,i){var a=pt();return Je!==null?Pg(a,Je,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Pf,useCacheRefresh:oy};fy.useEffectEvent=Xg;function Xf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var $f={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=vn(),h=Ir(l);h.payload=i,a!=null&&(h.callback=a),i=Nr(t,h,l),i!==null&&(un(i,t,l),Jo(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=vn(),h=Ir(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Nr(t,h,l),i!==null&&(un(i,t,l),Jo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=vn(),l=Ir(a);l.tag=2,i!=null&&(l.callback=i),i=Nr(t,l,a),i!==null&&(un(i,t,a),Jo(i,t,a))}};function dy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!qo(a,l)||!qo(h,d):!0}function my(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&$f.enqueueReplaceState(i,i.state,null)}function js(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function py(t){Lu(t)}function gy(t){console.error(t)}function yy(t){Lu(t)}function sc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function _y(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Jf(t,i,a){return a=Ir(a),a.tag=3,a.payload={element:null},a.callback=function(){sc(t,i)},a}function vy(t){return t=Ir(t),t.tag=3,t}function Ey(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){_y(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){_y(i,a,l),typeof h!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function yA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ba(i,a,h,!0),a=pn.current,a!==null){switch(a.tag){case 31:case 13:return On===null?yc():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Yu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Sd(t,l,h)),!1;case 22:return a.flags|=65536,l===Yu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Sd(t,l,h)),!1}throw Error(s(435,a.tag))}return Sd(t,l,h),yc(),!1}if(Le)return i=pn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==gf&&(t=Error(s(422),{cause:l}),Yo(Cn(t,a)))):(l!==gf&&(i=Error(s(423),{cause:l}),Yo(Cn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Cn(l,a),h=Jf(t.stateNode,l,h),Cf(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=Cn(d,a),hl===null?hl=[d]:hl.push(d),ht!==4&&(ht=2),i===null)return!0;l=Cn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Jf(a.stateNode,l,t),Cf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(kr===null||!kr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=vy(h),Ey(h,t,a,l),Cf(a,h),!1}a=a.return}while(a!==null);return!1}var Wf=Error(s(461)),bt=!1;function qt(t,i,a,l){i.child=t===null?bg(i,null,a,l):Ps(i,t.child,a,l)}function Ty(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return xs(i),l=xf(t,i,a,_,d,h),S=Vf(),t!==null&&!bt?(kf(t,i,h),Bi(t,i,h)):(Le&&S&&mf(i),i.flags|=1,qt(t,i,l,h),i.child)}function Sy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!hf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ay(t,i,d,l,h)):(t=zu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!ad(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:qo,a(_,l)&&t.ref===i.ref)return Bi(t,i,h)}return i.flags|=1,t=ki(d,l),t.ref=i.ref,t.return=i,i.child=t}function Ay(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(qo(d,l)&&t.ref===i.ref)if(bt=!1,i.pendingProps=l=d,ad(t,h))(t.flags&131072)!==0&&(bt=!0);else return i.lanes=t.lanes,Bi(t,i,h)}return Zf(t,i,a,l,h)}function by(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return wy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Fu(i,d!==null?d.cachePool:null),d!==null?Cg(i,d):Nf(),Ig(i);else return l=i.lanes=536870912,wy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Fu(i,d.cachePool),Cg(i,d),Or(),i.memoizedState=null):(t!==null&&Fu(i,null),Nf(),Or());return qt(t,i,h,a),i.child}function rl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function wy(t,i,a,l,h){var d=Af();return d=d===null?null:{parent:St._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Fu(i,null),Nf(),Ig(i),t!==null&&ba(t,i,l,!0),i.childLanes=h,null}function ac(t,i){return i=lc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Ry(t,i,a){return Ps(i,t.child,null,a),t=ac(i,i.pendingProps),t.flags|=2,gn(i),i.memoizedState=null,t}function _A(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=ac(i,l),i.lanes=536870912,rl(null,t);if(Of(i),(t=tt)?(t=U_(t,Dn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ar!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=ug(t),a.return=i,i.child=a,Bt=i,tt=null)):t=null,t===null)throw wr(i);return i.lanes=536870912,null}return ac(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Of(i),h)if(i.flags&256)i.flags&=-257,i=Ry(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(bt||ba(t,i,a,!1),h=(a&t.childLanes)!==0,bt||h){if(l=et,l!==null&&(_=wo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ns(t,_),un(l,t,_),Wf;yc(),i=Ry(t,i,a)}else t=d.treeContext,tt=Mn(_.nextSibling),Bt=i,Le=!0,br=null,Dn=!1,t!==null&&fg(i,t),i=ac(i,l),i.flags|=4096;return i}return t=ki(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function oc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Zf(t,i,a,l,h){return xs(i),a=xf(t,i,a,l,void 0,h),l=Vf(),t!==null&&!bt?(kf(t,i,h),Bi(t,i,h)):(Le&&l&&mf(i),i.flags|=1,qt(t,i,a,h),i.child)}function Cy(t,i,a,l,h,d){return xs(i),i.updateQueue=null,a=Dg(i,l,a,h),Ng(t),l=Vf(),t!==null&&!bt?(kf(t,i,d),Bi(t,i,d)):(Le&&l&&mf(i),i.flags|=1,qt(t,i,a,d),i.child)}function Iy(t,i,a,l,h){if(xs(i),i.stateNode===null){var d=Ea,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ht(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=$f,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},wf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ht(_):Ea,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Xf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&$f.enqueueReplaceState(d,d.state,null),Zo(i,l,d,h),Wo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,O=js(a,S);d.props=O;var q=d.context,Q=a.contextType;_=Ea,typeof Q=="object"&&Q!==null&&(_=Ht(Q));var Z=a.getDerivedStateFromProps;Q=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||q!==_)&&my(i,d,l,_),Cr=!1;var F=i.memoizedState;d.state=F,Zo(i,l,d,h),Wo(),q=i.memoizedState,S||F!==q||Cr?(typeof Z=="function"&&(Xf(i,a,Z,l),q=i.memoizedState),(O=Cr||dy(i,a,O,l,F,q,_))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=_,l=O):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Rf(t,i),_=i.memoizedProps,Q=js(a,_),d.props=Q,Z=i.pendingProps,F=d.context,q=a.contextType,O=Ea,typeof q=="object"&&q!==null&&(O=Ht(q)),S=a.getDerivedStateFromProps,(q=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||F!==O)&&my(i,d,l,O),Cr=!1,F=i.memoizedState,d.state=F,Zo(i,l,d,h),Wo();var Y=i.memoizedState;_!==Z||F!==Y||Cr||t!==null&&t.dependencies!==null&&Hu(t.dependencies)?(typeof S=="function"&&(Xf(i,a,S,l),Y=i.memoizedState),(Q=Cr||dy(i,a,Q,l,F,Y,O)||t!==null&&t.dependencies!==null&&Hu(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,O)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=O,l=Q):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,oc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ps(i,t.child,null,h),i.child=Ps(i,null,a,h)):qt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Bi(t,i,h),t}function Ny(t,i,a,l){return Os(),i.flags|=256,qt(t,i,a,l),i.child}var ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function td(t){return{baseLanes:t,cachePool:_g()}}function nd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=_n),t}function Dy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Le){if(h?Dr(i):Or(),(t=tt)?(t=U_(t,Dn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ar!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=ug(t),a.return=i,i.child=a,Bt=i,tt=null)):t=null,t===null)throw wr(i);return Ud(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(Or(),h=i.mode,S=lc({mode:"hidden",children:S},h),l=Ds(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=td(a),l.childLanes=nd(t,_,a),i.memoizedState=ed,rl(null,l)):(Dr(i),id(i,S))}var O=t.memoizedState;if(O!==null&&(S=O.dehydrated,S!==null)){if(d)i.flags&256?(Dr(i),i.flags&=-257,i=rd(t,i,a)):i.memoizedState!==null?(Or(),i.child=t.child,i.flags|=128,i=null):(Or(),S=l.fallback,h=i.mode,l=lc({mode:"visible",children:l.children},h),S=Ds(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Ps(i,t.child,null,a),l=i.child,l.memoizedState=td(a),l.childLanes=nd(t,_,a),i.memoizedState=ed,i=rl(null,l));else if(Dr(i),Ud(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(s(419)),l.stack="",l.digest=_,Yo({value:l,source:null,stack:null}),i=rd(t,i,a)}else if(bt||ba(t,i,a,!1),_=(a&t.childLanes)!==0,bt||_){if(_=et,_!==null&&(l=wo(_,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,Ns(t,l),un(_,t,l),Wf;Pd(S)||yc(),i=rd(t,i,a)}else Pd(S)?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,tt=Mn(S.nextSibling),Bt=i,Le=!0,br=null,Dn=!1,t!==null&&fg(i,t),i=id(i,l.children),i.flags|=4096);return i}return h?(Or(),S=l.fallback,h=i.mode,O=t.child,q=O.sibling,l=ki(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,q!==null?S=ki(q,S):(S=Ds(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,rl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=td(a):(h=S.cachePool,h!==null?(O=St._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=_g(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=nd(t,_,a),i.memoizedState=ed,rl(t.child,l)):(Dr(i),a=t.child,t=a.sibling,a=ki(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function id(t,i){return i=lc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function lc(t,i){return t=mn(22,t,null,i),t.lanes=0,t}function rd(t,i,a){return Ps(i,t.child,null,a),t=id(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Oy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),vf(t.return,i,a)}function sd(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function My(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=mt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,ae(mt,_),qt(t,i,l,a),l=Le?Go:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Oy(t,a,i);else if(t.tag===19)Oy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&$u(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),sd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&$u(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}sd(i,!0,a,null,d,l);break;case"together":sd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Bi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Vr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(ba(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=ki(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ki(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function ad(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Hu(t)))}function vA(t,i,a){switch(i.tag){case 3:Nt(i,i.stateNode.containerInfo),Rr(i,St,t.memoizedState.cache),Os();break;case 27:case 5:hs(i);break;case 4:Nt(i,i.stateNode.containerInfo);break;case 10:Rr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Of(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Dr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Dy(t,i,a):(Dr(i),t=Bi(t,i,a),t!==null?t.sibling:null);Dr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ba(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return My(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(mt,mt.current),l)break;return null;case 22:return i.lanes=0,by(t,i,a,i.pendingProps);case 24:Rr(i,St,t.memoizedState.cache)}return Bi(t,i,a)}function xy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)bt=!0;else{if(!ad(t,a)&&(i.flags&128)===0)return bt=!1,vA(t,i,a);bt=(t.flags&131072)!==0}else bt=!1,Le&&(i.flags&1048576)!==0&&hg(i,Go,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=ks(i.elementType),i.type=t,typeof t=="function")hf(t)?(l=js(t,l),i.tag=1,i=Iy(null,i,t,l,a)):(i.tag=0,i=Zf(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===fe){i.tag=11,i=Ty(null,i,t,l,a);break e}else if(h===N){i.tag=14,i=Sy(null,i,t,l,a);break e}}throw i=Fe(t)||t,Error(s(306,i,""))}}return i;case 0:return Zf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=js(l,i.pendingProps),Iy(t,i,l,h,a);case 3:e:{if(Nt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Rf(t,i),Zo(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Rr(i,St,l),l!==d.cache&&Ef(i,[St],a,!0),Wo(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Ny(t,i,l,a);break e}else if(l!==h){h=Cn(Error(s(424)),i),Yo(h),i=Ny(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(tt=Mn(t.firstChild),Bt=i,Le=!0,br=null,Dn=!0,a=bg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Os(),l===h){i=Bi(t,i,a);break e}qt(t,i,l,a)}i=i.child}return i;case 26:return oc(t,i),t===null?(a=F_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Le||(a=i.type,t=i.pendingProps,l=bc(Ce.current).createElement(a),l[vt]=i,l[Vt]=t,Ft(l,a,t),Et(l),i.stateNode=l):i.memoizedState=F_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return hs(i),t===null&&Le&&(l=i.stateNode=B_(i.type,i.pendingProps,Ce.current),Bt=i,Dn=!0,h=tt,jr(i.type)?(jd=h,tt=Mn(l.firstChild)):tt=h),qt(t,i,i.pendingProps.children,a),oc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Le&&((h=l=tt)&&(l=XA(l,i.type,i.pendingProps,Dn),l!==null?(i.stateNode=l,Bt=i,tt=Mn(l.firstChild),Dn=!1,h=!0):h=!1),h||wr(i)),hs(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Vd(h,d)?l=null:_!==null&&Vd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=xf(t,i,cA,null,null,a),vl._currentValue=h),oc(t,i),qt(t,i,l,a),i.child;case 6:return t===null&&Le&&((t=a=tt)&&(a=$A(a,i.pendingProps,Dn),a!==null?(i.stateNode=a,Bt=i,tt=null,t=!0):t=!1),t||wr(i)),null;case 13:return Dy(t,i,a);case 4:return Nt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ps(i,null,l,a):qt(t,i,l,a),i.child;case 11:return Ty(t,i,i.type,i.pendingProps,a);case 7:return qt(t,i,i.pendingProps,a),i.child;case 8:return qt(t,i,i.pendingProps.children,a),i.child;case 12:return qt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Rr(i,i.type,l.value),qt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,xs(i),h=Ht(h),l=l(h),i.flags|=1,qt(t,i,l,a),i.child;case 14:return Sy(t,i,i.type,i.pendingProps,a);case 15:return Ay(t,i,i.type,i.pendingProps,a);case 19:return My(t,i,a);case 31:return _A(t,i,a);case 22:return by(t,i,a,i.pendingProps);case 24:return xs(i),l=Ht(St),t===null?(h=Af(),h===null&&(h=et,d=Tf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},wf(i),Rr(i,St,h)):((t.lanes&a)!==0&&(Rf(t,i),Zo(i,null,null,a),Wo()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Rr(i,St,l)):(l=d.cache,Rr(i,St,l),l!==h.cache&&Ef(i,[St],a,!0))),qt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Hi(t){t.flags|=4}function od(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(a_())t.flags|=8192;else throw Ls=Yu,bf}else t.flags&=-16777217}function Vy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!X_(i))if(a_())t.flags|=8192;else throw Ls=Yu,bf}function uc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?pu():536870912,t.lanes|=i,La|=i)}function sl(t,i){if(!Le)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function EA(t,i,a){var l=i.pendingProps;switch(pf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(i),null;case 1:return nt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ui(St),rt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Aa(i)?Hi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,yf())),nt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Hi(i),d!==null?(nt(i),Vy(i,d)):(nt(i),od(i,h,null,l,a))):d?d!==t.memoizedState?(Hi(i),nt(i),Vy(i,d)):(nt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Hi(i),nt(i),od(i,h,t,l,a)),null;case 27:if(ta(i),a=Ce.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Hi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}t=le.current,Aa(i)?dg(i):(t=B_(h,l,a),i.stateNode=t,Hi(i))}return nt(i),null;case 5:if(ta(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Hi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}if(d=le.current,Aa(i))dg(i);else{var _=bc(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[vt]=i,d[Vt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Ft(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Hi(i)}}return nt(i),od(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Hi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ce.current,Aa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[vt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||D_(t.nodeValue,a)),t||wr(i,!0)}else t=bc(t).createTextNode(l),t[vt]=i,i.stateNode=t}return nt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Aa(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[vt]=i}else Os(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),t=!1}else a=yf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(gn(i),i):(gn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return nt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Aa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[vt]=i}else Os(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),h=!1}else h=yf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(gn(i),i):(gn(i),null)}return gn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),uc(i,i.updateQueue),nt(i),null);case 4:return rt(),t===null&&Nd(i.stateNode.containerInfo),nt(i),null;case 10:return Ui(i.type),nt(i),null;case 19:if(ee(mt),l=i.memoizedState,l===null)return nt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)sl(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=$u(t),d!==null){for(i.flags|=128,sl(l,!1),t=d.updateQueue,i.updateQueue=t,uc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)lg(a,t),a=a.sibling;return ae(mt,mt.current&1|2),Le&&Li(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Zt()>mc&&(i.flags|=128,h=!0,sl(l,!1),i.lanes=4194304)}else{if(!h)if(t=$u(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,uc(i,t),sl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Le)return nt(i),null}else 2*Zt()-l.renderingStartTime>mc&&a!==536870912&&(i.flags|=128,h=!0,sl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Zt(),t.sibling=null,a=mt.current,ae(mt,h?a&1|2:a&1),Le&&Li(i,l.treeForkCount),t):(nt(i),null);case 22:case 23:return gn(i),Df(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(nt(i),i.subtreeFlags&6&&(i.flags|=8192)):nt(i),a=i.updateQueue,a!==null&&uc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ee(Vs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ui(St),nt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function TA(t,i){switch(pf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ui(St),rt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ta(i),null;case 31:if(i.memoizedState!==null){if(gn(i),i.alternate===null)throw Error(s(340));Os()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(gn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Os()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ee(mt),null;case 4:return rt(),null;case 10:return Ui(i.type),null;case 22:case 23:return gn(i),Df(),t!==null&&ee(Vs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ui(St),null;case 25:return null;default:return null}}function ky(t,i){switch(pf(i),i.tag){case 3:Ui(St),rt();break;case 26:case 27:case 5:ta(i);break;case 4:rt();break;case 31:i.memoizedState!==null&&gn(i);break;case 13:gn(i);break;case 19:ee(mt);break;case 10:Ui(i.type);break;case 22:case 23:gn(i),Df(),t!==null&&ee(Vs);break;case 24:Ui(St)}}function al(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){Xe(i,i.return,S)}}function Mr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var O=a,q=S;try{q()}catch(Q){Xe(h,O,Q)}}}l=l.next}while(l!==d)}}catch(Q){Xe(i,i.return,Q)}}function Ly(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Rg(i,a)}catch(l){Xe(t,t.return,l)}}}function Py(t,i,a){a.props=js(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,i,l)}}function ol(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Xe(t,i,h)}}function Ei(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Xe(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xe(t,i,h)}else a.current=null}function Uy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Xe(t,t.return,h)}}function ld(t,i,a){try{var l=t.stateNode;qA(l,t.type,a,i),l[Vt]=i}catch(h){Xe(t,t.return,h)}}function jy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&jr(t.type)||t.tag===4}function ud(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&jr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Bn));else if(l!==4&&(l===27&&jr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(cd(t,i,a),t=t.sibling;t!==null;)cd(t,i,a),t=t.sibling}function cc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&jr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(cc(t,i,a),t=t.sibling;t!==null;)cc(t,i,a),t=t.sibling}function zy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ft(i,l,a),i[vt]=t,i[Vt]=a}catch(d){Xe(t,t.return,d)}}var qi=!1,wt=!1,hd=!1,By=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function SA(t,i){if(t=t.containerInfo,Md=Oc,t=Zp(t),rf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,O=-1,q=0,Q=0,Z=t,F=null;t:for(;;){for(var Y;Z!==a||h!==0&&Z.nodeType!==3||(S=_+h),Z!==d||l!==0&&Z.nodeType!==3||(O=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(Y=Z.firstChild)!==null;)F=Z,Z=Y;for(;;){if(Z===t)break t;if(F===a&&++q===h&&(S=_),F===d&&++Q===l&&(O=_),(Y=Z.nextSibling)!==null)break;Z=F,F=Z.parentNode}Z=Y}a=S===-1||O===-1?null:{start:S,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(xd={focusedElem:t,selectionRange:a},Oc=!1,Lt=i;Lt!==null;)if(i=Lt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Lt=t;else for(;Lt!==null;){switch(i=Lt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ue=js(a.type,h);t=l.getSnapshotBeforeUpdate(ue,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Xe(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Ld(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ld(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Lt=t;break}Lt=i.return}}function Hy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Gi(t,a),l&4&&al(5,a);break;case 1:if(Gi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Xe(a,a.return,_)}else{var h=js(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(a,a.return,_)}}l&64&&Ly(a),l&512&&ol(a,a.return);break;case 3:if(Gi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Rg(t,i)}catch(_){Xe(a,a.return,_)}}break;case 27:i===null&&l&4&&zy(a);case 26:case 5:Gi(t,a),i===null&&l&4&&Uy(a),l&512&&ol(a,a.return);break;case 12:Gi(t,a);break;case 31:Gi(t,a),l&4&&Gy(t,a);break;case 13:Gi(t,a),l&4&&Yy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=OA.bind(null,a),JA(t,a))));break;case 22:if(l=a.memoizedState!==null||qi,!l){i=i!==null&&i.memoizedState!==null||wt,h=qi;var d=wt;qi=l,(wt=i)&&!d?Yi(t,a,(a.subtreeFlags&8772)!==0):Gi(t,a),qi=h,wt=d}break;case 30:break;default:Gi(t,a)}}function qy(t){var i=t.alternate;i!==null&&(t.alternate=null,qy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&aa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var at=null,sn=!1;function Fi(t,i,a){for(a=a.child;a!==null;)Fy(t,i,a),a=a.sibling}function Fy(t,i,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Pn,a)}catch{}switch(a.tag){case 26:wt||Ei(a,i),Fi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:wt||Ei(a,i);var l=at,h=sn;jr(a.type)&&(at=a.stateNode,sn=!1),Fi(t,i,a),gl(a.stateNode),at=l,sn=h;break;case 5:wt||Ei(a,i);case 6:if(l=at,h=sn,at=null,Fi(t,i,a),at=l,sn=h,at!==null)if(sn)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(a.stateNode)}catch(d){Xe(a,i,d)}else try{at.removeChild(a.stateNode)}catch(d){Xe(a,i,d)}break;case 18:at!==null&&(sn?(t=at,L_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Fa(t)):L_(at,a.stateNode));break;case 4:l=at,h=sn,at=a.stateNode.containerInfo,sn=!0,Fi(t,i,a),at=l,sn=h;break;case 0:case 11:case 14:case 15:Mr(2,a,i),wt||Mr(4,a,i),Fi(t,i,a);break;case 1:wt||(Ei(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Py(a,i,l)),Fi(t,i,a);break;case 21:Fi(t,i,a);break;case 22:wt=(l=wt)||a.memoizedState!==null,Fi(t,i,a),wt=l;break;default:Fi(t,i,a)}}function Gy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Fa(t)}catch(a){Xe(i,i.return,a)}}}function Yy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Fa(t)}catch(a){Xe(i,i.return,a)}}function AA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new By),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new By),i;default:throw Error(s(435,t.tag))}}function hc(t,i){var a=AA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=MA.bind(null,t,l);l.then(h,h)}})}function an(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(jr(S.type)){at=S.stateNode,sn=!1;break e}break;case 5:at=S.stateNode,sn=!1;break e;case 3:case 4:at=S.stateNode.containerInfo,sn=!0;break e}S=S.return}if(at===null)throw Error(s(160));Fy(d,_,h),at=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Ky(i,t),i=i.sibling}var Kn=null;function Ky(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(i,t),on(t),l&4&&(Mr(3,t,t.return),al(3,t),Mr(5,t,t.return));break;case 1:an(i,t),on(t),l&512&&(wt||a===null||Ei(a,a.return)),l&64&&qi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Kn;if(an(i,t),on(t),l&512&&(wt||a===null||Ei(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ai]||d[vt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ft(d,l,a),d[vt]=t,Et(d),l=d;break e;case"link":var _=K_("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;case"meta":if(_=K_("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[vt]=t,Et(d),l=d}t.stateNode=l}else Q_(h,t.type,t.stateNode);else t.stateNode=Y_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Q_(h,t.type,t.stateNode):Y_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ld(t,t.memoizedProps,a.memoizedProps)}break;case 27:an(i,t),on(t),l&512&&(wt||a===null||Ei(a,a.return)),a!==null&&l&4&&ld(t,t.memoizedProps,a.memoizedProps);break;case 5:if(an(i,t),on(t),l&512&&(wt||a===null||Ei(a,a.return)),t.flags&32){h=t.stateNode;try{rn(h,"")}catch(ue){Xe(t,t.return,ue)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ld(t,h,a!==null?a.memoizedProps:h)),l&1024&&(hd=!0);break;case 6:if(an(i,t),on(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ue){Xe(t,t.return,ue)}}break;case 3:if(Cc=null,h=Kn,Kn=wc(i.containerInfo),an(i,t),Kn=h,on(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Fa(i.containerInfo)}catch(ue){Xe(t,t.return,ue)}hd&&(hd=!1,Qy(t));break;case 4:l=Kn,Kn=wc(t.stateNode.containerInfo),an(i,t),on(t),Kn=l;break;case 12:an(i,t),on(t);break;case 31:an(i,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,hc(t,l)));break;case 13:an(i,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(dc=Zt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,hc(t,l)));break;case 22:h=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,q=qi,Q=wt;if(qi=q||h,wt=Q||O,an(i,t),wt=Q,qi=q,on(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||O||qi||wt||zs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(d=O.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=O.stateNode;var Z=O.memoizedProps.style,F=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;S.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ue){Xe(O,O.return,ue)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(ue){Xe(O,O.return,ue)}}}else if(i.tag===18){if(a===null){O=i;try{var Y=O.stateNode;h?P_(Y,!0):P_(O.stateNode,!1)}catch(ue){Xe(O,O.return,ue)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,hc(t,a))));break;case 19:an(i,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,hc(t,l)));break;case 30:break;case 21:break;default:an(i,t),on(t)}}function on(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(jy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=ud(t);cc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(rn(_,""),a.flags&=-33);var S=ud(t);cc(t,S,_);break;case 3:case 4:var O=a.stateNode.containerInfo,q=ud(t);cd(t,q,O);break;default:throw Error(s(161))}}catch(Q){Xe(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Qy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Qy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Gi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Hy(t,i.alternate,i),i=i.sibling}function zs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Mr(4,i,i.return),zs(i);break;case 1:Ei(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Py(i,i.return,a),zs(i);break;case 27:gl(i.stateNode);case 26:case 5:Ei(i,i.return),zs(i);break;case 22:i.memoizedState===null&&zs(i);break;case 30:zs(i);break;default:zs(i)}t=t.sibling}}function Yi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Yi(h,d,a),al(4,d);break;case 1:if(Yi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){Xe(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)wg(O[h],S)}catch(q){Xe(l,l.return,q)}}a&&_&64&&Ly(d),ol(d,d.return);break;case 27:zy(d);case 26:case 5:Yi(h,d,a),a&&l===null&&_&4&&Uy(d),ol(d,d.return);break;case 12:Yi(h,d,a);break;case 31:Yi(h,d,a),a&&_&4&&Gy(h,d);break;case 13:Yi(h,d,a),a&&_&4&&Yy(h,d);break;case 22:d.memoizedState===null&&Yi(h,d,a),ol(d,d.return);break;case 30:break;default:Yi(h,d,a)}i=i.sibling}}function fd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ko(a))}function dd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ko(t))}function Qn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Xy(t,i,a,l),i=i.sibling}function Xy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Qn(t,i,a,l),h&2048&&al(9,i);break;case 1:Qn(t,i,a,l);break;case 3:Qn(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ko(t)));break;case 12:if(h&2048){Qn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){Xe(i,i.return,O)}}else Qn(t,i,a,l);break;case 31:Qn(t,i,a,l);break;case 13:Qn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Qn(t,i,a,l):ll(t,i):d._visibility&2?Qn(t,i,a,l):(d._visibility|=2,xa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&fd(_,i);break;case 24:Qn(t,i,a,l),h&2048&&dd(i.alternate,i);break;default:Qn(t,i,a,l)}}function xa(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,O=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:xa(d,_,S,O,h),al(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&2?xa(d,_,S,O,h):ll(d,_):(Q._visibility|=2,xa(d,_,S,O,h)),h&&q&2048&&fd(_.alternate,_);break;case 24:xa(d,_,S,O,h),h&&q&2048&&dd(_.alternate,_);break;default:xa(d,_,S,O,h)}i=i.sibling}}function ll(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:ll(a,l),h&2048&&fd(l.alternate,l);break;case 24:ll(a,l),h&2048&&dd(l.alternate,l);break;default:ll(a,l)}i=i.sibling}}var ul=8192;function Va(t,i,a){if(t.subtreeFlags&ul)for(t=t.child;t!==null;)$y(t,i,a),t=t.sibling}function $y(t,i,a){switch(t.tag){case 26:Va(t,i,a),t.flags&ul&&t.memoizedState!==null&&ub(a,Kn,t.memoizedState,t.memoizedProps);break;case 5:Va(t,i,a);break;case 3:case 4:var l=Kn;Kn=wc(t.stateNode.containerInfo),Va(t,i,a),Kn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ul,ul=16777216,Va(t,i,a),ul=l):Va(t,i,a));break;default:Va(t,i,a)}}function Jy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function cl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,Zy(l,t)}Jy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wy(t),t=t.sibling}function Wy(t){switch(t.tag){case 0:case 11:case 15:cl(t),t.flags&2048&&Mr(9,t,t.return);break;case 3:cl(t);break;case 12:cl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,fc(t)):cl(t);break;default:cl(t)}}function fc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,Zy(l,t)}Jy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Mr(8,i,i.return),fc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,fc(i));break;default:fc(i)}t=t.sibling}}function Zy(t,i){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:Mr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ko(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=t;Lt!==null;){l=Lt;var h=l.sibling,d=l.return;if(qy(l),l===a){Lt=null;break e}if(h!==null){h.return=d,Lt=h;break e}Lt=d}}}var bA={getCacheForType:function(t){var i=Ht(St),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(St).controller.signal}},wA=typeof WeakMap=="function"?WeakMap:Map,qe=0,et=null,Ne=null,Oe=0,Qe=0,yn=null,xr=!1,ka=!1,md=!1,Ki=0,ht=0,Vr=0,Bs=0,pd=0,_n=0,La=0,hl=null,ln=null,gd=!1,dc=0,e_=0,mc=1/0,pc=null,kr=null,Ot=0,Lr=null,Pa=null,Qi=0,yd=0,_d=null,t_=null,fl=0,vd=null;function vn(){return(qe&2)!==0&&Oe!==0?Oe&-Oe:$.T!==null?wd():gu()}function n_(){if(_n===0)if((Oe&536870912)===0||Le){var t=ms;ms<<=1,(ms&3932160)===0&&(ms=262144),_n=t}else _n=536870912;return t=pn.current,t!==null&&(t.flags|=32),_n}function un(t,i,a){(t===et&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(Ua(t,0),Pr(t,Oe,_n,!1)),ps(t,a),((qe&2)===0||t!==et)&&(t===et&&((qe&2)===0&&(Bs|=a),ht===4&&Pr(t,Oe,_n,!1)),Ti(t))}function i_(t,i,a){if((qe&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Un(t,i),h=l?IA(t,i):Td(t,i,!0),d=l;do{if(h===0){ka&&!l&&Pr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!RA(a)){h=Td(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;h=hl;var O=S.current.memoizedState.isDehydrated;if(O&&(Ua(S,_).flags|=256),_=Td(S,_,!1),_!==2){if(md&&!O){S.errorRecoveryDisabledLanes|=d,Bs|=d,h=4;break e}d=ln,ln=h,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ua(t,0),Pr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Pr(l,i,_n,!xr);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=dc+300-Zt(),10<h)){if(Pr(l,i,_n,!xr),ii(l,0,!0)!==0)break e;Qi=i,l.timeoutHandle=V_(r_.bind(null,l,a,ln,pc,gd,i,_n,Bs,La,xr,d,"Throttled",-0,0),h);break e}r_(l,a,ln,pc,gd,i,_n,Bs,La,xr,d,null,-0,0)}}break}while(!0);Ti(t)}function r_(t,i,a,l,h,d,_,S,O,q,Q,Z,F,Y){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},$y(i,d,Z);var ue=(d&62914560)===d?dc-Zt():(d&4194048)===d?e_-Zt():0;if(ue=cb(Z,ue),ue!==null){Qi=d,t.cancelPendingCommit=ue(f_.bind(null,t,i,d,a,l,h,_,S,O,Q,Z,null,F,Y)),Pr(t,d,_,!q);return}}f_(t,i,d,a,l,h,_,S,O)}function RA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!dn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Pr(t,i,a,l){i&=~pd,i&=~Bs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-ft(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&gs(t,a,i)}function gc(){return(qe&6)===0?(dl(0),!1):!0}function Ed(){if(Ne!==null){if(Qe===0)var t=Ne.return;else t=Ne,Pi=Ms=null,Lf(t),Ia=null,Xo=0,t=Ne;for(;t!==null;)ky(t.alternate,t),t=t.return;Ne=null}}function Ua(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,YA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Qi=0,Ed(),et=t,Ne=a=ki(t.current,null),Oe=i,Qe=0,yn=null,xr=!1,ka=Un(t,i),md=!1,La=_n=pd=Bs=Vr=ht=0,ln=hl=null,gd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-ft(l),d=1<<h;i|=t[h],l&=~d}return Ki=i,Pu(),a}function s_(t,i){Re=null,$.H=il,i===Ca||i===Gu?(i=Tg(),Qe=3):i===bf?(i=Tg(),Qe=4):Qe=i===Wf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,yn=i,Ne===null&&(ht=1,sc(t,Cn(i,t.current)))}function a_(){var t=pn.current;return t===null?!0:(Oe&4194048)===Oe?On===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===On:!1}function o_(){var t=$.H;return $.H=il,t===null?il:t}function l_(){var t=$.A;return $.A=bA,t}function yc(){ht=4,xr||(Oe&4194048)!==Oe&&pn.current!==null||(ka=!0),(Vr&134217727)===0&&(Bs&134217727)===0||et===null||Pr(et,Oe,_n,!1)}function Td(t,i,a){var l=qe;qe|=2;var h=o_(),d=l_();(et!==t||Oe!==i)&&(pc=null,Ua(t,i)),i=!1;var _=ht;e:do try{if(Qe!==0&&Ne!==null){var S=Ne,O=yn;switch(Qe){case 8:Ed(),_=6;break e;case 3:case 2:case 9:case 6:pn.current===null&&(i=!0);var q=Qe;if(Qe=0,yn=null,ja(t,S,O,q),a&&ka){_=0;break e}break;default:q=Qe,Qe=0,yn=null,ja(t,S,O,q)}}CA(),_=ht;break}catch(Q){s_(t,Q)}while(!0);return i&&t.shellSuspendCounter++,Pi=Ms=null,qe=l,$.H=h,$.A=d,Ne===null&&(et=null,Oe=0,Pu()),_}function CA(){for(;Ne!==null;)u_(Ne)}function IA(t,i){var a=qe;qe|=2;var l=o_(),h=l_();et!==t||Oe!==i?(pc=null,mc=Zt()+500,Ua(t,i)):ka=Un(t,i);e:do try{if(Qe!==0&&Ne!==null){i=Ne;var d=yn;t:switch(Qe){case 1:Qe=0,yn=null,ja(t,i,d,1);break;case 2:case 9:if(vg(d)){Qe=0,yn=null,c_(i);break}i=function(){Qe!==2&&Qe!==9||et!==t||(Qe=7),Ti(t)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:vg(d)?(Qe=0,yn=null,c_(i)):(Qe=0,yn=null,ja(t,i,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var S=Ne;if(_?X_(_):S.stateNode.complete){Qe=0,yn=null;var O=S.sibling;if(O!==null)Ne=O;else{var q=S.return;q!==null?(Ne=q,_c(q)):Ne=null}break t}}Qe=0,yn=null,ja(t,i,d,5);break;case 6:Qe=0,yn=null,ja(t,i,d,6);break;case 8:Ed(),ht=6;break e;default:throw Error(s(462))}}NA();break}catch(Q){s_(t,Q)}while(!0);return Pi=Ms=null,$.H=l,$.A=h,qe=a,Ne!==null?0:(et=null,Oe=0,Pu(),ht)}function NA(){for(;Ne!==null&&!$h();)u_(Ne)}function u_(t){var i=xy(t.alternate,t,Ki);t.memoizedProps=t.pendingProps,i===null?_c(t):Ne=i}function c_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Cy(a,i,i.pendingProps,i.type,void 0,Oe);break;case 11:i=Cy(a,i,i.pendingProps,i.type.render,i.ref,Oe);break;case 5:Lf(i);default:ky(a,i),i=Ne=lg(i,Ki),i=xy(a,i,Ki)}t.memoizedProps=t.pendingProps,i===null?_c(t):Ne=i}function ja(t,i,a,l){Pi=Ms=null,Lf(i),Ia=null,Xo=0;var h=i.return;try{if(yA(t,h,i,a,Oe)){ht=1,sc(t,Cn(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ht=1,sc(t,Cn(a,t.current)),Ne=null;return}i.flags&32768?(Le||l===1?t=!0:ka||(Oe&536870912)!==0?t=!1:(xr=t=!0,(l===2||l===9||l===3||l===6)&&(l=pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),h_(i,t)):_c(i)}function _c(t){var i=t;do{if((i.flags&32768)!==0){h_(i,xr);return}t=i.return;var a=EA(i.alternate,i,Ki);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ht===0&&(ht=5)}function h_(t,i){do{var a=TA(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ht=6,Ne=null}function f_(t,i,a,l,h,d,_,S,O){t.cancelPendingCommit=null;do vc();while(Ot!==0);if((qe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=uf,Zh(t,a,d,_,S,O),t===et&&(Ne=et=null,Oe=0),Pa=i,Lr=t,Qi=a,yd=d,_d=h,t_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,xA(dr,function(){return y_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=se.p,se.p=2,_=qe,qe|=4;try{SA(t,i,a)}finally{qe=_,se.p=h,$.T=l}}Ot=1,d_(),m_(),p_()}}function d_(){if(Ot===1){Ot=0;var t=Lr,i=Pa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=se.p;se.p=2;var h=qe;qe|=4;try{Ky(i,t);var d=xd,_=Zp(t.containerInfo),S=d.focusedElem,O=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&Wp(S.ownerDocument.documentElement,S)){if(O!==null&&rf(S)){var q=O.start,Q=O.end;if(Q===void 0&&(Q=q),"selectionStart"in S)S.selectionStart=q,S.selectionEnd=Math.min(Q,S.value.length);else{var Z=S.ownerDocument||document,F=Z&&Z.defaultView||window;if(F.getSelection){var Y=F.getSelection(),ue=S.textContent.length,_e=Math.min(O.start,ue),Ze=O.end===void 0?_e:Math.min(O.end,ue);!Y.extend&&_e>Ze&&(_=Ze,Ze=_e,_e=_);var P=Jp(S,_e),x=Jp(S,Ze);if(P&&x&&(Y.rangeCount!==1||Y.anchorNode!==P.node||Y.anchorOffset!==P.offset||Y.focusNode!==x.node||Y.focusOffset!==x.offset)){var H=Z.createRange();H.setStart(P.node,P.offset),Y.removeAllRanges(),_e>Ze?(Y.addRange(H),Y.extend(x.node,x.offset)):(H.setEnd(x.node,x.offset),Y.addRange(H))}}}}for(Z=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&Z.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Z.length;S++){var W=Z[S];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Oc=!!Md,xd=Md=null}finally{qe=h,se.p=l,$.T=a}}t.current=i,Ot=2}}function m_(){if(Ot===2){Ot=0;var t=Lr,i=Pa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=se.p;se.p=2;var h=qe;qe|=4;try{Hy(t,i.alternate,i)}finally{qe=h,se.p=l,$.T=a}}Ot=3}}function p_(){if(Ot===4||Ot===3){Ot=0,uu();var t=Lr,i=Pa,a=Qi,l=t_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ot=5:(Ot=0,Pa=Lr=null,g_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(kr=null),Oi(a),i=i.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Pn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,h=se.p,se.p=2,$.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{$.T=i,se.p=h}}(Qi&3)!==0&&vc(),Ti(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===vd?fl++:(fl=0,vd=t):fl=0,dl(0)}}function g_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Ko(i)))}function vc(){return d_(),m_(),p_(),y_()}function y_(){if(Ot!==5)return!1;var t=Lr,i=yd;yd=0;var a=Oi(Qi),l=$.T,h=se.p;try{se.p=32>a?32:a,$.T=null,a=_d,_d=null;var d=Lr,_=Qi;if(Ot=0,Pa=Lr=null,Qi=0,(qe&6)!==0)throw Error(s(331));var S=qe;if(qe|=4,Wy(d.current),Xy(d,d.current,_,a),qe=S,dl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Pn,d)}catch{}return!0}finally{se.p=h,$.T=l,g_(t,i)}}function __(t,i,a){i=Cn(a,i),i=Jf(t.stateNode,i,2),t=Nr(t,i,2),t!==null&&(ps(t,2),Ti(t))}function Xe(t,i,a){if(t.tag===3)__(t,t,a);else for(;i!==null;){if(i.tag===3){__(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(kr===null||!kr.has(l))){t=Cn(a,t),a=vy(2),l=Nr(i,a,2),l!==null&&(Ey(a,l,i,t),ps(l,2),Ti(l));break}}i=i.return}}function Sd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new wA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(md=!0,h.add(a),t=DA.bind(null,t,i,a),i.then(t,t))}function DA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Oe&a)===a&&(ht===4||ht===3&&(Oe&62914560)===Oe&&300>Zt()-dc?(qe&2)===0&&Ua(t,0):pd|=a,La===Oe&&(La=0)),Ti(t)}function v_(t,i){i===0&&(i=pu()),t=Ns(t,i),t!==null&&(ps(t,i),Ti(t))}function OA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),v_(t,a)}function MA(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),v_(t,a)}function xA(t,i){return Dt(t,i)}var Ec=null,za=null,Ad=!1,Tc=!1,bd=!1,Ur=0;function Ti(t){t!==za&&t.next===null&&(za===null?Ec=za=t:za=za.next=t),Tc=!0,Ad||(Ad=!0,kA())}function dl(t,i){if(!bd&&Tc){bd=!0;do for(var a=!1,l=Ec;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-ft(42|t)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,A_(l,d))}else d=Oe,d=ii(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Un(l,d)||(a=!0,A_(l,d));l=l.next}while(a);bd=!1}}function VA(){E_()}function E_(){Tc=Ad=!1;var t=0;Ur!==0&&GA()&&(t=Ur);for(var i=Zt(),a=null,l=Ec;l!==null;){var h=l.next,d=T_(l,i);d===0?(l.next=null,a===null?Ec=h:a.next=h,h===null&&(za=a)):(a=l,(t!==0||(d&3)!==0)&&(Tc=!0)),l=h}Ot!==0&&Ot!==5||dl(t),Ur!==0&&(Ur=0)}function T_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-ft(d),S=1<<_,O=h[_];O===-1?((S&a)===0||(S&l)!==0)&&(h[_]=Wh(S,i)):O<=i&&(t.expiredLanes|=S),d&=~S}if(i=et,a=Oe,a=ii(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&fr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Un(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&fr(l),Oi(a)){case 2:case 8:a=Ao;break;case 32:a=dr;break;case 268435456:a=cu;break;default:a=dr}return l=S_.bind(null,t),a=Dt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&fr(l),t.callbackPriority=2,t.callbackNode=null,2}function S_(t,i){if(Ot!==0&&Ot!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(vc()&&t.callbackNode!==a)return null;var l=Oe;return l=ii(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(i_(t,l,i),T_(t,Zt()),t.callbackNode!=null&&t.callbackNode===a?S_.bind(null,t):null)}function A_(t,i){if(vc())return null;i_(t,i,!0)}function kA(){KA(function(){(qe&6)!==0?Dt(So,VA):E_()})}function wd(){if(Ur===0){var t=wa;t===0&&(t=ti,ti<<=1,(ti&261888)===0&&(ti=256)),Ur=t}return Ur}function b_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ca(""+t)}function w_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function LA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=b_((h[Vt]||null).action),_=l.submitter;_&&(i=(i=_[Vt]||null)?b_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new mi("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ur!==0){var O=_?w_(h,_):new FormData(h);Gf(a,{pending:!0,data:O,method:h.method,action:d},null,O)}}else typeof d=="function"&&(S.preventDefault(),O=_?w_(h,_):new FormData(h),Gf(a,{pending:!0,data:O,method:h.method,action:d},d,O))},currentTarget:h}]})}}for(var Rd=0;Rd<lf.length;Rd++){var Cd=lf[Rd],PA=Cd.toLowerCase(),UA=Cd[0].toUpperCase()+Cd.slice(1);Yn(PA,"on"+UA)}Yn(ng,"onAnimationEnd"),Yn(ig,"onAnimationIteration"),Yn(rg,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(eA,"onTransitionRun"),Yn(tA,"onTransitionStart"),Yn(nA,"onTransitionCancel"),Yn(sg,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function R_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],O=S.instance,q=S.currentTarget;if(S=S.listener,O!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=q;try{d(h)}catch(Q){Lu(Q)}h.currentTarget=null,d=O}else for(_=0;_<l.length;_++){if(S=l[_],O=S.instance,q=S.currentTarget,S=S.listener,O!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=q;try{d(h)}catch(Q){Lu(Q)}h.currentTarget=null,d=O}}}}function De(t,i){var a=i[sa];a===void 0&&(a=i[sa]=new Set);var l=t+"__bubble";a.has(l)||(C_(i,t,2,!1),a.add(l))}function Id(t,i,a){var l=0;i&&(l|=4),C_(a,t,l,i)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function Nd(t){if(!t[Sc]){t[Sc]=!0,Ro.forEach(function(a){a!=="selectionchange"&&(jA.has(a)||Id(a,!1,t),Id(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Sc]||(i[Sc]=!0,Id("selectionchange",!1,i))}}function C_(t,i,a,l){switch(nv(i)){case 2:var h=db;break;case 8:h=mb;break;default:h=Fd}a=h.bind(null,i,a,t),h=void 0,!Ts||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Dd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=oi(S),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){l=d=_;continue e}S=S.parentNode}}l=l.return}vr(function(){var q=d,Q=An(a),Z=[];e:{var F=ag.get(t);if(F!==void 0){var Y=mi,ue=t;switch(t){case"keypress":if(As(a)===0)break e;case"keydown":case"keyup":Y=xu;break;case"focusin":ue="focus",Y=ws;break;case"focusout":ue="blur",Y=ws;break;case"beforeblur":case"afterblur":Y=ws;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=g;break;case ng:case ig:case rg:Y=Ru;break;case sg:Y=A;break;case"scroll":case"scrollend":Y=Uo;break;case"wheel":Y=G;break;case"copy":case"cut":case"paste":Y=Cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Vi;break;case"toggle":case"beforetoggle":Y=we}var _e=(i&4)!==0,Ze=!_e&&(t==="scroll"||t==="scrollend"),P=_e?F!==null?F+"Capture":null:F;_e=[];for(var x=q,H;x!==null;){var W=x;if(H=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||H===null||P===null||(W=Hn(x,P),W!=null&&_e.push(pl(x,W,H))),Ze)break;x=x.return}0<_e.length&&(F=new Y(F,ue,null,a,Q),Z.push({event:F,listeners:_e}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",F&&a!==ko&&(ue=a.relatedTarget||a.fromElement)&&(oi(ue)||ue[si]))break e;if((Y||F)&&(F=Q.window===Q?Q:(F=Q.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(ue=a.relatedTarget||a.toElement,Y=q,ue=ue?oi(ue):null,ue!==null&&(Ze=u(ue),_e=ue.tag,ue!==Ze||_e!==5&&_e!==27&&_e!==6)&&(ue=null)):(Y=null,ue=q),Y!==ue)){if(_e=jo,W="onMouseLeave",P="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Vi,W="onPointerLeave",P="onPointerEnter",x="pointer"),Ze=Y==null?F:hn(Y),H=ue==null?F:hn(ue),F=new _e(W,x+"leave",Y,a,Q),F.target=Ze,F.relatedTarget=H,W=null,oi(Q)===q&&(_e=new _e(P,x+"enter",ue,a,Q),_e.target=H,_e.relatedTarget=Ze,W=_e),Ze=W,Y&&ue)t:{for(_e=zA,P=Y,x=ue,H=0,W=P;W;W=_e(W))H++;W=0;for(var de=x;de;de=_e(de))W++;for(;0<H-W;)P=_e(P),H--;for(;0<W-H;)x=_e(x),W--;for(;H--;){if(P===x||x!==null&&P===x.alternate){_e=P;break t}P=_e(P),x=_e(x)}_e=null}else _e=null;Y!==null&&I_(Z,F,Y,_e,!1),ue!==null&&Ze!==null&&I_(Z,Ze,ue,_e,!0)}}e:{if(F=q?hn(q):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var ze=Gp;else if(qp(F))if(Yp)ze=JS;else{ze=XS;var ce=QS}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&ua(q.elementType)&&(ze=Gp):ze=$S;if(ze&&(ze=ze(t,q))){Fp(Z,ze,a,Q);break e}ce&&ce(t,F,q),t==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&Mo(F,"number",F.value)}switch(ce=q?hn(q):window,t){case"focusin":(qp(ce)||ce.contentEditable==="true")&&(ya=ce,sf=q,Fo=null);break;case"focusout":Fo=sf=ya=null;break;case"mousedown":af=!0;break;case"contextmenu":case"mouseup":case"dragend":af=!1,eg(Z,a,Q);break;case"selectionchange":if(ZS)break;case"keydown":case"keyup":eg(Z,a,Q)}var Ie;if(He)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else ga?Rs(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(yi&&a.locale!=="ko"&&(ga||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&ga&&(Ie=Po()):(di=Q,Lo="value"in di?di.value:di.textContent,ga=!0)),ce=Ac(q,Me),0<ce.length&&(Me=new gi(Me,t,null,a,Q),Z.push({event:Me,listeners:ce}),Ie?Me.data=Ie:(Ie=pa(a),Ie!==null&&(Me.data=Ie)))),(Ie=wn?FS(t,a):GS(t,a))&&(Me=Ac(q,"onBeforeInput"),0<Me.length&&(ce=new gi("onBeforeInput","beforeinput",null,a,Q),Z.push({event:ce,listeners:Me}),ce.data=Ie)),LA(Z,t,q,a,Q)}R_(Z,i)})}function pl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ac(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Hn(t,a),h!=null&&l.unshift(pl(t,h,d)),h=Hn(t,i),h!=null&&l.push(pl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function zA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function I_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,O=S.alternate,q=S.stateNode;if(S=S.tag,O!==null&&O===l)break;S!==5&&S!==26&&S!==27||q===null||(O=q,h?(q=Hn(a,d),q!=null&&_.unshift(pl(a,q,O))):h||(q=Hn(a,d),q!=null&&_.push(pl(a,q,O)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var BA=/\r\n?/g,HA=/\u0000|\uFFFD/g;function N_(t){return(typeof t=="string"?t:""+t).replace(BA,`
`).replace(HA,"")}function D_(t,i){return i=N_(i),N_(t)===i}function We(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||rn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&rn(t,""+l);break;case"className":fn(t,"class",l);break;case"tabIndex":fn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(t,a,l);break;case"style":Vo(t,l,d);break;case"data":if(i!=="object"){fn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ca(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ca(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Bn);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ca(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),oa(t,"popover",l);break;case"xlinkActuate":Tt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Tt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Tt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Tt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Tt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Tt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":oa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Au.get(a)||a,oa(t,a,l))}}function Od(t,i,a,l,h,d){switch(a){case"style":Vo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?rn(t,l):(typeof l=="number"||typeof l=="bigint")&&rn(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Co.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Vt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):oa(t,a,l)}}}function Ft(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,d,_,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":De("invalid",t);var S=d=_=h=null,O=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":_=Q;break;case"checked":O=Q;break;case"defaultChecked":q=Q;break;case"value":d=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:We(t,i,l,Q,a,null)}}Eu(t,d,S,O,q,_,h,!1);return;case"select":De("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:We(t,i,h,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?pr(t,!!l,i,!1):a!=null&&pr(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:We(t,i,_,S,a,null)}gr(t,l,h,d);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,i,O,l,a,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<ml.length;l++)De(ml[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,q,l,a,null)}return;default:if(ua(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&Od(t,i,Q,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&We(t,i,S,l,a,null))}function qA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,O=null,q=null,Q=null;for(Y in a){var Z=a[Y];if(a.hasOwnProperty(Y)&&Z!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":O=Z;default:l.hasOwnProperty(Y)||We(t,i,Y,null,l,Z)}}for(var F in l){var Y=l[F];if(Z=a[F],l.hasOwnProperty(F)&&(Y!=null||Z!=null))switch(F){case"type":d=Y;break;case"name":h=Y;break;case"checked":q=Y;break;case"defaultChecked":Q=Y;break;case"value":_=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==Z&&We(t,i,F,Y,l,Z)}}la(t,_,S,O,q,Q,d,h);return;case"select":Y=_=S=F=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":Y=O;default:l.hasOwnProperty(d)||We(t,i,d,null,l,O)}for(h in l)if(d=l[h],O=a[h],l.hasOwnProperty(h)&&(d!=null||O!=null))switch(h){case"value":F=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==O&&We(t,i,h,d,l,O)}i=S,a=_,l=Y,F!=null?pr(t,!!a,F,!1):!!l!=!!a&&(i!=null?pr(t,!!a,i,!0):pr(t,!!a,a?[]:"",!1));return;case"textarea":Y=F=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:We(t,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,i,_,h,l,d)}Tu(t,F,Y);return;case"option":for(var ue in a)if(F=a[ue],a.hasOwnProperty(ue)&&F!=null&&!l.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:We(t,i,ue,null,l,F)}for(O in l)if(F=l[O],Y=a[O],l.hasOwnProperty(O)&&F!==Y&&(F!=null||Y!=null))switch(O){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:We(t,i,O,F,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)F=a[_e],a.hasOwnProperty(_e)&&F!=null&&!l.hasOwnProperty(_e)&&We(t,i,_e,null,l,F);for(q in l)if(F=l[q],Y=a[q],l.hasOwnProperty(q)&&F!==Y&&(F!=null||Y!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:We(t,i,q,F,l,Y)}return;default:if(ua(i)){for(var Ze in a)F=a[Ze],a.hasOwnProperty(Ze)&&F!==void 0&&!l.hasOwnProperty(Ze)&&Od(t,i,Ze,void 0,l,F);for(Q in l)F=l[Q],Y=a[Q],!l.hasOwnProperty(Q)||F===Y||F===void 0&&Y===void 0||Od(t,i,Q,F,l,Y);return}}for(var P in a)F=a[P],a.hasOwnProperty(P)&&F!=null&&!l.hasOwnProperty(P)&&We(t,i,P,null,l,F);for(Z in l)F=l[Z],Y=a[Z],!l.hasOwnProperty(Z)||F===Y||F==null&&Y==null||We(t,i,Z,F,l,Y)}function O_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function FA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&O_(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var O=a[l],q=O.startTime;if(q>S)break;var Q=O.transferSize,Z=O.initiatorType;Q&&O_(Z)&&(O=O.responseEnd,_+=Q*(O<S?1:(S-q)/(O-q)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Md=null,xd=null;function bc(t){return t.nodeType===9?t:t.ownerDocument}function M_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Vd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var kd=null;function GA(){var t=window.event;return t&&t.type==="popstate"?t===kd?!1:(kd=t,!0):(kd=null,!1)}var V_=typeof setTimeout=="function"?setTimeout:void 0,YA=typeof clearTimeout=="function"?clearTimeout:void 0,k_=typeof Promise=="function"?Promise:void 0,KA=typeof queueMicrotask=="function"?queueMicrotask:typeof k_<"u"?function(t){return k_.resolve(null).then(t).catch(QA)}:V_;function QA(t){setTimeout(function(){throw t})}function jr(t){return t==="head"}function L_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Fa(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")gl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,gl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[ai]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&gl(t.ownerDocument.body);a=h}while(a);Fa(i)}function P_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Ld(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ld(a),aa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function XA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ai])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function $A(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Mn(t.nextSibling),t===null))return null;return t}function U_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Mn(t.nextSibling),t===null))return null;return t}function Pd(t){return t.data==="$?"||t.data==="$~"}function Ud(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function JA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Mn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var jd=null;function j_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Mn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function z_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function B_(t,i,a){switch(i=bc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function gl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);aa(t)}var xn=new Map,H_=new Set;function wc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Xi=se.d;se.d={f:WA,r:ZA,D:eb,C:tb,L:nb,m:ib,X:sb,S:rb,M:ab};function WA(){var t=Xi.f(),i=gc();return t||i}function ZA(t){var i=Sn(t);i!==null&&i.tag===5&&i.type==="form"?sy(i):Xi.r(t)}var Ba=typeof document>"u"?null:document;function q_(t,i,a){var l=Ba;if(l&&typeof i=="string"&&i){var h=nn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),H_.has(h)||(H_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ft(i,"link",t),Et(i),l.head.appendChild(i)))}}function eb(t){Xi.D(t),q_("dns-prefetch",t,null)}function tb(t,i){Xi.C(t,i),q_("preconnect",t,i)}function nb(t,i,a){Xi.L(t,i,a);var l=Ba;if(l&&t&&i){var h='link[rel="preload"][as="'+nn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+nn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+nn(a.imageSizes)+'"]')):h+='[href="'+nn(t)+'"]';var d=h;switch(i){case"style":d=Ha(t);break;case"script":d=qa(t)}xn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),xn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(yl(d))||i==="script"&&l.querySelector(_l(d))||(i=l.createElement("link"),Ft(i,"link",t),Et(i),l.head.appendChild(i)))}}function ib(t,i){Xi.m(t,i);var a=Ba;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+nn(l)+'"][href="'+nn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=qa(t)}if(!xn.has(d)&&(t=T({rel:"modulepreload",href:t},i),xn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(_l(d)))return}l=a.createElement("link"),Ft(l,"link",t),Et(l),a.head.appendChild(l)}}}function rb(t,i,a){Xi.S(t,i,a);var l=Ba;if(l&&t){var h=li(l).hoistableStyles,d=Ha(t);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(yl(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=xn.get(d))&&zd(t,a);var O=_=l.createElement("link");Et(O),Ft(O,"link",t),O._p=new Promise(function(q,Q){O.onload=q,O.onerror=Q}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Rc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function sb(t,i){Xi.X(t,i);var a=Ba;if(a&&t){var l=li(a).hoistableScripts,h=qa(t),d=l.get(h);d||(d=a.querySelector(_l(h)),d||(t=T({src:t,async:!0},i),(i=xn.get(h))&&Bd(t,i),d=a.createElement("script"),Et(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function ab(t,i){Xi.M(t,i);var a=Ba;if(a&&t){var l=li(a).hoistableScripts,h=qa(t),d=l.get(h);d||(d=a.querySelector(_l(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=xn.get(h))&&Bd(t,i),d=a.createElement("script"),Et(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function F_(t,i,a,l){var h=(h=Ce.current)?wc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ha(a.href),a=li(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ha(a.href);var d=li(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(yl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),xn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},xn.set(t,a),d||ob(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=qa(a),a=li(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ha(t){return'href="'+nn(t)+'"'}function yl(t){return'link[rel="stylesheet"]['+t+"]"}function G_(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function ob(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ft(i,"link",a),Et(i),t.head.appendChild(i))}function qa(t){return'[src="'+nn(t)+'"]'}function _l(t){return"script[async]"+t}function Y_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+nn(a.href)+'"]');if(l)return i.instance=l,Et(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Et(l),Ft(l,"style",h),Rc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ha(a.href);var d=t.querySelector(yl(h));if(d)return i.state.loading|=4,i.instance=d,Et(d),d;l=G_(a),(h=xn.get(h))&&zd(l,h),d=(t.ownerDocument||t).createElement("link"),Et(d);var _=d;return _._p=new Promise(function(S,O){_.onload=S,_.onerror=O}),Ft(d,"link",l),i.state.loading|=4,Rc(d,a.precedence,t),i.instance=d;case"script":return d=qa(a.src),(h=t.querySelector(_l(d)))?(i.instance=h,Et(h),h):(l=a,(h=xn.get(d))&&(l=T({},a),Bd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Et(h),Ft(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Rc(l,a.precedence,t));return i.instance}function Rc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function zd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Bd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Cc=null;function K_(t,i,a){if(Cc===null){var l=new Map,h=Cc=new Map;h.set(a,l)}else h=Cc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ai]||d[vt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function Q_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function lb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function X_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function ub(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ha(l.href),d=i.querySelector(yl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Ic.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Et(d);return}d=i.ownerDocument||i,l=G_(l),(h=xn.get(h))&&zd(l,h),d=d.createElement("link"),Et(d);var _=d;_._p=new Promise(function(S,O){_.onload=S,_.onerror=O}),Ft(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Ic.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Hd=0;function cb(t,i){return t.stylesheets&&t.count===0&&Dc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Dc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Hd===0&&(Hd=62500*FA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Dc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Hd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Ic(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Nc=null;function Dc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Nc=new Map,i.forEach(hb,t),Nc=null,Ic.call(t))}function hb(t,i){if(!(i.state.loading&4)){var a=Nc.get(t);if(a)var l=a.get(null);else{a=new Map,Nc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Ic.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var vl={$$typeof:ne,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function fb(t,i,a,l,h,d,_,S,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function $_(t,i,a,l,h,d,_,S,O,q,Q,Z){return t=new fb(t,i,a,_,O,q,Q,Z,S),i=1,d===!0&&(i|=24),d=mn(3,null,null,i),t.current=d,d.stateNode=t,i=Tf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},wf(d),t}function J_(t){return t?(t=Ea,t):Ea}function W_(t,i,a,l,h,d){h=J_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ir(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Nr(t,l,i),a!==null&&(un(a,t,i),Jo(a,t,i))}function Z_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function qd(t,i){Z_(t,i),(t=t.alternate)&&Z_(t,i)}function ev(t){if(t.tag===13||t.tag===31){var i=Ns(t,67108864);i!==null&&un(i,t,67108864),qd(t,67108864)}}function tv(t){if(t.tag===13||t.tag===31){var i=vn();i=ys(i);var a=Ns(t,i);a!==null&&un(a,t,i),qd(t,i)}}var Oc=!0;function db(t,i,a,l){var h=$.T;$.T=null;var d=se.p;try{se.p=2,Fd(t,i,a,l)}finally{se.p=d,$.T=h}}function mb(t,i,a,l){var h=$.T;$.T=null;var d=se.p;try{se.p=8,Fd(t,i,a,l)}finally{se.p=d,$.T=h}}function Fd(t,i,a,l){if(Oc){var h=Gd(l);if(h===null)Dd(t,i,l,Mc,a),iv(t,l);else if(gb(h,t,i,a,l))l.stopPropagation();else if(iv(t,l),i&4&&-1<pb.indexOf(t)){for(;h!==null;){var d=Sn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ni(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var O=1<<31-ft(_);S.entanglements[1]|=O,_&=~O}Ti(d),(qe&6)===0&&(mc=Zt()+500,dl(0))}}break;case 31:case 13:S=Ns(d,2),S!==null&&un(S,d,2),gc(),qd(d,2)}if(d=Gd(l),d===null&&Dd(t,i,l,Mc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Dd(t,i,l,null,a)}}function Gd(t){return t=An(t),Yd(t)}var Mc=null;function Yd(t){if(Mc=null,t=oi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Mc=t,null}function nv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ds()){case So:return 2;case Ao:return 8;case dr:case Jh:return 32;case cu:return 268435456;default:return 32}default:return 32}}var Kd=!1,zr=null,Br=null,Hr=null,El=new Map,Tl=new Map,qr=[],pb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iv(t,i){switch(t){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":El.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(i.pointerId)}}function Sl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Sn(i),i!==null&&ev(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function gb(t,i,a,l,h){switch(i){case"focusin":return zr=Sl(zr,t,i,a,l,h),!0;case"dragenter":return Br=Sl(Br,t,i,a,l,h),!0;case"mouseover":return Hr=Sl(Hr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return El.set(d,Sl(El.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Tl.set(d,Sl(Tl.get(d)||null,t,i,a,l,h)),!0}return!1}function rv(t){var i=oi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,jn(t.priority,function(){tv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,jn(t.priority,function(){tv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Gd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ko=l,a.target.dispatchEvent(l),ko=null}else return i=Sn(a),i!==null&&ev(i),t.blockedOn=a,!1;i.shift()}return!0}function sv(t,i,a){xc(t)&&a.delete(i)}function yb(){Kd=!1,zr!==null&&xc(zr)&&(zr=null),Br!==null&&xc(Br)&&(Br=null),Hr!==null&&xc(Hr)&&(Hr=null),El.forEach(sv),Tl.forEach(sv)}function Vc(t,i){t.blockedOn===i&&(t.blockedOn=null,Kd||(Kd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,yb)))}var kc=null;function av(t){kc!==t&&(kc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){kc===t&&(kc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Yd(l||a)===null)continue;break}var d=Sn(a);d!==null&&(t.splice(i,3),i-=3,Gf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Fa(t){function i(O){return Vc(O,t)}zr!==null&&Vc(zr,t),Br!==null&&Vc(Br,t),Hr!==null&&Vc(Hr,t),El.forEach(i),Tl.forEach(i);for(var a=0;a<qr.length;a++){var l=qr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<qr.length&&(a=qr[0],a.blockedOn===null);)rv(a),a.blockedOn===null&&qr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Vt]||null;if(typeof d=="function")_||av(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Vt]||null)S=_.formAction;else if(Yd(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),av(a)}}}function ov(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Qd(t){this._internalRoot=t}Lc.prototype.render=Qd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=vn();W_(a,l,t,i,null,null)},Lc.prototype.unmount=Qd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;W_(t.current,2,null,t,null,null),gc(),i[si]=null}};function Lc(t){this._internalRoot=t}Lc.prototype.unstable_scheduleHydration=function(t){if(t){var i=gu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<qr.length&&i!==0&&i<qr[a].priority;a++);qr.splice(a,0,t),a===0&&rv(t)}};var lv=e.version;if(lv!=="19.2.1")throw Error(s(527,lv,"19.2.1"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var _b={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{Pn=Pc.inject(_b),jt=Pc}catch{}}return bl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=py,d=gy,_=yy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=$_(t,1,!1,null,null,a,l,null,h,d,_,ov),t[si]=i.current,Nd(t),new Qd(i)},bl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=py,_=gy,S=yy,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),i=$_(t,1,!0,i,a??null,l,h,O,d,_,S,ov),i.context=J_(null),a=i.current,l=vn(),l=ys(l),h=Ir(l),h.callback=null,Nr(a,h,l),a=l,i.current.lanes=a,ps(i,a),Ti(i),t[si]=i.current,Nd(t),new Lc(i)},bl.version="19.2.1",bl}var _v;function Nb(){if(_v)return Jd.exports;_v=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Jd.exports=Ib(),Jd.exports}var Db=Nb();const Ob=eT(Db);var vv="popstate";function Mb(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return _m("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:jl(o)}return Vb(e,n,null,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Jn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xb(){return Math.random().toString(36).substring(2,10)}function Ev(r,e){return{usr:r.state,key:r.key,idx:e}}function _m(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?uo(e):e,state:n,key:e&&e.key||s||xb()}}function jl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function uo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Vb(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let B=E(),J=B==null?null:B-y;y=B,p&&p({action:m,location:K.location,delta:J})}function R(B,J){m="PUSH";let X=_m(K.location,B,J);y=E()+1;let ne=Ev(X,y),fe=K.createHref(X);try{f.pushState(ne,"",fe)}catch(ye){if(ye instanceof DOMException&&ye.name==="DataCloneError")throw ye;o.location.assign(fe)}u&&p&&p({action:m,location:K.location,delta:1})}function k(B,J){m="REPLACE";let X=_m(K.location,B,J);y=E();let ne=Ev(X,y),fe=K.createHref(X);f.replaceState(ne,"",fe),u&&p&&p({action:m,location:K.location,delta:0})}function z(B){return kb(B)}let K={get action(){return m},get location(){return r(o,f)},listen(B){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(vv,T),p=B,()=>{o.removeEventListener(vv,T),p=null}},createHref(B){return e(o,B)},createURL:z,encodeLocation(B){let J=z(B);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:R,replace:k,go(B){return f.go(B)}};return K}function kb(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:jl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function tT(r,e,n="/"){return Lb(r,e,n,!1)}function Lb(r,e,n,s){let o=typeof e=="string"?uo(e):e,u=nr(o.pathname||"/",n);if(u==null)return null;let f=nT(r);Pb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=Qb(u);m=Yb(f[p],y,s)}return m}function nT(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;lt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=Zi([s,E.relativePath]),R=n.concat(E);f.children&&f.children.length>0&&(lt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),nT(f.children,e,R,T,p)),!(f.path==null&&!f.index)&&e.push({path:T,score:Fb(T,f.index),routesMeta:R})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of iT(f.path))u(f,m,!0,p)}),e}function iT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=iT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function Pb(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Gb(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Ub=/^:[\w-]+$/,jb=3,zb=2,Bb=1,Hb=10,qb=-2,Tv=r=>r==="*";function Fb(r,e){let n=r.split("/"),s=n.length;return n.some(Tv)&&(s+=qb),e&&(s+=zb),n.filter(o=>!Tv(o)).reduce((o,u)=>o+(Ub.test(u)?jb:u===""?Bb:Hb),s)}function Gb(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Yb(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=oh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),R=p.route;if(!T&&y&&n&&!s[s.length-1].route.index&&(T=oh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:Zi([u,T.pathname]),pathnameBase:Zb(Zi([u,T.pathnameBase])),route:R}),T.pathnameBase!=="/"&&(u=Zi([u,T.pathnameBase]))}return f}function oh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Kb(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:T},R)=>{if(E==="*"){let z=m[R]||"";f=u.slice(0,u.length-z.length).replace(/(.)\/+$/,"$1")}const k=m[R];return T&&!k?y[E]=void 0:y[E]=(k||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function Kb(r,e=!1,n=!0){Jn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Qb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function nr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var Xb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$b=r=>Xb.test(r);function Jb(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?uo(r):r,u;if(n)if($b(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),Jn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=Sv(n.substring(1),"/"):u=Sv(n,e)}else u=e;return{pathname:u,search:ew(s),hash:tw(o)}}function Sv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function tm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Wb(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rT(r){let e=Wb(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function sT(r,e,n,s=!1){let o;typeof r=="string"?o=uo(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),tm("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),tm("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),tm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),T-=1;o.pathname=R.join("/")}m=T>=0?e[T]:"/"}let p=Jb(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Zi=r=>r.join("/").replace(/\/\/+/g,"/"),Zb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),ew=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,tw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function nw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function iw(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var aT=["POST","PUT","PATCH","DELETE"];new Set(aT);var rw=["GET",...aT];new Set(rw);var co=U.createContext(null);co.displayName="DataRouter";var Nh=U.createContext(null);Nh.displayName="DataRouterState";U.createContext(!1);var oT=U.createContext({isTransitioning:!1});oT.displayName="ViewTransition";var sw=U.createContext(new Map);sw.displayName="Fetchers";var aw=U.createContext(null);aw.displayName="Await";var Zn=U.createContext(null);Zn.displayName="Navigation";var Xl=U.createContext(null);Xl.displayName="Location";var lr=U.createContext({outlet:null,matches:[],isDataRoute:!1});lr.displayName="Route";var Gm=U.createContext(null);Gm.displayName="RouteError";function ow(r,{relative:e}={}){lt($l(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(Zn),{hash:o,pathname:u,search:f}=Jl(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Zi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function $l(){return U.useContext(Xl)!=null}function us(){return lt($l(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Xl).location}var lT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uT(r){U.useContext(Zn).static||U.useLayoutEffect(r)}function lw(){let{isDataRoute:r}=U.useContext(lr);return r?Tw():uw()}function uw(){lt($l(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(co),{basename:e,navigator:n}=U.useContext(Zn),{matches:s}=U.useContext(lr),{pathname:o}=us(),u=JSON.stringify(rT(s)),f=U.useRef(!1);return uT(()=>{f.current=!0}),U.useCallback((p,y={})=>{if(Jn(f.current,lT),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=sT(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Zi([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}U.createContext(null);function Jl(r,{relative:e}={}){let{matches:n}=U.useContext(lr),{pathname:s}=us(),o=JSON.stringify(rT(n));return U.useMemo(()=>sT(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function cw(r,e){return cT(r,e)}function cT(r,e,n,s,o){lt($l(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=U.useContext(Zn),{matches:f}=U.useContext(lr),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let X=T&&T.path||"";hT(y,!T||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let R=us(),k;if(e){let X=typeof e=="string"?uo(e):e;lt(E==="/"||X.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${X.pathname}" was given in the \`location\` prop.`),k=X}else k=R;let z=k.pathname||"/",K=z;if(E!=="/"){let X=E.replace(/^\//,"").split("/");K="/"+z.replace(/^\//,"").split("/").slice(X.length).join("/")}let B=tT(r,{pathname:K});Jn(T||B!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Jn(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=pw(B&&B.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:Zi([E,u.encodeLocation?u.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?E:Zi([E,u.encodeLocation?u.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),f,n,s,o);return e&&J?U.createElement(Xl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},J):J}function hw(){let r=Ew(),e=nw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:o},n):null,f)}var fw=U.createElement(hw,null),dw=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?U.createElement(lr.Provider,{value:this.props.routeContext},U.createElement(Gm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mw({routeContext:r,match:e,children:n}){let s=U.useContext(co);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(lr.Provider,{value:r},n)}function pw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);lt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:R,errors:k}=n,z=T.route.loader&&!R.hasOwnProperty(T.route.id)&&(!k||k[T.route.id]===void 0);if(T.route.lazy||z){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let y=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:iw(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,R)=>{let k,z=!1,K=null,B=null;n&&(k=f&&T.route.id?f[T.route.id]:void 0,K=T.route.errorElement||fw,m&&(p<0&&R===0?(hT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),z=!0,B=null):p===R&&(z=!0,B=T.route.hydrateFallbackElement||null)));let J=e.concat(u.slice(0,R+1)),X=()=>{let ne;return k?ne=K:z?ne=B:T.route.Component?ne=U.createElement(T.route.Component,null):T.route.element?ne=T.route.element:ne=E,U.createElement(mw,{match:T,routeContext:{outlet:E,matches:J,isDataRoute:n!=null},children:ne})};return n&&(T.route.ErrorBoundary||T.route.errorElement||R===0)?U.createElement(dw,{location:n.location,revalidation:n.revalidation,component:K,error:k,children:X(),routeContext:{outlet:null,matches:J,isDataRoute:!0},onError:y}):X()},null)}function Ym(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gw(r){let e=U.useContext(co);return lt(e,Ym(r)),e}function yw(r){let e=U.useContext(Nh);return lt(e,Ym(r)),e}function _w(r){let e=U.useContext(lr);return lt(e,Ym(r)),e}function Km(r){let e=_w(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function vw(){return Km("useRouteId")}function Ew(){let r=U.useContext(Gm),e=yw("useRouteError"),n=Km("useRouteError");return r!==void 0?r:e.errors?.[n]}function Tw(){let{router:r}=gw("useNavigate"),e=Km("useNavigate"),n=U.useRef(!1);return uT(()=>{n.current=!0}),U.useCallback(async(o,u={})=>{Jn(n.current,lT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Av={};function hT(r,e,n){!e&&!Av[r]&&(Av[r]=!0,Jn(!1,n))}U.memo(Sw);function Sw({routes:r,future:e,state:n,unstable_onError:s}){return cT(r,void 0,n,s,e)}function Qc(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Aw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){lt(!$l(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=U.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=uo(n));let{pathname:y="/",search:E="",hash:T="",state:R=null,key:k="default"}=n,z=U.useMemo(()=>{let K=nr(y,m);return K==null?null:{location:{pathname:K,search:E,hash:T,state:R,key:k},navigationType:s}},[m,y,E,T,R,k,s]);return Jn(z!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),z==null?null:U.createElement(Zn.Provider,{value:p},U.createElement(Xl.Provider,{children:e,value:z}))}function bw({children:r,location:e}){return cw(vm(r),e)}function vm(r,e=[]){let n=[];return U.Children.forEach(r,(s,o)=>{if(!U.isValidElement(s))return;let u=[...e,o];if(s.type===U.Fragment){n.push.apply(n,vm(s.props.children,u));return}lt(s.type===Qc,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=vm(s.props.children,u)),n.push(f)}),n}var Xc="get",$c="application/x-www-form-urlencoded";function Dh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function ww(r){return Dh(r)&&r.tagName.toLowerCase()==="button"}function Rw(r){return Dh(r)&&r.tagName.toLowerCase()==="form"}function Cw(r){return Dh(r)&&r.tagName.toLowerCase()==="input"}function Iw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Nw(r,e){return r.button===0&&(!e||e==="_self")&&!Iw(r)}var Uc=null;function Dw(){if(Uc===null)try{new FormData(document.createElement("form"),0),Uc=!1}catch{Uc=!0}return Uc}var Ow=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nm(r){return r!=null&&!Ow.has(r)?(Jn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$c}"`),null):r}function Mw(r,e){let n,s,o,u,f;if(Rw(r)){let m=r.getAttribute("action");s=m?nr(m,e):null,n=r.getAttribute("method")||Xc,o=nm(r.getAttribute("enctype"))||$c,u=new FormData(r)}else if(ww(r)||Cw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?nr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Xc,o=nm(r.getAttribute("formenctype"))||nm(m.getAttribute("enctype"))||$c,u=new FormData(m,r),!Dw()){let{name:y,type:E,value:T}=r;if(E==="image"){let R=y?`${y}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else y&&u.append(y,T)}}else{if(Dh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xc,s=null,o=$c,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function xw(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&nr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function Vw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Lw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await Vw(u,n);return f.links?f.links():[]}return[]}));return zw(s.flat(1).filter(kw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function bv(r,e,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Pw(r,e,{includeHydrateFallback:n}={}){return Uw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Uw(r){return[...new Set(r)]}function jw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function zw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(jw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function fT(){let r=U.useContext(co);return Qm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Bw(){let r=U.useContext(Nh);return Qm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Xm=U.createContext(void 0);Xm.displayName="FrameworkContext";function dT(){let r=U.useContext(Xm);return Qm(r,"You must render this element inside a <HydratedRouter> element"),r}function Hw(r,e){let n=U.useContext(Xm),[s,o]=U.useState(!1),[u,f]=U.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:T}=e,R=U.useRef(null);U.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let K=J=>{J.forEach(X=>{f(X.isIntersecting)})},B=new IntersectionObserver(K,{threshold:.5});return R.current&&B.observe(R.current),()=>{B.disconnect()}}},[r]),U.useEffect(()=>{if(s){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[s]);let k=()=>{o(!0)},z=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:wl(m,k),onBlur:wl(p,z),onMouseEnter:wl(y,k),onMouseLeave:wl(E,z),onTouchStart:wl(T,k)}]:[!1,R,{}]}function wl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function qw({page:r,...e}){let{router:n}=fT(),s=U.useMemo(()=>tT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?U.createElement(Gw,{page:r,matches:s,...e}):null}function Fw(r){let{manifest:e,routeModules:n}=dT(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return Lw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function Gw({page:r,matches:e,...n}){let s=us(),{manifest:o,routeModules:u}=dT(),{basename:f}=fT(),{loaderData:m,matches:p}=Bw(),y=U.useMemo(()=>bv(r,e,p,o,s,"data"),[r,e,p,o,s]),E=U.useMemo(()=>bv(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=U.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let z=new Set,K=!1;if(e.forEach(J=>{let X=o.routes[J.route.id];!X||!X.hasLoader||(!y.some(ne=>ne.route.id===J.route.id)&&J.route.id in m&&u[J.route.id]?.shouldRevalidate||X.hasClientLoader?K=!0:z.add(J.route.id))}),z.size===0)return[];let B=xw(r,f,"data");return K&&z.size>0&&B.searchParams.set("_routes",e.filter(J=>z.has(J.route.id)).map(J=>J.route.id).join(",")),[B.pathname+B.search]},[f,m,s,o,y,e,r,u]),R=U.useMemo(()=>Pw(E,o),[E,o]),k=Fw(E);return U.createElement(U.Fragment,null,T.map(z=>U.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),R.map(z=>U.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),k.map(({key:z,link:K})=>U.createElement("link",{key:z,nonce:n.nonce,...K})))}function Yw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var mT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mT&&(window.__reactRouterVersion="7.10.1")}catch{}function Kw({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=U.useRef();o.current==null&&(o.current=Mb({window:s,v5Compat:!0}));let u=o.current,[f,m]=U.useState({action:u.action,location:u.location}),p=U.useCallback(y=>{n===!1?m(y):U.startTransition(()=>m(y))},[n]);return U.useLayoutEffect(()=>u.listen(p),[u,p]),U.createElement(Aw,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n===!0})}var pT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$r=U.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:T,...R},k){let{basename:z,unstable_useTransitions:K}=U.useContext(Zn),B=typeof y=="string"&&pT.test(y),J,X=!1;if(typeof y=="string"&&B&&(J=y,mT))try{let M=new URL(window.location.href),C=y.startsWith("//")?new URL(M.protocol+y):new URL(y),L=nr(C.pathname,z);C.origin===M.origin&&L!=null?y=L+C.search+C.hash:X=!0}catch{Jn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=ow(y,{relative:o}),[fe,ye,pe]=Hw(s,R),N=Jw(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_useTransitions:K});function b(M){e&&e(M),M.defaultPrevented||N(M)}let I=U.createElement("a",{...R,...pe,href:J||ne,onClick:X||u?e:b,ref:Yw(k,ye),target:p,"data-discover":!B&&n==="render"?"true":void 0});return fe&&!B?U.createElement(U.Fragment,null,I,U.createElement(qw,{page:ne})):I});$r.displayName="Link";var Qw=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let T=Jl(f,{relative:y.relative}),R=us(),k=U.useContext(Nh),{navigator:z,basename:K}=U.useContext(Zn),B=k!=null&&n1(T)&&m===!0,J=z.encodeLocation?z.encodeLocation(T).pathname:T.pathname,X=R.pathname,ne=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(X=X.toLowerCase(),ne=ne?ne.toLowerCase():null,J=J.toLowerCase()),ne&&K&&(ne=nr(ne,K)||ne);const fe=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let ye=X===J||!o&&X.startsWith(J)&&X.charAt(fe)==="/",pe=ne!=null&&(ne===J||!o&&ne.startsWith(J)&&ne.charAt(J.length)==="/"),N={isActive:ye,isPending:pe,isTransitioning:B},b=ye?e:void 0,I;typeof s=="function"?I=s(N):I=[s,ye?"active":null,pe?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(N):u;return U.createElement($r,{...y,"aria-current":b,className:I,ref:E,style:M,to:f,viewTransition:m},typeof p=="function"?p(N):p)});Qw.displayName="NavLink";var Xw=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Xc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:T,...R},k)=>{let{unstable_useTransitions:z}=U.useContext(Zn),K=e1(),B=t1(m,{relative:y}),J=f.toLowerCase()==="get"?"get":"post",X=typeof m=="string"&&pT.test(m),ne=fe=>{if(p&&p(fe),fe.defaultPrevented)return;fe.preventDefault();let ye=fe.nativeEvent.submitter,pe=ye?.getAttribute("formmethod")||f,N=()=>K(ye||fe.currentTarget,{fetcherKey:e,method:pe,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:T});z&&n!==!1?U.startTransition(()=>N()):N()};return U.createElement("form",{ref:k,method:J,action:B,onSubmit:s?p:ne,...R,"data-discover":!X&&r==="render"?"true":void 0})});Xw.displayName="Form";function $w(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gT(r){let e=U.useContext(co);return lt(e,$w(r)),e}function Jw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_useTransitions:m}={}){let p=lw(),y=us(),E=Jl(r,{relative:u});return U.useCallback(T=>{if(Nw(T,e)){T.preventDefault();let R=n!==void 0?n:jl(y)===jl(E),k=()=>p(r,{replace:R,state:s,preventScrollReset:o,relative:u,viewTransition:f});m?U.startTransition(()=>k()):k()}},[y,p,E,n,s,e,r,o,u,f,m])}var Ww=0,Zw=()=>`__${String(++Ww)}__`;function e1(){let{router:r}=gT("useSubmit"),{basename:e}=U.useContext(Zn),n=vw(),s=r.fetch,o=r.navigate;return U.useCallback(async(u,f={})=>{let{action:m,method:p,encType:y,formData:E,body:T}=Mw(u,e);if(f.navigate===!1){let R=f.fetcherKey||Zw();await s(R,n,f.action||m,{preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function t1(r,{relative:e}={}){let{basename:n}=U.useContext(Zn),s=U.useContext(lr);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Jl(r||".",{relative:e})},f=us();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Zi([n,u.pathname])),jl(u)}function n1(r,{relative:e}={}){let n=U.useContext(oT);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=gT("useViewTransitionState"),o=Jl(r,{relative:e});if(!n.isTransitioning)return!1;let u=nr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=nr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return oh(o.pathname,f)!=null||oh(o.pathname,u)!=null}const i1=()=>{};var wv={};const yT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},r1=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},_T={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let R=(m&15)<<2|y>>6,k=y&63;p||(k=64,f||(R=64)),s.push(n[E],n[T],n[R],n[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(yT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):r1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||T==null)throw new s1;const R=u<<2|m>>4;if(s.push(R),y!==64){const k=m<<4&240|y>>2;if(s.push(k),T!==64){const z=y<<6&192|T;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class s1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a1=function(r){const e=yT(r);return _T.encodeByteArray(e,!0)},lh=function(r){return a1(r).replace(/\./g,"")},vT=function(r){try{return _T.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function o1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const l1=()=>o1().__FIREBASE_DEFAULTS__,u1=()=>{if(typeof process>"u"||typeof wv>"u")return;const r=wv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},c1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&vT(r[1]);return e&&JSON.parse(e)},Oh=()=>{try{return i1()||l1()||u1()||c1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},ET=r=>Oh()?.emulatorHosts?.[r],h1=r=>{const e=ET(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},TT=()=>Oh()?.config,ST=r=>Oh()?.[`_${r}`];class f1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function ho(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function AT(r){return(await fetch(r,{credentials:"include"})).ok}function d1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[lh(JSON.stringify(n)),lh(JSON.stringify(f)),""].join(".")}const Ml={};function m1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ml))Ml[e]?r.emulator.push(e):r.prod.push(e);return r}function p1(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Rv=!1;function bT(r,e){if(typeof window>"u"||typeof document>"u"||!ho(window.location.host)||Ml[r]===e||Ml[r]||Rv)return;Ml[r]=e;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=m1().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function p(R,k){R.setAttribute("width","24"),R.setAttribute("id",k),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{Rv=!0,f()},R}function E(R,k){R.setAttribute("id",k),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function T(){const R=p1(s),k=n("text"),z=document.getElementById(k)||document.createElement("span"),K=n("learnmore"),B=document.getElementById(K)||document.createElement("a"),J=n("preprendIcon"),X=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const ne=R.element;m(ne),E(B,K);const fe=y();p(X,J),ne.append(X,z,B,fe),document.body.appendChild(ne)}u?(z.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function g1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function y1(){const r=Oh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function v1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function E1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function T1(){const r=Wt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function S1(){return!y1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A1(){try{return typeof indexedDB=="object"}catch{return!1}}function b1(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const w1="FirebaseError";class ur extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=w1,Object.setPrototypeOf(this,ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wl.prototype.create)}}class Wl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?R1(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ur(o,m,s)}}function R1(r,e){return r.replace(C1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const C1=/\{\$([^}]+)}/g;function I1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ir(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Cv(u)&&Cv(f)){if(!ir(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Cv(r){return r!==null&&typeof r=="object"}function Zl(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Rl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Cl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function N1(r,e){const n=new D1(r,e);return n.subscribe.bind(n)}class D1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");O1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=im),o.error===void 0&&(o.error=im),o.complete===void 0&&(o.complete=im);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function O1(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function im(){}function En(r){return r&&r._delegate?r._delegate:r}class Gs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Hs="[DEFAULT]";class M1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new f1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(V1(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:x1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function x1(r){return r===Hs?void 0:r}function V1(r){return r.instantiationMode==="EAGER"}class k1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new M1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var xe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xe||(xe={}));const L1={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},P1=xe.INFO,U1={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},j1=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=U1[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $m{constructor(e){this.name=e,this._logLevel=P1,this._logHandler=j1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?L1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const z1=(r,e)=>e.some(n=>r instanceof n);let Iv,Nv;function B1(){return Iv||(Iv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function H1(){return Nv||(Nv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wT=new WeakMap,Em=new WeakMap,RT=new WeakMap,rm=new WeakMap,Jm=new WeakMap;function q1(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Wr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&wT.set(n,r)}).catch(()=>{}),Jm.set(e,r),e}function F1(r){if(Em.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Em.set(r,e)}let Tm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Em.get(r);if(e==="objectStoreNames")return r.objectStoreNames||RT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function G1(r){Tm=r(Tm)}function Y1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(sm(this),e,...n);return RT.set(s,e.sort?e.sort():[e]),Wr(s)}:H1().includes(r)?function(...e){return r.apply(sm(this),e),Wr(wT.get(this))}:function(...e){return Wr(r.apply(sm(this),e))}}function K1(r){return typeof r=="function"?Y1(r):(r instanceof IDBTransaction&&F1(r),z1(r,B1())?new Proxy(r,Tm):r)}function Wr(r){if(r instanceof IDBRequest)return q1(r);if(rm.has(r))return rm.get(r);const e=K1(r);return e!==r&&(rm.set(r,e),Jm.set(e,r)),e}const sm=r=>Jm.get(r);function Q1(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Wr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Wr(f.result),p.oldVersion,p.newVersion,Wr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const X1=["get","getKey","getAll","getAllKeys","count"],$1=["put","add","delete","clear"],am=new Map;function Dv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(am.get(e))return am.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=$1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||X1.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return am.set(e,u),u}G1(r=>({...r,get:(e,n,s)=>Dv(e,n)||r.get(e,n,s),has:(e,n)=>!!Dv(e,n)||r.has(e,n)}));class J1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(W1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function W1(r){return r.getComponent()?.type==="VERSION"}const Sm="@firebase/app",Ov="0.14.6";const rr=new $m("@firebase/app"),Z1="@firebase/app-compat",eR="@firebase/analytics-compat",tR="@firebase/analytics",nR="@firebase/app-check-compat",iR="@firebase/app-check",rR="@firebase/auth",sR="@firebase/auth-compat",aR="@firebase/database",oR="@firebase/data-connect",lR="@firebase/database-compat",uR="@firebase/functions",cR="@firebase/functions-compat",hR="@firebase/installations",fR="@firebase/installations-compat",dR="@firebase/messaging",mR="@firebase/messaging-compat",pR="@firebase/performance",gR="@firebase/performance-compat",yR="@firebase/remote-config",_R="@firebase/remote-config-compat",vR="@firebase/storage",ER="@firebase/storage-compat",TR="@firebase/firestore",SR="@firebase/ai",AR="@firebase/firestore-compat",bR="firebase",wR="12.6.0";const Am="[DEFAULT]",RR={[Sm]:"fire-core",[Z1]:"fire-core-compat",[tR]:"fire-analytics",[eR]:"fire-analytics-compat",[iR]:"fire-app-check",[nR]:"fire-app-check-compat",[rR]:"fire-auth",[sR]:"fire-auth-compat",[aR]:"fire-rtdb",[oR]:"fire-data-connect",[lR]:"fire-rtdb-compat",[uR]:"fire-fn",[cR]:"fire-fn-compat",[hR]:"fire-iid",[fR]:"fire-iid-compat",[dR]:"fire-fcm",[mR]:"fire-fcm-compat",[pR]:"fire-perf",[gR]:"fire-perf-compat",[yR]:"fire-rc",[_R]:"fire-rc-compat",[vR]:"fire-gcs",[ER]:"fire-gcs-compat",[TR]:"fire-fst",[AR]:"fire-fst-compat",[SR]:"fire-vertex","fire-js":"fire-js",[bR]:"fire-js-all"};const uh=new Map,CR=new Map,bm=new Map;function Mv(r,e){try{r.container.addComponent(e)}catch(n){rr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function eo(r){const e=r.name;if(bm.has(e))return rr.debug(`There were multiple attempts to register component ${e}.`),!1;bm.set(e,r);for(const n of uh.values())Mv(n,r);for(const n of CR.values())Mv(n,r);return!0}function Wm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Vn(r){return r==null?!1:r.settings!==void 0}const IR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zr=new Wl("app","Firebase",IR);class NR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}}const fo=wR;function CT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Am,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Zr.create("bad-app-name",{appName:String(o)});if(n||(n=TT()),!n)throw Zr.create("no-options");const u=uh.get(o);if(u){if(ir(n,u.options)&&ir(s,u.config))return u;throw Zr.create("duplicate-app",{appName:o})}const f=new k1(o);for(const p of bm.values())f.addComponent(p);const m=new NR(n,s,f);return uh.set(o,m),m}function IT(r=Am){const e=uh.get(r);if(!e&&r===Am&&TT())return CT();if(!e)throw Zr.create("no-app",{appName:r});return e}function es(r,e,n){let s=RR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rr.warn(f.join(" "));return}eo(new Gs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const DR="firebase-heartbeat-database",OR=1,zl="firebase-heartbeat-store";let om=null;function NT(){return om||(om=Q1(DR,OR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(zl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Zr.create("idb-open",{originalErrorMessage:r.message})})),om}async function MR(r){try{const n=(await NT()).transaction(zl),s=await n.objectStore(zl).get(DT(r));return await n.done,s}catch(e){if(e instanceof ur)rr.warn(e.message);else{const n=Zr.create("idb-get",{originalErrorMessage:e?.message});rr.warn(n.message)}}}async function xv(r,e){try{const s=(await NT()).transaction(zl,"readwrite");await s.objectStore(zl).put(e,DT(r)),await s.done}catch(n){if(n instanceof ur)rr.warn(n.message);else{const s=Zr.create("idb-set",{originalErrorMessage:n?.message});rr.warn(s.message)}}}function DT(r){return`${r.name}!${r.options.appId}`}const xR=1024,VR=30;class kR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Vv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>VR){const o=UR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){rr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Vv(),{heartbeatsToSend:n,unsentEntries:s}=LR(this._heartbeatsCache.heartbeats),o=lh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return rr.warn(e),""}}}function Vv(){return new Date().toISOString().substring(0,10)}function LR(r,e=xR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),kv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),kv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class PR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return A1()?b1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await MR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return xv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return xv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function kv(r){return lh(JSON.stringify({version:2,heartbeats:r})).length}function UR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function jR(r){eo(new Gs("platform-logger",e=>new J1(e),"PRIVATE")),eo(new Gs("heartbeat",e=>new kR(e),"PRIVATE")),es(Sm,Ov,r),es(Sm,Ov,"esm2020"),es("fire-js","")}jR("");function OT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zR=OT,MT=new Wl("auth","Firebase",OT());const ch=new $m("@firebase/auth");function BR(r,...e){ch.logLevel<=xe.WARN&&ch.warn(`Auth (${fo}): ${r}`,...e)}function Jc(r,...e){ch.logLevel<=xe.ERROR&&ch.error(`Auth (${fo}): ${r}`,...e)}function Wn(r,...e){throw Zm(r,...e)}function Ai(r,...e){return Zm(r,...e)}function xT(r,e,n){const s={...zR(),[e]:n};return new Wl("auth","Firebase",s).create(e,{appName:r.name})}function er(r){return xT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zm(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return MT.create(r,...e)}function ve(r,e,...n){if(!r)throw Zm(e,...n)}function Ji(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Jc(e),new Error(e)}function sr(r,e){r||Ji(e)}function wm(){return typeof self<"u"&&self.location?.href||""}function HR(){return Lv()==="http:"||Lv()==="https:"}function Lv(){return typeof self<"u"&&self.location?.protocol||null}function qR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HR()||v1()||"connection"in navigator)?navigator.onLine:!0}function FR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,sr(n>e,"Short delay should be less than long delay!"),this.isMobile=g1()||E1()}get(){return qR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ep(r,e){sr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class VT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const GR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const YR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KR=new eu(3e4,6e4);function cr(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function hr(r,e,n,s,o={}){return kT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Zl({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:p,...u};return _1()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&ho(r.emulatorConfig.host)&&(y.credentials="include"),VT.fetch()(await LT(r,r.config.apiHost,n,m),y)})}async function kT(r,e,n){r._canInitEmulator=!1;const s={...GR,...e};try{const o=new XR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw jc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw jc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw jc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw jc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw xT(r,E,y);Wn(r,E)}}catch(o){if(o instanceof ur)throw o;Wn(r,"network-request-failed",{message:String(o)})}}async function tu(r,e,n,s,o={}){const u=await hr(r,e,n,s,o);return"mfaPendingCredential"in u&&Wn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function LT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?ep(r.config,o):`${r.config.apiScheme}://${o}`;return YR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function QR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ai(this.auth,"network-request-failed")),KR.get())})}}function jc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ai(r,e,s);return o.customData._tokenResponse=n,o}function Pv(r){return r!==void 0&&r.enterprise!==void 0}class $R{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return QR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function JR(r,e){return hr(r,"GET","/v2/recaptchaConfig",cr(r,e))}async function WR(r,e){return hr(r,"POST","/v1/accounts:delete",e)}async function hh(r,e){return hr(r,"POST","/v1/accounts:lookup",e)}function xl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZR(r,e=!1){const n=En(r),s=await n.getIdToken(e),o=tp(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:xl(lm(o.auth_time)),issuedAtTime:xl(lm(o.iat)),expirationTime:xl(lm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function lm(r){return Number(r)*1e3}function tp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Jc("JWT malformed, contained fewer than 3 sections"),null;try{const o=vT(n);return o?JSON.parse(o):(Jc("Failed to decode base64 JWT payload"),null)}catch(o){return Jc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Uv(r){const e=tp(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Bl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ur&&eC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function eC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class tC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Rm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function fh(r){const e=r.auth,n=await r.getIdToken(),s=await Bl(r,hh(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?PT(o.providerUserInfo):[],f=iC(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Rm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function nC(r){const e=En(r);await fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function PT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function rC(r,e){const n=await kT(r,{},async()=>{const s=Zl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await LT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&ho(r.emulatorConfig.host)&&(p.credentials="include"),VT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sC(r,e){return hr(r,"POST","/v2/accounts:revokeToken",cr(r,e))}class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Uv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=Uv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await rC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new $a;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return Ji("not implemented")}}function Gr(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Xn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new tC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Rm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Bl(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZR(this,e)}reload(){return nC(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await fh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(er(this.auth));const e=await this.getIdToken();return await Bl(this,WR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:R,isAnonymous:k,providerData:z,stsTokenManager:K}=n;ve(T&&K,e,"internal-error");const B=$a.fromJSON(this.name,K);ve(typeof T=="string",e,"internal-error"),Gr(s,e.name),Gr(o,e.name),ve(typeof R=="boolean",e,"internal-error"),ve(typeof k=="boolean",e,"internal-error"),Gr(u,e.name),Gr(f,e.name),Gr(m,e.name),Gr(p,e.name),Gr(y,e.name),Gr(E,e.name);const J=new Xn({uid:T,auth:e,email:o,emailVerified:R,displayName:s,isAnonymous:k,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:B,createdAt:y,lastLoginAt:E});return z&&Array.isArray(z)&&(J.providerData=z.map(X=>({...X}))),p&&(J._redirectEventId=p),J}static async _fromIdTokenResponse(e,n,s=!1){const o=new $a;o.updateFromServerResponse(n);const u=new Xn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await fh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?PT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new $a;m.updateFromIdToken(s);const p=new Xn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Rm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}const jv=new Map;function Wi(r){sr(r instanceof Function,"Expected a class definition");let e=jv.get(r);return e?(sr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,jv.set(r,e),e)}class UT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}UT.type="NONE";const zv=UT;function Wc(r,e,n){return`firebase:${r}:${e}:${n}`}class Ja{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Wc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Wc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await hh(this.auth,{idToken:e}).catch(()=>{});return n?Xn._fromGetAccountInfoResponse(this.auth,n,e):null}return Xn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ja(Wi(zv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Wi(zv);const f=Wc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let T;if(typeof E=="string"){const R=await hh(e,{idToken:E}).catch(()=>{});if(!R)break;T=await Xn._fromGetAccountInfoResponse(e,R,E)}else T=Xn._fromJSON(e,E);y!==u&&(m=T),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ja(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Ja(u,e,s))}}function Bv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FT(e))return"Blackberry";if(GT(e))return"Webos";if(zT(e))return"Safari";if((e.includes("chrome/")||BT(e))&&!e.includes("edge/"))return"Chrome";if(qT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function jT(r=Wt()){return/firefox\//i.test(r)}function zT(r=Wt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BT(r=Wt()){return/crios\//i.test(r)}function HT(r=Wt()){return/iemobile/i.test(r)}function qT(r=Wt()){return/android/i.test(r)}function FT(r=Wt()){return/blackberry/i.test(r)}function GT(r=Wt()){return/webos/i.test(r)}function np(r=Wt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function aC(r=Wt()){return np(r)&&!!window.navigator?.standalone}function oC(){return T1()&&document.documentMode===10}function YT(r=Wt()){return np(r)||qT(r)||GT(r)||FT(r)||/windows phone/i.test(r)||HT(r)}function KT(r,e=[]){let n;switch(r){case"Browser":n=Bv(Wt());break;case"Worker":n=`${Bv(Wt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fo}/${s}`}class lC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function uC(r,e={}){return hr(r,"GET","/v2/passwordPolicy",cr(r,e))}const cC=6;class hC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??cC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class fC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hv(this),this.idTokenSubscription=new Hv(this),this.beforeStateQueue=new lC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ja.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hh(this,{idToken:e}),s=await Xn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Vn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(er(this));const n=e?En(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uC(this),n=new hC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await sC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wi(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Ja.create(this,[Wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&BR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function cs(r){return En(r)}class Hv{constructor(e){this.auth=e,this.observer=null,this.addObserver=N1(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dC(r){Mh=r}function QT(r){return Mh.loadJS(r)}function mC(){return Mh.recaptchaEnterpriseScript}function pC(){return Mh.gapiScript}function gC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class yC{constructor(){this.enterprise=new _C}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class _C{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const vC="recaptcha-enterprise",XT="NO_RECAPTCHA";class EC{constructor(e){this.type=vC,this.auth=cs(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{JR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new $R(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Pv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(XT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Pv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=mC();p.length!==0&&(p+=m),QT(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function qv(r,e,n,s=!1,o=!1){const u=new EC(r);let f;if(o)f=XT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function dh(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await qv(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await qv(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function TC(r,e){const n=Wm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ir(u,e??{}))return o;Wn(o,"already-initialized")}return n.initialize({options:e})}function SC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Wi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function AC(r,e,n){const s=cs(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=$T(e),{host:f,port:m}=bC(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(ir(y,s.config.emulator)&&ir(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,ho(f)?(AT(`${u}//${f}${p}`),bT("Auth",!0)):wC()}function $T(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function bC(r){const e=$T(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Fv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Fv(f)}}}function Fv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function wC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class ip{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ji("not implemented")}_getIdTokenResponse(e){return Ji("not implemented")}_linkToIdToken(e,n){return Ji("not implemented")}_getReauthenticationResolver(e){return Ji("not implemented")}}async function RC(r,e){return hr(r,"POST","/v1/accounts:signUp",e)}async function CC(r,e){return tu(r,"POST","/v1/accounts:signInWithPassword",cr(r,e))}async function IC(r,e){return hr(r,"POST","/v1/accounts:sendOobCode",cr(r,e))}async function NC(r,e){return IC(r,e)}async function DC(r,e){return tu(r,"POST","/v1/accounts:signInWithEmailLink",cr(r,e))}async function OC(r,e){return tu(r,"POST","/v1/accounts:signInWithEmailLink",cr(r,e))}class Hl extends ip{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Hl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Hl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,n,"signInWithPassword",CC);case"emailLink":return DC(e,{email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,s,"signUpPassword",RC);case"emailLink":return OC(e,{idToken:n,email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Wa(r,e){return tu(r,"POST","/v1/accounts:signInWithIdp",cr(r,e))}const MC="http://localhost";class Ys extends ip{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Ys(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Wa(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Wa(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wa(e,n)}buildRequest(){const e={requestUri:MC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zl(n)}return e}}function xC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VC(r){const e=Rl(Cl(r)).link,n=e?Rl(Cl(e)).deep_link_id:null,s=Rl(Cl(r)).deep_link_id;return(s?Rl(Cl(s)).link:null)||s||n||e||r}class rp{constructor(e){const n=Rl(Cl(e)),s=n.apiKey??null,o=n.oobCode??null,u=xC(n.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=VC(e);try{return new rp(n)}catch{return null}}}class mo{constructor(){this.providerId=mo.PROVIDER_ID}static credential(e,n){return Hl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=rp.parseLink(n);return ve(s,"argument-error"),Hl._fromEmailAndCode(e,s.code,s.tenantId)}}mo.PROVIDER_ID="password";mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class JT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class nu extends JT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Yr extends nu{constructor(){super("facebook.com")}static credential(e){return Ys._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yr.PROVIDER_ID="facebook.com";class Kr extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ys._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Kr.credential(n,s)}catch{return null}}}Kr.GOOGLE_SIGN_IN_METHOD="google.com";Kr.PROVIDER_ID="google.com";class Qr extends nu{constructor(){super("github.com")}static credential(e){return Ys._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.GITHUB_SIGN_IN_METHOD="github.com";Qr.PROVIDER_ID="github.com";class Xr extends nu{constructor(){super("twitter.com")}static credential(e,n){return Ys._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Xr.credential(n,s)}catch{return null}}}Xr.TWITTER_SIGN_IN_METHOD="twitter.com";Xr.PROVIDER_ID="twitter.com";async function kC(r,e){return tu(r,"POST","/v1/accounts:signUp",cr(r,e))}class Ks{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Xn._fromIdTokenResponse(e,s,o),f=Gv(s);return new Ks({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Gv(s);return new Ks({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Gv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class mh extends ur{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new mh(e,n,s,o)}}function WT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(r,u,e,s):u})}async function LC(r,e,n=!1){const s=await Bl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Ks._forOperation(r,"link",s)}async function PC(r,e,n=!1){const{auth:s}=r;if(Vn(s.app))return Promise.reject(er(s));const o="reauthenticate";try{const u=await Bl(r,WT(s,o,e,r),n);ve(u.idToken,s,"internal-error");const f=tp(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(r.uid===m,s,"user-mismatch"),Ks._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Wn(s,"user-mismatch"),u}}async function ZT(r,e,n=!1){if(Vn(r.app))return Promise.reject(er(r));const s="signIn",o=await WT(r,s,e),u=await Ks._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function UC(r,e){return ZT(cs(r),e)}async function e0(r){const e=cs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function jC(r,e,n){const s=cs(r);await dh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",NC)}async function zC(r,e,n){if(Vn(r.app))return Promise.reject(er(r));const s=cs(r),f=await dh(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&e0(r),p}),m=await Ks._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function BC(r,e,n){return Vn(r.app)?Promise.reject(er(r)):UC(En(r),mo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&e0(r),s})}function HC(r,e,n,s){return En(r).onIdTokenChanged(e,n,s)}function qC(r,e,n){return En(r).beforeAuthStateChanged(e,n)}function t0(r,e,n,s){return En(r).onAuthStateChanged(e,n,s)}function FC(r){return En(r).signOut()}const ph="__sak";class n0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ph,"1"),this.storage.removeItem(ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const GC=1e3,YC=10;class i0 extends n0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);oC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,YC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},GC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}i0.type="LOCAL";const KC=i0;class r0 extends n0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}r0.type="SESSION";const s0=r0;function QC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new xh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await QC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xh.receivers=[];function sp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class XC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=sp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const R=T;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function bi(){return window}function $C(r){bi().location.href=r}function a0(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function JC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WC(){return navigator?.serviceWorker?.controller||null}function ZC(){return a0()?self:null}const o0="firebaseLocalStorageDb",eI=1,gh="firebaseLocalStorage",l0="fbase_key";class iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vh(r,e){return r.transaction([gh],e?"readwrite":"readonly").objectStore(gh)}function tI(){const r=indexedDB.deleteDatabase(o0);return new iu(r).toPromise()}function Cm(){const r=indexedDB.open(o0,eI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(gh,{keyPath:l0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(gh)?e(s):(s.close(),await tI(),e(await Cm()))})})}async function Yv(r,e,n){const s=Vh(r,!0).put({[l0]:e,value:n});return new iu(s).toPromise()}async function nI(r,e){const n=Vh(r,!1).get(e),s=await new iu(n).toPromise();return s===void 0?null:s.value}function Kv(r,e){const n=Vh(r,!0).delete(e);return new iu(n).toPromise()}const iI=800,rI=3;class u0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>rI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return a0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xh._getInstance(ZC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await JC(),!this.activeServiceWorker)return;this.sender=new XC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cm();return await Yv(e,ph,"1"),await Kv(e,ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Yv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>nI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Kv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Vh(o,!1).getAll();return new iu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}u0.type="LOCAL";const sI=u0;new eu(3e4,6e4);function aI(r,e){return e?Wi(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class ap extends ip{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function oI(r){return ZT(r.auth,new ap(r),r.bypassAuthState)}function lI(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),PC(n,new ap(r),r.bypassAuthState)}async function uI(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),LC(n,new ap(r),r.bypassAuthState)}class c0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oI;case"linkViaPopup":case"linkViaRedirect":return uI;case"reauthViaPopup":case"reauthViaRedirect":return lI;default:Wn(this.auth,"internal-error")}}resolve(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cI=new eu(2e3,1e4);class Xa extends c0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const e=sp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cI.get())};e()}}Xa.currentPopupAction=null;const hI="pendingRedirect",Zc=new Map;class fI extends c0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Zc.get(this.auth._key());if(!e){try{const s=await dI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Zc.set(this.auth._key(),e)}return this.bypassAuthState||Zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dI(r,e){const n=gI(e),s=pI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function mI(r,e){Zc.set(r._key(),e)}function pI(r){return Wi(r._redirectPersistence)}function gI(r){return Wc(hI,r.config.apiKey,r.name)}async function yI(r,e,n=!1){if(Vn(r.app))return Promise.reject(er(r));const s=cs(r),o=aI(s,e),f=await new fI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const _I=600*1e3;class vI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!h0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ai(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_I&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qv(e))}saveEventToCache(e){this.cachedEventUids.add(Qv(e)),this.lastProcessedEventTime=Date.now()}}function Qv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function h0({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function EI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return h0(r);default:return!1}}async function TI(r,e={}){return hr(r,"GET","/v1/projects",e)}const SI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AI=/^https?/;async function bI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await TI(r);for(const n of e)try{if(wI(n))return}catch{}Wn(r,"unauthorized-domain")}function wI(r){const e=wm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!AI.test(n))return!1;if(SI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const RI=new eu(3e4,6e4);function Xv(){const r=bi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function CI(r){return new Promise((e,n)=>{function s(){Xv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Xv(),n(Ai(r,"network-request-failed"))},timeout:RI.get()})}if(bi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(bi().gapi?.load)s();else{const o=gC("iframefcb");return bi()[o]=()=>{gapi.load?s():n(Ai(r,"network-request-failed"))},QT(`${pC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw eh=null,e})}let eh=null;function II(r){return eh=eh||CI(r),eh}const NI=new eu(5e3,15e3),DI="__/auth/iframe",OI="emulator/auth/iframe",MI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VI(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?ep(e,OI):`https://${r.config.authDomain}/${DI}`,s={apiKey:e.apiKey,appName:r.name,v:fo},o=xI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Zl(s).slice(1)}`}async function kI(r){const e=await II(r),n=bi().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:VI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ai(r,"network-request-failed"),m=bi().setTimeout(()=>{u(f)},NI.get());function p(){bi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const LI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PI=500,UI=600,jI="_blank",zI="http://localhost";class $v{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BI(r,e,n,s=PI,o=UI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...LI,width:s.toString(),height:o.toString(),top:u,left:f},y=Wt().toLowerCase();n&&(m=BT(y)?jI:n),jT(y)&&(e=e||zI,p.scrollbars="yes");const E=Object.entries(p).reduce((R,[k,z])=>`${R}${k}=${z},`,"");if(aC(y)&&m!=="_self")return HI(e||"",m),new $v(null);const T=window.open(e||"",m,E);ve(T,r,"popup-blocked");try{T.focus()}catch{}return new $v(T)}function HI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const qI="__/auth/handler",FI="emulator/auth/handler",GI=encodeURIComponent("fac");async function Jv(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:fo,eventId:o};if(e instanceof JT){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",I1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof nu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${GI}=${encodeURIComponent(p)}`:"";return`${YI(r)}?${Zl(m).slice(1)}${y}`}function YI({config:r}){return r.emulator?ep(r,FI):`https://${r.authDomain}/${qI}`}const um="webStorageSupport";class KI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=s0,this._completeRedirectFn=yI,this._overrideRedirectResult=mI}async _openPopup(e,n,s,o){sr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Jv(e,n,s,wm(),o);return BI(e,u,sp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Jv(e,n,s,wm(),o);return $C(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(sr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await kI(e),s=new vI(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(um,{type:um},o=>{const u=o?.[0]?.[um];u!==void 0&&n(!!u),Wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return YT()||zT()||np()}}const QI=KI;var Wv="@firebase/auth",Zv="1.11.1";class XI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function $I(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JI(r){eo(new Gs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KT(r)},y=new fC(s,o,u,p);return SC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),eo(new Gs("auth-internal",e=>{const n=cs(e.getProvider("auth").getImmediate());return(s=>new XI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),es(Wv,Zv,$I(r)),es(Wv,Zv,"esm2020")}const WI=300,ZI=ST("authIdTokenMaxAge")||WI;let eE=null;const e2=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>ZI)return;const o=n?.token;eE!==o&&(eE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function t2(r=IT()){const e=Wm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=TC(r,{popupRedirectResolver:QI,persistence:[sI,KC,s0]}),s=ST("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=e2(u.toString());qC(n,f,()=>f(n.currentUser)),HC(n,m=>f(m))}}const o=ET("auth");return o&&AC(n,`http://${o}`),n}function n2(){return document.getElementsByTagName("head")?.[0]??document}dC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ai("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",n2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JI("Browser");var i2="firebase",r2="12.6.0";es(i2,r2,"app");var tE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ts,f0;(function(){var r;function e(N,b){function I(){}I.prototype=b.prototype,N.F=b.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(M,C,L){for(var D=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)D[Fe-2]=arguments[Fe];return b.prototype[C].apply(M,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,b,I){I||(I=0);const M=Array(16);if(typeof b=="string")for(var C=0;C<16;++C)M[C]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(C=0;C<16;++C)M[C]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=N.g[0],I=N.g[1],C=N.g[2];let L=N.g[3],D;D=b+(L^I&(C^L))+M[0]+3614090360&4294967295,b=I+(D<<7&4294967295|D>>>25),D=L+(C^b&(I^C))+M[1]+3905402710&4294967295,L=b+(D<<12&4294967295|D>>>20),D=C+(I^L&(b^I))+M[2]+606105819&4294967295,C=L+(D<<17&4294967295|D>>>15),D=I+(b^C&(L^b))+M[3]+3250441966&4294967295,I=C+(D<<22&4294967295|D>>>10),D=b+(L^I&(C^L))+M[4]+4118548399&4294967295,b=I+(D<<7&4294967295|D>>>25),D=L+(C^b&(I^C))+M[5]+1200080426&4294967295,L=b+(D<<12&4294967295|D>>>20),D=C+(I^L&(b^I))+M[6]+2821735955&4294967295,C=L+(D<<17&4294967295|D>>>15),D=I+(b^C&(L^b))+M[7]+4249261313&4294967295,I=C+(D<<22&4294967295|D>>>10),D=b+(L^I&(C^L))+M[8]+1770035416&4294967295,b=I+(D<<7&4294967295|D>>>25),D=L+(C^b&(I^C))+M[9]+2336552879&4294967295,L=b+(D<<12&4294967295|D>>>20),D=C+(I^L&(b^I))+M[10]+4294925233&4294967295,C=L+(D<<17&4294967295|D>>>15),D=I+(b^C&(L^b))+M[11]+2304563134&4294967295,I=C+(D<<22&4294967295|D>>>10),D=b+(L^I&(C^L))+M[12]+1804603682&4294967295,b=I+(D<<7&4294967295|D>>>25),D=L+(C^b&(I^C))+M[13]+4254626195&4294967295,L=b+(D<<12&4294967295|D>>>20),D=C+(I^L&(b^I))+M[14]+2792965006&4294967295,C=L+(D<<17&4294967295|D>>>15),D=I+(b^C&(L^b))+M[15]+1236535329&4294967295,I=C+(D<<22&4294967295|D>>>10),D=b+(C^L&(I^C))+M[1]+4129170786&4294967295,b=I+(D<<5&4294967295|D>>>27),D=L+(I^C&(b^I))+M[6]+3225465664&4294967295,L=b+(D<<9&4294967295|D>>>23),D=C+(b^I&(L^b))+M[11]+643717713&4294967295,C=L+(D<<14&4294967295|D>>>18),D=I+(L^b&(C^L))+M[0]+3921069994&4294967295,I=C+(D<<20&4294967295|D>>>12),D=b+(C^L&(I^C))+M[5]+3593408605&4294967295,b=I+(D<<5&4294967295|D>>>27),D=L+(I^C&(b^I))+M[10]+38016083&4294967295,L=b+(D<<9&4294967295|D>>>23),D=C+(b^I&(L^b))+M[15]+3634488961&4294967295,C=L+(D<<14&4294967295|D>>>18),D=I+(L^b&(C^L))+M[4]+3889429448&4294967295,I=C+(D<<20&4294967295|D>>>12),D=b+(C^L&(I^C))+M[9]+568446438&4294967295,b=I+(D<<5&4294967295|D>>>27),D=L+(I^C&(b^I))+M[14]+3275163606&4294967295,L=b+(D<<9&4294967295|D>>>23),D=C+(b^I&(L^b))+M[3]+4107603335&4294967295,C=L+(D<<14&4294967295|D>>>18),D=I+(L^b&(C^L))+M[8]+1163531501&4294967295,I=C+(D<<20&4294967295|D>>>12),D=b+(C^L&(I^C))+M[13]+2850285829&4294967295,b=I+(D<<5&4294967295|D>>>27),D=L+(I^C&(b^I))+M[2]+4243563512&4294967295,L=b+(D<<9&4294967295|D>>>23),D=C+(b^I&(L^b))+M[7]+1735328473&4294967295,C=L+(D<<14&4294967295|D>>>18),D=I+(L^b&(C^L))+M[12]+2368359562&4294967295,I=C+(D<<20&4294967295|D>>>12),D=b+(I^C^L)+M[5]+4294588738&4294967295,b=I+(D<<4&4294967295|D>>>28),D=L+(b^I^C)+M[8]+2272392833&4294967295,L=b+(D<<11&4294967295|D>>>21),D=C+(L^b^I)+M[11]+1839030562&4294967295,C=L+(D<<16&4294967295|D>>>16),D=I+(C^L^b)+M[14]+4259657740&4294967295,I=C+(D<<23&4294967295|D>>>9),D=b+(I^C^L)+M[1]+2763975236&4294967295,b=I+(D<<4&4294967295|D>>>28),D=L+(b^I^C)+M[4]+1272893353&4294967295,L=b+(D<<11&4294967295|D>>>21),D=C+(L^b^I)+M[7]+4139469664&4294967295,C=L+(D<<16&4294967295|D>>>16),D=I+(C^L^b)+M[10]+3200236656&4294967295,I=C+(D<<23&4294967295|D>>>9),D=b+(I^C^L)+M[13]+681279174&4294967295,b=I+(D<<4&4294967295|D>>>28),D=L+(b^I^C)+M[0]+3936430074&4294967295,L=b+(D<<11&4294967295|D>>>21),D=C+(L^b^I)+M[3]+3572445317&4294967295,C=L+(D<<16&4294967295|D>>>16),D=I+(C^L^b)+M[6]+76029189&4294967295,I=C+(D<<23&4294967295|D>>>9),D=b+(I^C^L)+M[9]+3654602809&4294967295,b=I+(D<<4&4294967295|D>>>28),D=L+(b^I^C)+M[12]+3873151461&4294967295,L=b+(D<<11&4294967295|D>>>21),D=C+(L^b^I)+M[15]+530742520&4294967295,C=L+(D<<16&4294967295|D>>>16),D=I+(C^L^b)+M[2]+3299628645&4294967295,I=C+(D<<23&4294967295|D>>>9),D=b+(C^(I|~L))+M[0]+4096336452&4294967295,b=I+(D<<6&4294967295|D>>>26),D=L+(I^(b|~C))+M[7]+1126891415&4294967295,L=b+(D<<10&4294967295|D>>>22),D=C+(b^(L|~I))+M[14]+2878612391&4294967295,C=L+(D<<15&4294967295|D>>>17),D=I+(L^(C|~b))+M[5]+4237533241&4294967295,I=C+(D<<21&4294967295|D>>>11),D=b+(C^(I|~L))+M[12]+1700485571&4294967295,b=I+(D<<6&4294967295|D>>>26),D=L+(I^(b|~C))+M[3]+2399980690&4294967295,L=b+(D<<10&4294967295|D>>>22),D=C+(b^(L|~I))+M[10]+4293915773&4294967295,C=L+(D<<15&4294967295|D>>>17),D=I+(L^(C|~b))+M[1]+2240044497&4294967295,I=C+(D<<21&4294967295|D>>>11),D=b+(C^(I|~L))+M[8]+1873313359&4294967295,b=I+(D<<6&4294967295|D>>>26),D=L+(I^(b|~C))+M[15]+4264355552&4294967295,L=b+(D<<10&4294967295|D>>>22),D=C+(b^(L|~I))+M[6]+2734768916&4294967295,C=L+(D<<15&4294967295|D>>>17),D=I+(L^(C|~b))+M[13]+1309151649&4294967295,I=C+(D<<21&4294967295|D>>>11),D=b+(C^(I|~L))+M[4]+4149444226&4294967295,b=I+(D<<6&4294967295|D>>>26),D=L+(I^(b|~C))+M[11]+3174756917&4294967295,L=b+(D<<10&4294967295|D>>>22),D=C+(b^(L|~I))+M[2]+718787259&4294967295,C=L+(D<<15&4294967295|D>>>17),D=I+(L^(C|~b))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+b&4294967295,N.g[1]=N.g[1]+(C+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+C&4294967295,N.g[3]=N.g[3]+L&4294967295}s.prototype.v=function(N,b){b===void 0&&(b=N.length);const I=b-this.blockSize,M=this.C;let C=this.h,L=0;for(;L<b;){if(C==0)for(;L<=I;)o(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<b;)if(M[C++]=N.charCodeAt(L++),C==this.blockSize){o(this,M),C=0;break}}else for(;L<b;)if(M[C++]=N[L++],C==this.blockSize){o(this,M),C=0;break}}this.h=C,this.o+=b},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var b=1;b<N.length-8;++b)N[b]=0;b=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=b&255,b/=256;for(this.v(N),N=Array(16),b=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)N[b++]=this.g[I]>>>M&255;return N};function u(N,b){var I=m;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=b(N)}function f(N,b){this.h=b;const I=[];let M=!0;for(let C=N.length-1;C>=0;C--){const L=N[C]|0;M&&L==b||(I[C]=L,M=!1)}this.g=I}var m={};function p(N){return-128<=N&&N<128?u(N,function(b){return new f([b|0],b<0?-1:0)}):new f([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return T;if(N<0)return B(y(-N));const b=[];let I=1;for(let M=0;N>=I;M++)b[M]=N/I|0,I*=4294967296;return new f(b,0)}function E(N,b){if(N.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(N.charAt(0)=="-")return B(E(N.substring(1),b));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(b,8));let M=T;for(let L=0;L<N.length;L+=8){var C=Math.min(8,N.length-L);const D=parseInt(N.substring(L,L+C),b);C<8?(C=y(Math.pow(b,C)),M=M.j(C).add(y(D))):(M=M.j(I),M=M.add(y(D)))}return M}var T=p(0),R=p(1),k=p(16777216);r=f.prototype,r.m=function(){if(K(this))return-B(this).m();let N=0,b=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);N+=(M>=0?M:4294967296+M)*b,b*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(z(this))return"0";if(K(this))return"-"+B(this).toString(N);const b=y(Math.pow(N,6));var I=this;let M="";for(;;){const C=fe(I,b).g;I=J(I,C.j(b));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=C,z(I))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function z(N){if(N.h!=0)return!1;for(let b=0;b<N.g.length;b++)if(N.g[b]!=0)return!1;return!0}function K(N){return N.h==-1}r.l=function(N){return N=J(this,N),K(N)?-1:z(N)?0:1};function B(N){const b=N.g.length,I=[];for(let M=0;M<b;M++)I[M]=~N.g[M];return new f(I,~N.h).add(R)}r.abs=function(){return K(this)?B(this):this},r.add=function(N){const b=Math.max(this.g.length,N.g.length),I=[];let M=0;for(let C=0;C<=b;C++){let L=M+(this.i(C)&65535)+(N.i(C)&65535),D=(L>>>16)+(this.i(C)>>>16)+(N.i(C)>>>16);M=D>>>16,L&=65535,D&=65535,I[C]=D<<16|L}return new f(I,I[I.length-1]&-2147483648?-1:0)};function J(N,b){return N.add(B(b))}r.j=function(N){if(z(this)||z(N))return T;if(K(this))return K(N)?B(this).j(B(N)):B(B(this).j(N));if(K(N))return B(this.j(B(N)));if(this.l(k)<0&&N.l(k)<0)return y(this.m()*N.m());const b=this.g.length+N.g.length,I=[];for(var M=0;M<2*b;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let C=0;C<N.g.length;C++){const L=this.i(M)>>>16,D=this.i(M)&65535,Fe=N.i(C)>>>16,It=N.i(C)&65535;I[2*M+2*C]+=D*It,X(I,2*M+2*C),I[2*M+2*C+1]+=L*It,X(I,2*M+2*C+1),I[2*M+2*C+1]+=D*Fe,X(I,2*M+2*C+1),I[2*M+2*C+2]+=L*Fe,X(I,2*M+2*C+2)}for(N=0;N<b;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=b;N<2*b;N++)I[N]=0;return new f(I,0)};function X(N,b){for(;(N[b]&65535)!=N[b];)N[b+1]+=N[b]>>>16,N[b]&=65535,b++}function ne(N,b){this.g=N,this.h=b}function fe(N,b){if(z(b))throw Error("division by zero");if(z(N))return new ne(T,T);if(K(N))return b=fe(B(N),b),new ne(B(b.g),B(b.h));if(K(b))return b=fe(N,B(b)),new ne(B(b.g),b.h);if(N.g.length>30){if(K(N)||K(b))throw Error("slowDivide_ only works with positive integers.");for(var I=R,M=b;M.l(N)<=0;)I=ye(I),M=ye(M);var C=pe(I,1),L=pe(M,1);for(M=pe(M,2),I=pe(I,2);!z(M);){var D=L.add(M);D.l(N)<=0&&(C=C.add(I),L=D),M=pe(M,1),I=pe(I,1)}return b=J(N,C.j(b)),new ne(C,b)}for(C=T;N.l(b)>=0;){for(I=Math.max(1,Math.floor(N.m()/b.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=y(I),D=L.j(b);K(D)||D.l(N)>0;)I-=M,L=y(I),D=L.j(b);z(L)&&(L=R),C=C.add(L),N=J(N,D)}return new ne(C,N)}r.B=function(N){return fe(this,N).h},r.and=function(N){const b=Math.max(this.g.length,N.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)&N.i(M);return new f(I,this.h&N.h)},r.or=function(N){const b=Math.max(this.g.length,N.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)|N.i(M);return new f(I,this.h|N.h)},r.xor=function(N){const b=Math.max(this.g.length,N.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)^N.i(M);return new f(I,this.h^N.h)};function ye(N){const b=N.g.length+1,I=[];for(let M=0;M<b;M++)I[M]=N.i(M)<<1|N.i(M-1)>>>31;return new f(I,N.h)}function pe(N,b){const I=b>>5;b%=32;const M=N.g.length-I,C=[];for(let L=0;L<M;L++)C[L]=b>0?N.i(L+I)>>>b|N.i(L+I+1)<<32-b:N.i(L+I);return new f(C,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,f0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,ts=f}).apply(typeof tE<"u"?tE:typeof self<"u"?self:typeof window<"u"?window:{});var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var d0,Il,m0,th,Im,p0,g0,y0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof zc=="object"&&zc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in v))break e;v=v[j]}c=c[c.length-1],A=v[c],g=g(A),g!=A&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&v.push([A,g[A]]);return v}});var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,v){return c.call.apply(c.bind,arguments)}function y(c,g,v){return y=p,y.apply(null,arguments)}function E(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,j,G){for(var re=Array(arguments.length-2),we=2;we<arguments.length;we++)re[we-2]=arguments[we];return g.prototype[j].apply(A,re)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const g=c.length;if(g>0){const v=Array(g);for(let A=0;A<g;A++)v[A]=c[A];return v}return[]}function z(c,g){for(let A=1;A<arguments.length;A++){const j=arguments[A];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=c.length||0;const G=j.length||0;c.length=v+G;for(let re=0;re<G;re++)c[v+re]=j[re]}else c.push(j)}}class K{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function B(c){f.setTimeout(()=>{throw c},0)}function J(){var c=N;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class X{constructor(){this.h=this.g=null}add(g,v){const A=ne.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ne=new K(()=>new fe,c=>c.reset());class fe{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,pe=!1,N=new X,b=()=>{const c=Promise.resolve(void 0);ye=()=>{c.then(I)}};function I(){for(var c;c=J();){try{c.h.call(c.g)}catch(v){B(v)}var g=ne;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}pe=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,g),f.removeEventListener("test",v,g)}catch{}return c})();function D(c){return/^[\s\xa0]*$/.test(c)}function Fe(c,g){C.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}T(Fe,C),Fe.prototype.init=function(c,g){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Fe.Z.h.call(this)},Fe.prototype.h=function(){Fe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var It="closure_listenable_"+(Math.random()*1e6|0),$=0;function se(c,g,v,A,j){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=j,this.key=++$,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c,g,v){for(const A in c)g.call(v,c[A],A,c)}function Ye(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function V(c){const g={};for(const v in c)g[v]=c[v];return g}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,g){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)c[v]=A[v];for(let G=0;G<ee.length;G++)v=ee[G],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function le(c){this.src=c,this.g={},this.h=0}le.prototype.add=function(c,g,v,A,j){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const re=Ce(c,g,A,j);return re>-1?(g=c[re],v||(g.fa=!1)):(g=new se(g,this.src,G,!!A,j),g.fa=v,c.push(g)),g};function Te(c,g){const v=g.type;if(v in c.g){var A=c.g[v],j=Array.prototype.indexOf.call(A,g,void 0),G;(G=j>=0)&&Array.prototype.splice.call(A,j,1),G&&(me(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ce(c,g,v,A){for(let j=0;j<c.length;++j){const G=c[j];if(!G.da&&G.listener==g&&G.capture==!!v&&G.ha==A)return j}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),Nt={};function rt(c,g,v,A,j){if(Array.isArray(g)){for(let G=0;G<g.length;G++)rt(c,g[G],v,A,j);return null}return v=To(v),c&&c[It]?c.J(g,v,m(A)?!!A.capture:!1,j):hs(c,g,v,!1,A,j)}function hs(c,g,v,A,j,G){if(!g)throw Error("Invalid event type");const re=m(j)?!!j.capture:!!j;let we=fs(c);if(we||(c[Pe]=we=new le(c)),v=we.add(g,v,A,re,G),v.proxy)return v;if(A=ta(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)L||(j=re),j===void 0&&(j=!1),c.addEventListener(g.toString(),A,j);else if(c.attachEvent)c.attachEvent(ei(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ta(){function c(v){return g.call(c.src,c.listener,v)}const g=vo;return c}function na(c,g,v,A,j){if(Array.isArray(g))for(var G=0;G<g.length;G++)na(c,g[G],v,A,j);else A=m(A)?!!A.capture:!!A,v=To(v),c&&c[It]?(c=c.i,G=String(g).toString(),G in c.g&&(g=c.g[G],v=Ce(g,v,A,j),v>-1&&(me(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[G],c.h--)))):c&&(c=fs(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Ce(g,v,A,j)),(v=c>-1?g[c]:null)&&ia(v))}function ia(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[It])Te(g.i,c);else{var v=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(v,A,c.capture):g.detachEvent?g.detachEvent(ei(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=fs(g))?(Te(v,c),v.h==0&&(v.src=null,g[Pe]=null)):me(c)}}}function ei(c){return c in Nt?Nt[c]:Nt[c]="on"+c}function vo(c,g){if(c.da)c=!0;else{g=new Fe(g,this);const v=c.listener,A=c.ha||c.src;c.fa&&ia(c),c=v.call(A,g)}return c}function fs(c){return c=c[Pe],c instanceof le?c:null}var Eo="__closure_events_fn_"+(Math.random()*1e9>>>0);function To(c){return typeof c=="function"?c:(c[Eo]||(c[Eo]=function(g){return c.handleEvent(g)}),c[Eo])}function yt(){M.call(this),this.i=new le(this),this.M=this,this.G=null}T(yt,M),yt.prototype[It]=!0,yt.prototype.removeEventListener=function(c,g,v,A){na(this,c,g,v,A)};function Dt(c,g){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new C(g,c);else if(g instanceof C)g.target=g.target||c;else{var j=g;g=new C(A,c),ae(g,j)}j=!0;let G,re;if(v)for(re=v.length-1;re>=0;re--)G=g.g=v[re],j=fr(G,A,!0,g)&&j;if(G=g.g=c,j=fr(G,A,!0,g)&&j,j=fr(G,A,!1,g)&&j,v)for(re=0;re<v.length;re++)G=g.g=v[re],j=fr(G,A,!1,g)&&j}yt.prototype.N=function(){if(yt.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let A=0;A<v.length;A++)me(v[A]);delete c.g[g],c.h--}}this.G=null},yt.prototype.J=function(c,g,v,A){return this.i.add(String(c),g,!1,v,A)},yt.prototype.K=function(c,g,v,A){return this.i.add(String(c),g,!0,v,A)};function fr(c,g,v,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let j=!0;for(let G=0;G<g.length;++G){const re=g[G];if(re&&!re.da&&re.capture==v){const we=re.listener,dt=re.ha||re.src;re.fa&&Te(c.i,re),j=we.call(dt,A)!==!1&&j}}return j&&!A.defaultPrevented}function $h(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function uu(c){c.g=$h(()=>{c.g=null,c.i&&(c.i=!1,uu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Zt extends M{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:uu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ds(c){M.call(this),this.h=c,this.g={}}T(ds,M);var So=[];function Ao(c){je(c.g,function(g,v){this.g.hasOwnProperty(v)&&ia(g)},c),c.g={}}ds.prototype.N=function(){ds.Z.N.call(this),Ao(this)},ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dr=f.JSON.stringify,Jh=f.JSON.parse,cu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function hu(){}function fu(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jt(){C.call(this,"d")}T(jt,C);function Tn(){C.call(this,"c")}T(Tn,C);var ft={},du=null;function ra(){return du=du||new yt}ft.Ia="serverreachability";function mu(c){C.call(this,ft.Ia,c)}T(mu,C);function ti(c){const g=ra();Dt(g,new mu(g))}ft.STAT_EVENT="statevent";function ms(c,g){C.call(this,ft.STAT_EVENT,c),this.stat=g}T(ms,C);function _t(c){const g=ra();Dt(g,new ms(g,c))}ft.Ja="timingevent";function ni(c,g){C.call(this,ft.Ja,c),this.size=g}T(ni,C);function ii(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Un(){this.g=!0}Un.prototype.ua=function(){this.g=!1};function Wh(c,g,v,A,j,G){c.info(function(){if(c.g)if(G){var re="",we=G.split("&");for(let He=0;He<we.length;He++){var dt=we[He].split("=");if(dt.length>1){const st=dt[0];dt=dt[1];const wn=st.split("_");re=wn.length>=2&&wn[1]=="type"?re+(st+"="+dt+"&"):re+(st+"=redacted&")}}}else re=null;else re=G;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+g+`
`+v+`
`+re})}function pu(c,g,v,A,j,G,re){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+g+`
`+v+`
`+G+" "+re})}function ri(c,g,v,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Zh(c,v)+(A?" "+A:"")})}function ps(c,g){c.info(function(){return"TIMEOUT: "+g})}Un.prototype.info=function(){};function Zh(c,g){if(!c.g)return g;if(!g)return null;try{const G=JSON.parse(g);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var v=G[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var j=A[0];if(j!="noop"&&j!="stop"&&j!="close")for(let re=1;re<A.length;re++)A[re]=""}}}}return dr(G)}catch{return g}}var gs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wo;function ys(){}T(ys,hu),ys.prototype.g=function(){return new XMLHttpRequest},wo=new ys;function Oi(c){return encodeURIComponent(String(c))}function gu(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function jn(c,g,v,A){this.j=c,this.i=g,this.l=v,this.S=A||1,this.V=new ds(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var vt={},Vt={};function si(c,g,v){c.M=1,c.A=_s(Tt(g)),c.u=v,c.R=!0,sa(c,null)}function sa(c,g){c.F=Date.now(),ai(c),c.B=Tt(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ua(v.i,"t",A),c.C=0,v=c.j.L,c.h=new zn,c.g=Ou(c.j,v?g:null,!c.u),c.P>0&&(c.O=new Zt(y(c.Y,c,c.g),c.P)),g=c.V,v=c.g,A=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(So[0]=j.toString()),j=So);for(let G=0;G<j.length;G++){const re=rt(v,j[G],A||g.handleEvent,!1,g.h||g);if(!re)break;g.g[re.key]=re}g=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),ti(),Wh(c.i,c.v,c.B,c.l,c.S,c.u)}jn.prototype.ba=function(c){c=c.target;const g=this.O;g&&qn(c)==3?g.j():this.Y(c)},jn.prototype.Y=function(c){try{if(c==this.g)e:{const we=qn(this.g),dt=this.g.ya(),He=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||zt(this.g)))){this.K||we!=4||dt==7||(dt==8||He<=0?ti(3):ti(2)),oi(this);var g=this.g.ca();this.X=g;var v=ef(this);if(this.o=g==200,pu(this.i,this.v,this.B,this.l,this.S,we,g),this.o){if(this.U&&!this.L){t:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(A)){var G=A;break t}}G=null}if(c=G)ri(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,c);else{this.o=!1,this.m=3,_t(12),hn(this),Sn(this);break e}}if(this.R){c=!0;let st;for(;!this.K&&this.C<v.length;)if(st=_u(this,v),st==Vt){we==4&&(this.m=4,_t(14),c=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(st==vt){this.m=4,_t(15),ri(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ri(this.i,this.l,st,null),li(this,st);if(yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,_t(16),c=!1),this.o=this.o&&c,!c)ri(this.i,this.l,v,"[Invalid Chunked Response]"),hn(this),Sn(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),zo(re),re.P=!0,_t(11))}}else ri(this.i,this.l,v,null),li(this,v);we==4&&hn(this),this.o&&!this.K&&(we==4?Cu(this.j,this):(this.o=!1,ai(this)))}else xi(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),hn(this),Sn(this)}}}catch{}finally{}};function ef(c){if(!yu(c))return c.g.la();const g=zt(c.g);if(g==="")return"";let v="";const A=g.length,j=qn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return hn(c),Sn(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<A;G++)c.h.h=!0,v+=c.h.i.decode(g[G],{stream:!(j&&G==A-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function yu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function _u(c,g){var v=c.C,A=g.indexOf(`
`,v);return A==-1?Vt:(v=Number(g.substring(v,A)),isNaN(v)?vt:(A+=1,A+v>g.length?Vt:(g=g.slice(A,A+v),c.C=A+v,g)))}jn.prototype.cancel=function(){this.K=!0,hn(this)};function ai(c){c.T=Date.now()+c.H,aa(c,c.H)}function aa(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ii(y(c.aa,c),g)}function oi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}jn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ps(this.i,this.B),this.M!=2&&(ti(),_t(17)),hn(this),this.m=2,Sn(this)):aa(this,this.T-c)};function Sn(c){c.j.I==0||c.K||Cu(c.j,c)}function hn(c){oi(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Ao(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function li(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||ci(v.h,c))){if(!c.L&&ci(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ma(v),Tr(v);else break e;ws(v),_t(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ii(y(v.Va,v),6e3));ui(v.h)<=1&&v.ta&&(v.ta=void 0)}else gi(v,11)}else if((c.L||v.g==c)&&ma(v),!D(g))for(j=v.Ba.g.parse(g),g=0;g<j.length;g++){let He=j[g];const st=He[0];if(!(st<=v.K))if(v.K=st,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const wn=He[3];wn!=null&&(v.ka=wn,v.j.info("VER="+v.ka));const yi=He[4];yi!=null&&(v.za=yi,v.j.info("SVER="+v.za));const Fn=He[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(A=1.5*Fn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Gn=c.g;if(Gn){const Rs=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rs){var G=A.h;G.g||Rs.indexOf("spdy")==-1&&Rs.indexOf("quic")==-1&&Rs.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Io(G,G.h),G.h=null))}if(A.G){const pa=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;pa&&(A.wa=pa,Ke(A.J,A.G,pa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var re=c;if(A.na=Du(A,A.L?A.ba:null,A.W),re.L){No(A.h,re);var we=re,dt=A.O;dt&&(we.H=dt),we.D&&(oi(we),ai(we)),A.g=re}else wu(A);v.i.length>0&&pi(v)}else He[0]!="stop"&&He[0]!="close"||gi(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?gi(v,7):Uo(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}ti(4)}catch{}}var Et=class{constructor(c,g){this.g=c,this.map=g}};function Ro(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Co(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ui(c){return c.h?1:c.g?c.g.size:0}function ci(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Io(c,g){c.g?c.g.add(g):c.h=g}function No(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Ro.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Do(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return k(c.i)}var vu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oa(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let j,G=null;A>=0?(j=c[v].substring(0,A),G=c[v].substring(A+1)):j=c[v],g(j,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function fn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof fn?(this.l=c.l,kt(this,c.j),this.o=c.o,this.g=c.g,mr(this,c.u),this.h=c.h,Oo(this,Au(c.i)),this.m=c.m):c&&(g=String(c).match(vu))?(this.l=!1,kt(this,g[1]||"",!0),this.o=hi(g[2]||""),this.g=hi(g[3]||"",!0),mr(this,g[4]),this.h=hi(g[5]||"",!0),Oo(this,g[6]||"",!0),this.m=hi(g[7]||"")):(this.l=!1,this.i=new gr(null,this.l))}fn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(vs(g,la,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(vs(g,la,!0),"@"),c.push(Oi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(vs(v,v.charAt(0)=="/"?Mo:Eu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",vs(v,Tu)),c.join("")},fn.prototype.resolve=function(c){const g=Tt(this);let v=!!c.j;v?kt(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var A=c.h;if(v)mr(g,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var j=g.h.lastIndexOf("/");j!=-1&&(A=g.h.slice(0,j+1)+A)}if(j=A,j==".."||j==".")A="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){A=j.lastIndexOf("/",0)==0,j=j.split("/");const G=[];for(let re=0;re<j.length;){const we=j[re++];we=="."?A&&re==j.length&&G.push(""):we==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),A&&re==j.length&&G.push("")):(G.push(we),A=!0)}A=G.join("/")}else A=j}return v?g.h=A:v=c.i.toString()!=="",v?Oo(g,Au(c.i)):v=!!c.m,v&&(g.m=c.m),g};function Tt(c){return new fn(c)}function kt(c,g,v){c.j=v?hi(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function mr(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function Oo(c,g,v){g instanceof gr?(c.i=g,ca(c.i,c.l)):(v||(g=vs(g,pr)),c.i=new gr(g,c.l))}function Ke(c,g,v){c.i.set(g,v)}function _s(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function hi(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vs(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,nn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function nn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var la=/[#\/\?@]/g,Eu=/[#\?:]/g,Mo=/[#\?]/g,pr=/[#\?@]/g,Tu=/#/g;function gr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function rn(c){c.g||(c.g=new Map,c.h=0,c.i&&oa(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=gr.prototype,r.add=function(c,g){rn(this),this.i=null,c=yr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Su(c,g){rn(c),g=yr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function xo(c,g){return rn(c),g=yr(c,g),c.g.has(g)}r.forEach=function(c,g){rn(this),this.g.forEach(function(v,A){v.forEach(function(j){c.call(g,j,A,this)},this)},this)};function Vo(c,g){rn(c);let v=[];if(typeof g=="string")xo(c,g)&&(v=v.concat(c.g.get(yr(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}r.set=function(c,g){return rn(this),this.i=null,c=yr(this,c),xo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=Vo(this,c),c.length>0?String(c[0]):g):g};function ua(c,g,v){Su(c,g),v.length>0&&(c.i=null,c.g.set(yr(c,g),k(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var v=g[A];const j=Oi(v);v=Vo(this,v);for(let G=0;G<v.length;G++){let re=j;v[G]!==""&&(re+="="+Oi(v[G])),c.push(re)}}return this.i=c.join("&")};function Au(c){const g=new gr;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function yr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function ca(c,g){g&&!c.j&&(rn(c),c.i=null,c.g.forEach(function(v,A){const j=A.toLowerCase();A!=j&&(Su(this,A),ua(this,j,v))},c)),c.j=g}function Bn(c,g){const v=new Un;if(f.Image){const A=new Image;A.onload=E(An,v,"TestLoadImage: loaded",!0,g,A),A.onerror=E(An,v,"TestLoadImage: error",!1,g,A),A.onabort=E(An,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=E(An,v,"TestLoadImage: timeout",!1,g,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function ko(c,g){const v=new Un,A=new AbortController,j=setTimeout(()=>{A.abort(),An(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(j),G.ok?An(v,"TestPingServer: ok",!0,g):An(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),An(v,"TestPingServer: error",!1,g)})}function An(c,g,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function _r(){this.g=new cu}function fi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(fi,hu),fi.prototype.g=function(){return new Es(this.i,this.h)};function Es(c,g){yt.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Es,yt),r=Es.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Hn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ha(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ha(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?vr(this):Hn(this),this.readyState==3&&ha(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,vr(this))},r.Na=function(c){this.g&&(this.response=c,vr(this))},r.ga=function(){this.g&&vr(this)};function vr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Hn(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Hn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Es.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function bn(c){let g="";return je(c,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function Ts(c,g,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=bn(v),typeof c=="string"?v!=null&&Oi(v):Ke(c,g,v))}function $e(c){yt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T($e,yt);var di=/^https?$/i,Lo=["POST","PUT"];r=$e.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wo.g(),this.g.onreadystatechange=R(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){Ss(this,G);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())v.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),j=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Lo,g,void 0)>=0)||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,re]of v)this.g.setRequestHeader(G,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Ss(this,G)}};function Ss(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Po(c),Mi(c)}function Po(c){c.A||(c.A=!0,Dt(c,"complete"),Dt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Dt(this,"complete"),Dt(this,"abort"),Mi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mi(this,!0)),$e.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?As(this):this.Xa())},r.Xa=function(){As(this)};function As(c){if(c.h&&typeof u<"u"){if(c.v&&qn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Dt(c,"readystatechange"),qn(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var A;if(A=G===0){let re=String(c.D).match(vu)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),A=!di.test(re?re.toLowerCase():"")}v=A}if(v)Dt(c,"complete"),Dt(c,"success");else{c.o=6;try{var j=qn(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",Po(c)}}finally{Mi(c)}}}}function Mi(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||Dt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function qn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Jh(g)}};function zt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function xi(c){const g={};c=(c.g&&qn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(D(c[A]))continue;var v=gu(c[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=g[j]||[];g[j]=G,G.push(v)}Ye(g,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Er(c){this.za=0,this.i=[],this.j=new Un,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,c),this.Za=mi("retryDelaySeedMs",1e4,c),this.Ta=mi("forwardChannelMaxRetries",2,c),this.va=mi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ro(c&&c.concurrentRequestLimit),this.Ba=new _r,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Er.prototype,r.ka=8,r.I=1,r.connect=function(c,g,v,A){_t(0),this.W=c,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Du(this,null,this.W),pi(this)};function Uo(c){if(fa(c),c.I==3){var g=c.V++,v=Tt(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",g),Ke(v,"TYPE","terminate"),bs(c,v),g=new jn(c,c.j,g),g.M=2,g.A=_s(Tt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=g.A,v=!0),v||(g.g=Ou(g.j,null),g.g.ea(g.A)),g.F=Date.now(),ai(g)}Nu(c)}function Tr(c){c.g&&(zo(c),c.g.cancel(),c.g=null)}function fa(c){Tr(c),c.v&&(f.clearTimeout(c.v),c.v=null),ma(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function pi(c){if(!Co(c.h)&&!c.m){c.m=!0;var g=c.Ea;ye||b(),pe||(ye(),pe=!0),N.add(g,c),c.D=0}}function da(c,g){return ui(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ii(y(c.Ea,c,g),Iu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new jn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=V(G),ae(G,this.U)):G=this.U),this.u!==null||this.R||(j.J=G,G=null),this.S)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=bu(this,j,g),v=Tt(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),bs(this,v),G&&(this.R?g="headers="+Oi(bn(G))+"&"+g:this.u&&Ts(v,this.u,G)),Io(this.h,j),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",g),Ke(v,"SID","null"),j.U=!0,si(j,v,null)):si(j,v,g),this.I=2}}else this.I==3&&(c?jo(this,c):this.i.length==0||Co(this.h)||jo(this))};function jo(c,g){var v;g?v=g.l:v=c.V++;const A=Tt(c.J);Ke(A,"SID",c.M),Ke(A,"RID",v),Ke(A,"AID",c.K),bs(c,A),c.u&&c.o&&Ts(A,c.u,c.o),v=new jn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=bu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Io(c.h,v),si(v,A,g)}function bs(c,g){c.H&&je(c.H,function(v,A){Ke(g,A,v)}),c.l&&je({},function(v,A){Ke(g,A,v)})}function bu(c,g,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;e:{var j=c.i;let we=-1;for(;;){const dt=["count="+v];we==-1?v>0?(we=j[0].g,dt.push("ofs="+we)):we=0:dt.push("ofs="+we);let He=!0;for(let st=0;st<v;st++){var G=j[st].g;const wn=j[st].map;if(G-=we,G<0)we=Math.max(0,j[st].g-100),He=!1;else try{G="req"+G+"_"||"";try{var re=wn instanceof Map?wn:Object.entries(wn);for(const[yi,Fn]of re){let Gn=Fn;m(Fn)&&(Gn=dr(Fn)),dt.push(G+yi+"="+encodeURIComponent(Gn))}}catch(yi){throw dt.push(G+"type="+encodeURIComponent("_badmap")),yi}}catch{A&&A(wn)}}if(He){re=dt.join("&");break e}}re=void 0}return c=c.i.splice(0,v),g.G=c,re}function wu(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;ye||b(),pe||(ye(),pe=!0),N.add(g,c),c.A=0}}function ws(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ii(y(c.Da,c),Iu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Ru(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ii(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),Tr(this),Ru(this))};function zo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Ru(c){c.g=new jn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=Tt(c.na);Ke(g,"RID","rpc"),Ke(g,"SID",c.M),Ke(g,"AID",c.K),Ke(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(g,"TO",c.ia),Ke(g,"TYPE","xmlhttp"),bs(c,g),c.u&&c.o&&Ts(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=_s(Tt(g)),v.u=null,v.R=!0,sa(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Tr(this),ws(this),_t(19))};function ma(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Cu(c,g){var v=null;if(c.g==g){ma(c),zo(c),c.g=null;var A=2}else if(ci(c.h,g))v=g.G,No(c.h,g),A=1;else return;if(c.I!=0){if(g.o)if(A==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var j=c.D;A=ra(),Dt(A,new ni(A,v)),pi(c)}else wu(c);else if(j=g.m,j==3||j==0&&g.X>0||!(A==1&&da(c,g)||A==2&&ws(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),j){case 1:gi(c,5);break;case 4:gi(c,10);break;case 3:gi(c,6);break;default:gi(c,2)}}}function Iu(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function gi(c,g){if(c.j.info("Error code "+g),g==2){var v=y(c.bb,c),A=c.Ua;const j=!A;A=new fn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||kt(A,"https"),_s(A),j?Bn(A.toString(),v):ko(A.toString(),v)}else _t(2);c.I=0,c.l&&c.l.pa(g),Nu(c),fa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Nu(c){if(c.I=0,c.ja=[],c.l){const g=Do(c.h);(g.length!=0||c.i.length!=0)&&(z(c.ja,g),z(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function Du(c,g,v){var A=v instanceof fn?Tt(v):new fn(v);if(A.g!="")g&&(A.g=g+"."+A.g),mr(A,A.u);else{var j=f.location;A=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;const G=new fn(null);A&&kt(G,A),g&&(G.g=g),j&&mr(G,j),v&&(G.h=v),A=G}return v=c.G,g=c.wa,v&&g&&Ke(A,v,g),Ke(A,"VER",c.ka),bs(c,A),A}function Ou(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new $e(new fi({ab:v})):new $e(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mu(){}r=Mu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Sr(){}Sr.prototype.g=function(c,g){return new en(c,g)};function en(c,g){yt.call(this),this.g=new Er(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!D(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!D(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Vi(this)}T(en,yt),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Uo(this.g)},en.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=dr(c),c=v);g.i.push(new Et(g.Ya++,c)),g.I==3&&pi(g)},en.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,en.Z.N.call(this)};function xu(c){jt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}T(xu,jt);function Vu(){Tn.call(this),this.status=1}T(Vu,Tn);function Vi(c){this.g=c}T(Vi,Mu),Vi.prototype.ra=function(){Dt(this.g,"a")},Vi.prototype.qa=function(c){Dt(this.g,new xu(c))},Vi.prototype.pa=function(c){Dt(this.g,new Vu)},Vi.prototype.oa=function(){Dt(this.g,"b")},Sr.prototype.createWebChannel=Sr.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,y0=function(){return new Sr},g0=function(){return ra()},p0=ft,Im={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gs.NO_ERROR=0,gs.TIMEOUT=8,gs.HTTP_ERROR=6,th=gs,bo.COMPLETE="complete",m0=bo,fu.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",yt.prototype.listen=yt.prototype.J,Il=fu,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,d0=$e}).apply(typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{});const nE="@firebase/firestore",iE="4.9.2";class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");let po="12.3.0";const Qs=new $m("@firebase/firestore");function Ga(){return Qs.logLevel}function oe(r,...e){if(Qs.logLevel<=xe.DEBUG){const n=e.map(op);Qs.debug(`Firestore (${po}): ${r}`,...n)}}function ar(r,...e){if(Qs.logLevel<=xe.ERROR){const n=e.map(op);Qs.error(`Firestore (${po}): ${r}`,...n)}}function to(r,...e){if(Qs.logLevel<=xe.WARN){const n=e.map(op);Qs.warn(`Firestore (${po}): ${r}`,...n)}}function op(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Ee(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,_0(r,s,n)}function _0(r,e,n){let s=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ar(s),new Error(s)}function Ge(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||_0(e,o,s)}function be(r,e){return r}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends ur{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ns{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class v0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class s2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n($t.UNAUTHENTICATED)))}shutdown(){}}class a2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class o2{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ns;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ns,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ns)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new v0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class l2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class u2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new l2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class rE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class c2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new rE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function h2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class lp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=h2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function Nm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return cm(o)===cm(u)?Ve(o,u):cm(o)?1:-1}return Ve(r.length,e.length)}const f2=55296,d2=57343;function cm(r){const e=r.charCodeAt(0);return e>=f2&&e<=d2}function no(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const sE="__name__";class Si{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Si.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Si?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Si.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Si.isNumericId(e),o=Si.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Si.extractNumericId(e).compare(Si.extractNumericId(n)):Nm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ts.fromString(e.substring(4,e.length-2))}}class ot extends Si{construct(e,n,s){return new ot(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ot(n)}static emptyPath(){return new ot([])}}const m2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Si{construct(e,n,s){return new Yt(e,n,s)}static isValidIdentifier(e){return m2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sE}static keyField(){return new Yt([sE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new he(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(ot.fromString(e))}static fromName(e){return new ge(ot.fromString(e).popFirst(5))}static empty(){return new ge(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new ot(e.slice()))}}function p2(r,e,n){if(!n)throw new he(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function g2(r,e,n,s){if(e===!0&&s===!0)throw new he(ie.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function aE(r){if(!ge.isDocumentKey(r))throw new he(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function E0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function up(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function ql(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=up(r);throw new he(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Ct(r,e){const n={typeString:r};return e&&(n.value=e),n}function ru(r,e){if(!E0(r))throw new he(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new he(ie.INVALID_ARGUMENT,n);return!0}const oE=-62135596800,lE=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*lE);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<oE)throw new he(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ru(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-oE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Ct("string",it._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new it(0,0))}static max(){return new Se(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Fl=-1;function y2(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new is(o,ge.empty(),e)}function _2(r){return new is(r.readTime,r.key,Fl)}class is{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new is(Se.min(),ge.empty(),Fl)}static max(){return new is(Se.max(),ge.empty(),Fl)}}function v2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}const E2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function go(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==E2)throw r;oe("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((o=>o?te.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new te(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function S2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yo(r){return r.name==="IndexedDbTransactionError"}class kh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}kh.ce=-1;const cp=-1;function Lh(r){return r==null}function yh(r){return r===0&&1/r==-1/0}function A2(r){return typeof r=="number"&&Number.isInteger(r)&&!yh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const T0="";function b2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=uE(e)),e=w2(r.get(n),e);return uE(e)}function w2(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case T0:n+="";break;default:n+=u}}return n}function uE(r){return r+T0+""}function cE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function $s(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function S0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bc(this.root,e,this.comparator,!0)}}class Bc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Gt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hE(this.data.getIterator())}getIteratorFrom(e){return new hE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class hE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $n{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new $n([])}unionWith(e){let n=new xt(Yt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new $n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return no(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class A0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new A0("Invalid base64 string: "+u):u}})(e);return new Kt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const R2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(r){if(Ge(!!r,39018),typeof r=="string"){let e=0;const n=R2.exec(r);if(Ge(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ss(r){return typeof r=="string"?Kt.fromBase64String(r):Kt.fromUint8Array(r)}const b0="server_timestamp",w0="__type__",R0="__previous_value__",C0="__local_write_time__";function hp(r){return(r?.mapValue?.fields||{})[w0]?.stringValue===b0}function Ph(r){const e=r.mapValue.fields[R0];return hp(e)?Ph(e):e}function Gl(r){const e=rs(r.mapValue.fields[C0].timestampValue);return new it(e.seconds,e.nanos)}class C2{constructor(e,n,s,o,u,f,m,p,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const _h="(default)";class Yl{constructor(e,n){this.projectId=e,this.database=n||_h}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database===_h}isEqual(e){return e instanceof Yl&&e.projectId===this.projectId&&e.database===this.database}}const I0="__type__",I2="__max__",Hc={mapValue:{}},N0="__vector__",vh="value";function as(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?hp(r)?4:D2(r)?9007199254740991:N2(r)?10:11:Ee(28295,{value:r})}function Ni(r,e){if(r===e)return!0;const n=as(r);if(n!==as(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Gl(r).isEqual(Gl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=rs(o.timestampValue),m=rs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ss(o.bytesValue).isEqual(ss(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=gt(o.doubleValue),m=gt(u.doubleValue);return f===m?yh(f)===yh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return no(r.arrayValue.values||[],e.arrayValue.values||[],Ni);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(cE(f)!==cE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ni(f[p],m[p])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function Kl(r,e){return(r.values||[]).find((n=>Ni(n,e)))!==void 0}function io(r,e){if(r===e)return 0;const n=as(r),s=as(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=gt(u.integerValue||u.doubleValue),p=gt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return fE(r.timestampValue,e.timestampValue);case 4:return fE(Gl(r),Gl(e));case 5:return Nm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=ss(u),p=ss(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Ve(m[y],p[y]);if(E!==0)return E}return Ve(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ve(gt(u.latitude),gt(f.latitude));return m!==0?m:Ve(gt(u.longitude),gt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return dE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},y=m[vh]?.arrayValue,E=p[vh]?.arrayValue,T=Ve(y?.values?.length||0,E?.values?.length||0);return T!==0?T:dE(y,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Hc.mapValue&&f===Hc.mapValue)return 0;if(u===Hc.mapValue)return 1;if(f===Hc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const R=Nm(p[T],E[T]);if(R!==0)return R;const k=io(m[p[T]],y[E[T]]);if(k!==0)return k}return Ve(p.length,E.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function fE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=rs(r),s=rs(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function dE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=io(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function ro(r){return Dm(r)}function Dm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=rs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ss(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ge.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Dm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Dm(n.fields[f])}`;return o+"}"})(r.mapValue):Ee(61005,{value:r})}function nh(r){switch(as(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ph(r);return e?16+nh(e):16;case 5:return 2*r.stringValue.length;case 6:return ss(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+nh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return $s(s.fields,((u,f)=>{o+=u.length+nh(f)})),o})(r.mapValue);default:throw Ee(13486,{value:r})}}function Om(r){return!!r&&"integerValue"in r}function fp(r){return!!r&&"arrayValue"in r}function mE(r){return!!r&&"nullValue"in r}function pE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ih(r){return!!r&&"mapValue"in r}function N2(r){return(r?.mapValue?.fields||{})[I0]?.stringValue===N0}function Vl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return $s(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Vl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vl(r.arrayValue.values[n]);return e}return{...r}}function D2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===I2}class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vl(n)}setAll(e){let n=Yt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Vl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ih(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){$s(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new kn(Vl(this.value))}}function D0(r){const e=[];return $s(r.fields,((n,s)=>{const o=new Yt([n]);if(ih(s)){const u=D0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new $n(e)}class Jt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Jt(e,0,Se.min(),Se.min(),Se.min(),kn.empty(),0)}static newFoundDocument(e,n,s,o){return new Jt(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new Jt(e,2,n,Se.min(),Se.min(),kn.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,Se.min(),Se.min(),kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Eh{constructor(e,n){this.position=e,this.inclusive=n}}function gE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=io(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function yE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ni(r.position[n],e.position[n]))return!1;return!0}class Th{constructor(e,n="asc"){this.field=e,this.dir=n}}function O2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class O0{}class Mt extends O0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new x2(e,n,s):n==="array-contains"?new L2(e,s):n==="in"?new P2(e,s):n==="not-in"?new U2(e,s):n==="array-contains-any"?new j2(e,s):new Mt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new V2(e,s):new k2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(io(n,this.value)):n!==null&&as(this.value)===as(n)&&this.matchesComparison(io(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends O0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Di(e,n)}matches(e){return M0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function M0(r){return r.op==="and"}function x0(r){return M2(r)&&M0(r)}function M2(r){for(const e of r.filters)if(e instanceof Di)return!1;return!0}function Mm(r){if(r instanceof Mt)return r.field.canonicalString()+r.op.toString()+ro(r.value);if(x0(r))return r.filters.map((e=>Mm(e))).join(",");{const e=r.filters.map((n=>Mm(n))).join(",");return`${r.op}(${e})`}}function V0(r,e){return r instanceof Mt?(function(s,o){return o instanceof Mt&&s.op===o.op&&s.field.isEqual(o.field)&&Ni(s.value,o.value)})(r,e):r instanceof Di?(function(s,o){return o instanceof Di&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&V0(f,o.filters[m])),!0):!1})(r,e):void Ee(19439)}function k0(r){return r instanceof Mt?(function(n){return`${n.field.canonicalString()} ${n.op} ${ro(n.value)}`})(r):r instanceof Di?(function(n){return n.op.toString()+" {"+n.getFilters().map(k0).join(" ,")+"}"})(r):"Filter"}class x2 extends Mt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class V2 extends Mt{constructor(e,n){super(e,"in",n),this.keys=L0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class k2 extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=L0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function L0(r,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class L2 extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fp(n)&&Kl(n.arrayValue,this.value)}}class P2 extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Kl(this.value.arrayValue,n)}}class U2 extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Kl(this.value.arrayValue,n)}}class j2 extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Kl(this.value.arrayValue,s)))}}class z2{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function _E(r,e=null,n=[],s=[],o=null,u=null,f=null){return new z2(r,e,n,s,o,u,f)}function dp(r){const e=be(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Mm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>ro(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>ro(s))).join(",")),e.Te=n}return e.Te}function mp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!O2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!V0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!yE(r.startAt,e.startAt)&&yE(r.endAt,e.endAt)}function xm(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Uh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function B2(r,e,n,s,o,u,f,m){return new Uh(r,e,n,s,o,u,f,m)}function pp(r){return new Uh(r)}function vE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function H2(r){return r.collectionGroup!==null}function kl(r){const e=be(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new xt(Yt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Th(u,s))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new Th(Yt.keyField(),s))}return e.Ie}function wi(r){const e=be(r);return e.Ee||(e.Ee=q2(e,kl(r))),e.Ee}function q2(r,e){if(r.limitType==="F")return _E(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Th(o.field,u)}));const n=r.endAt?new Eh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Eh(r.startAt.position,r.startAt.inclusive):null;return _E(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Vm(r,e,n){return new Uh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function jh(r,e){return mp(wi(r),wi(e))&&r.limitType===e.limitType}function P0(r){return`${dp(wi(r))}|lt:${r.limitType}`}function Ya(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>k0(o))).join(", ")}]`),Lh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>ro(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>ro(o))).join(",")),`Target(${s})`})(wi(r))}; limitType=${r.limitType})`}function zh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of kl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const y=gE(f,m,p);return f.inclusive?y<=0:y<0})(s.startAt,kl(s),o)||s.endAt&&!(function(f,m,p){const y=gE(f,m,p);return f.inclusive?y>=0:y>0})(s.endAt,kl(s),o))})(r,e)}function F2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function U0(r){return(e,n)=>{let s=!1;for(const o of kl(r)){const u=G2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function G2(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?io(p,y):Ee(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}class Js{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){$s(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return S0(this.inner)}size(){return this.innerSize}}const Y2=new ut(ge.comparator);function or(){return Y2}const j0=new ut(ge.comparator);function Nl(...r){let e=j0;for(const n of r)e=e.insert(n.key,n);return e}function z0(r){let e=j0;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function qs(){return Ll()}function B0(){return Ll()}function Ll(){return new Js((r=>r.toString()),((r,e)=>r.isEqual(e)))}const K2=new ut(ge.comparator),Q2=new xt(ge.comparator);function ke(...r){let e=Q2;for(const n of r)e=e.add(n);return e}const X2=new xt(Ve);function $2(){return X2}function gp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(e)?"-0":e}}function H0(r){return{integerValue:""+r}}function J2(r,e){return A2(e)?H0(e):gp(r,e)}class Bh{constructor(){this._=void 0}}function W2(r,e,n){return r instanceof Sh?(function(o,u){const f={fields:{[w0]:{stringValue:b0},[C0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&hp(u)&&(u=Ph(u)),u&&(f.fields[R0]=u),{mapValue:f}})(n,e):r instanceof so?F0(r,e):r instanceof ao?G0(r,e):(function(o,u){const f=q0(o,u),m=EE(f)+EE(o.Ae);return Om(f)&&Om(o.Ae)?H0(m):gp(o.serializer,m)})(r,e)}function Z2(r,e,n){return r instanceof so?F0(r,e):r instanceof ao?G0(r,e):n}function q0(r,e){return r instanceof Ah?(function(s){return Om(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Sh extends Bh{}class so extends Bh{constructor(e){super(),this.elements=e}}function F0(r,e){const n=Y0(e);for(const s of r.elements)n.some((o=>Ni(o,s)))||n.push(s);return{arrayValue:{values:n}}}class ao extends Bh{constructor(e){super(),this.elements=e}}function G0(r,e){let n=Y0(e);for(const s of r.elements)n=n.filter((o=>!Ni(o,s)));return{arrayValue:{values:n}}}class Ah extends Bh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function EE(r){return gt(r.integerValue||r.doubleValue)}function Y0(r){return fp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class K0{constructor(e,n){this.field=e,this.transform=n}}function eN(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof so&&o instanceof so||s instanceof ao&&o instanceof ao?no(s.elements,o.elements,Ni):s instanceof Ah&&o instanceof Ah?Ni(s.Ae,o.Ae):s instanceof Sh&&o instanceof Sh})(r.transform,e.transform)}class tN{constructor(e,n){this.version=e,this.transformResults=n}}class tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tr}static exists(e){return new tr(void 0,e)}static updateTime(e){return new tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Hh{}function Q0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new $0(r.key,tr.none()):new su(r.key,r.data,tr.none());{const n=r.data,s=kn.empty();let o=new xt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Ws(r.key,s,new $n(o.toArray()),tr.none())}}function nN(r,e,n){r instanceof su?(function(o,u,f){const m=o.value.clone(),p=SE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Ws?(function(o,u,f){if(!rh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=SE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(X0(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Pl(r,e,n,s){return r instanceof su?(function(u,f,m,p){if(!rh(u.precondition,f))return m;const y=u.value.clone(),E=AE(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof Ws?(function(u,f,m,p){if(!rh(u.precondition,f))return m;const y=AE(u.fieldTransforms,p,f),E=f.data;return E.setAll(X0(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,f,m){return rh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function iN(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=q0(s.transform,o||null);u!=null&&(n===null&&(n=kn.empty()),n.set(s.field,u))}return n||null}function TE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&no(s,o,((u,f)=>eN(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class su extends Hh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ws extends Hh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function X0(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function SE(r,e,n){const s=new Map;Ge(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,Z2(f,m,n[o]))}return s}function AE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,W2(u,f,e))}return s}class $0 extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rN extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&nN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Pl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Pl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=B0();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=Q0(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&no(this.mutations,e.mutations,((n,s)=>TE(n,s)))&&no(this.baseMutations,e.baseMutations,((n,s)=>TE(n,s)))}}class yp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return K2})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new yp(e,n,s,o)}}class aN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class oN{constructor(e,n){this.count=e,this.unchangedNames=n}}var Rt,Ue;function lN(r){switch(r){case ie.OK:return Ee(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function J0(r){if(r===void 0)return ar("GRPC error has no .code"),ie.UNKNOWN;switch(r){case Rt.OK:return ie.OK;case Rt.CANCELLED:return ie.CANCELLED;case Rt.UNKNOWN:return ie.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return ie.INTERNAL;case Rt.UNAVAILABLE:return ie.UNAVAILABLE;case Rt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Rt.NOT_FOUND:return ie.NOT_FOUND;case Rt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Rt.ABORTED:return ie.ABORTED;case Rt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Rt.DATA_LOSS:return ie.DATA_LOSS;default:return Ee(39323,{code:r})}}(Ue=Rt||(Rt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";function uN(){return new TextEncoder}const cN=new ts([4294967295,4294967295],0);function bE(r){const e=uN().encode(r),n=new f0;return n.update(e),new Uint8Array(n.digest())}function wE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ts([n,s],0),new ts([o,u],0)]}class _p{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Dl(`Invalid padding: ${n}`);if(s<0)throw new Dl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Dl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Dl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ts.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ts.fromNumber(s)));return o.compare(cN)===1&&(o=new ts([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=bE(e),[s,o]=wE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new _p(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=bE(e),[s,o]=wE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class qh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new qh(Se.min(),o,new ut(Ve),or(),ke())}}class au{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new au(s,n,ke(),ke(),ke())}}class sh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class W0{constructor(e,n){this.targetId=e,this.Ce=n}}class Z0{constructor(e,n,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class RE{constructor(){this.ve=0,this.Fe=CE(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),s=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new au(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=CE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hN{constructor(e){this.Ge=e,this.ze=new Map,this.je=or(),this.Je=qc(),this.He=qc(),this.Ye=new ut(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(xm(u))if(s===0){const f=new ge(u.path);this.et(n,f,Jt.newNoDocument(f,Se.min()))}else Ge(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ss(s).toUint8Array()}catch(p){if(p instanceof A0)return to("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new _p(f,o,u)}catch(p){return to(p instanceof Dl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&xm(m.target)){const p=new ge(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Jt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=ke();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new qh(e,n,this.Ye,this.je,s);return this.je=or(),this.Je=qc(),this.He=qc(),this.Ye=new ut(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new RE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new xt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new xt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new RE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function qc(){return new ut(ge.comparator)}function CE(){return new ut(ge.comparator)}const fN={asc:"ASCENDING",desc:"DESCENDING"},dN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mN={and:"AND",or:"OR"};class pN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function km(r,e){return r.useProto3Json||Lh(e)?e:{value:e}}function bh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function gN(r,e){return bh(r,e.toTimestamp())}function Ri(r){return Ge(!!r,49232),Se.fromTimestamp((function(n){const s=rs(n);return new it(s.seconds,s.nanos)})(r))}function vp(r,e){return Lm(r,e).canonicalString()}function Lm(r,e){const n=(function(o){return new ot(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function tS(r){const e=ot.fromString(r);return Ge(aS(e),10190,{key:e.toString()}),e}function Pm(r,e){return vp(r.databaseId,e.path)}function hm(r,e){const n=tS(e);if(n.get(1)!==r.databaseId.projectId)throw new he(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new he(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(iS(n))}function nS(r,e){return vp(r.databaseId,e)}function yN(r){const e=tS(r);return e.length===4?ot.emptyPath():iS(e)}function Um(r){return new ot(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function iS(r){return Ge(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function IE(r,e,n){return{name:Pm(r,e),fields:n.value.mapValue.fields}}function _N(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Ge(E===void 0||typeof E=="string",58123),Kt.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Kt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?ie.UNKNOWN:J0(y.code);return new he(E,y.message||"")})(f);n=new Z0(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=hm(r,s.document.name),u=Ri(s.document.updateTime),f=s.document.createTime?Ri(s.document.createTime):Se.min(),m=new kn({mapValue:{fields:s.document.fields}}),p=Jt.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new sh(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=hm(r,s.document),u=s.readTime?Ri(s.readTime):Se.min(),f=Jt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new sh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=hm(r,s.document),u=s.removedTargetIds||[];n=new sh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new oN(o,u),m=s.targetId;n=new W0(m,f)}}return n}function vN(r,e){let n;if(e instanceof su)n={update:IE(r,e.key,e.value)};else if(e instanceof $0)n={delete:Pm(r,e.key)};else if(e instanceof Ws)n={update:IE(r,e.key,e.data),updateMask:IN(e.fieldMask)};else{if(!(e instanceof rN))return Ee(16599,{Vt:e.type});n={verify:Pm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Sh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof so)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ao)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ah)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:gN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(r,e.precondition)),n}function EN(r,e){return r&&r.length>0?(Ge(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Ri(o.updateTime):Ri(u);return f.isEqual(Se.min())&&(f=Ri(u)),new tN(f,o.transformResults||[])})(n,e)))):[]}function TN(r,e){return{documents:[nS(r,e.path)]}}function SN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=nS(r,o);const u=(function(y){if(y.length!==0)return sS(Di.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(R){return{field:Ka(R.field),direction:wN(R.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=km(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function AN(r){let e=yN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const R=rS(T);return R instanceof Di&&x0(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((R=>(function(z){return new Th(Qa(z.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let R;return R=typeof T=="object"?T.value:T,Lh(R)?null:R})(n.limit));let p=null;n.startAt&&(p=(function(T){const R=!!T.before,k=T.values||[];return new Eh(k,R)})(n.startAt));let y=null;return n.endAt&&(y=(function(T){const R=!T.before,k=T.values||[];return new Eh(k,R)})(n.endAt)),B2(e,o,f,u,m,"F",p,y)}function bN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Qa(n.unaryFilter.field);return Mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Qa(n.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Qa(n.unaryFilter.field);return Mt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Qa(n.unaryFilter.field);return Mt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Mt.create(Qa(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Di.create(n.compositeFilter.filters.map((s=>rS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(r):Ee(30097,{filter:r})}function wN(r){return fN[r]}function RN(r){return dN[r]}function CN(r){return mN[r]}function Ka(r){return{fieldPath:r.canonicalString()}}function Qa(r){return Yt.fromServerFormat(r.fieldPath)}function sS(r){return r instanceof Mt?(function(n){if(n.op==="=="){if(pE(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NAN"}};if(mE(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pE(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NOT_NAN"}};if(mE(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(n.field),op:RN(n.op),value:n.value}}})(r):r instanceof Di?(function(n){const s=n.getFilters().map((o=>sS(o)));return s.length===1?s[0]:{compositeFilter:{op:CN(n.op),filters:s}}})(r):Ee(54877,{filter:r})}function IN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function aS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Jr{constructor(e,n,s,o,u=Se.min(),f=Se.min(),m=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class NN{constructor(e){this.yt=e}}function DN(r){const e=AN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Vm(e,e.limit,"L"):e}class ON{constructor(){this.Cn=new MN}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(is.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(is.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class MN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new xt(ot.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new xt(ot.comparator)).toArray()}}const NE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oS=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(oS,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class oo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new oo(0)}static cr(){return new oo(-1)}}const DE="LruGarbageCollector",xN=1048576;function OE([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class VN{constructor(e){this.Ir=e,this.buffer=new xt(OE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();OE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class kN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(DE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yo(n)?oe(DE,"Ignoring IndexedDB error during garbage collection: ",n):await go(n)}await this.Vr(3e5)}))}}class LN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(kh.ce);const s=new VN(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(NE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),NE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(y=Date.now(),Ga()<=xe.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function PN(r,e){return new LN(r,e)}class UN{constructor(){this.changes=new Js((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class zN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Pl(s.mutation,o,$n.empty(),it.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ke()){const o=qs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Nl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=qs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ke())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=or();const f=Ll(),m=(function(){return Ll()})();return n.forEach(((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Ws)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Pl(E.mutation,y,E.mutation.getFieldMask(),it.now())):f.set(y.key,$n.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new jN(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Ll();let o=new ut(((f,m)=>f-m)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||$n.empty();E=m.applyToLocalView(y,E),s.set(p,E);const T=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,T=B0();E.forEach((R=>{if(!u.has(R)){const k=Q0(n.get(R),s.get(R));k!==null&&T.set(R,k),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,T))}return te.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):H2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(qs());let m=Fl,p=u;return f.next((y=>te.forEach(y,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next((R=>{p=p.insert(E,R)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,ke()))).next((E=>({batchId:m,changes:z0(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((s=>{let o=Nl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Nl();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(p=>{const y=(function(T,R){return new Uh(R,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((T,R)=>{f=f.insert(T,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Jt.newInvalidDocument(E)))}));let m=Nl();return f.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&Pl(E.mutation,y,$n.empty(),it.now()),zh(n,y)&&(m=m.insert(p,y))})),m}))}}class BN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ri(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:DN(o.bundledQuery),readTime:Ri(o.readTime)}})(n)),te.resolve()}}class HN{constructor(){this.overlays=new ut(ge.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=qs();return te.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=qs(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=qs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=qs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return te.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new aN(n,s));let u=this.qr.get(n);u===void 0&&(u=ke(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class qN{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class Ep{constructor(){this.Qr=new xt(Pt.$r),this.Ur=new xt(Pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Pt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Pt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ge(new ot([])),s=new Pt(n,e),o=new Pt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new ot([])),s=new Pt(n,e),o=new Pt(n,e+1);let u=ke();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Pt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Pt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}class FN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new xt(Pt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new sN(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Pt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?cp:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Pt(n,0),o=new Pt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new xt(Ve);return n.forEach((o=>{const u=new Pt(o,0),f=new Pt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new Pt(new ge(u),0);let m=new xt(Ve);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)}),f),te.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(n.mutations,(o=>{const u=new Pt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Pt(n,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class GN{constructor(e){this.ri=e,this.docs=(function(){return new ut(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let s=or();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Jt.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=or();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||v2(_2(E),s)<=0||(o.has(E.key)||zh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new YN(this)}getSize(e){return te.resolve(this.size)}}class YN extends UN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class KN{constructor(e){this.persistence=e,this.si=new Js((n=>dp(n)),mp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new Ep,this.targetCount=0,this.ai=oo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new oo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}class lS{constructor(e,n){this.ui={},this.overlays={},this.ci=new kh(0),this.li=!1,this.li=!0,this.hi=new qN,this.referenceDelegate=e(this),this.Pi=new KN(this),this.indexManager=new ON,this.remoteDocumentCache=(function(o){return new GN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new NN(n),this.Ii=new BN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new HN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new FN(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){oe("MemoryPersistence","Starting transaction:",e);const o=new QN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return te.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class QN extends T2{constructor(e){super(),this.currentSequenceNumber=e}}class Tp{constructor(e){this.persistence=e,this.Ri=new Ep,this.Vi=null}static mi(e){return new Tp(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(s=>{const o=ge.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Se.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class wh{constructor(e,n){this.persistence=e,this.pi=new Js((s=>b2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=PN(this,n)}static mi(e,n){return new wh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?te.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Se.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nh(e.data.value)),n}br(e,n,s){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Sp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Sp(e,n.fromCache,s,o)}}class XN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class $N{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return S1()?8:S2(Wt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new XN;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Ga()<=xe.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Ya(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(Ga()<=xe.DEBUG&&oe("QueryEngine","Query:",Ya(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ga()<=xe.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Ya(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wi(n))):te.resolve())}ys(e,n){if(vE(n))return te.resolve(null);let s=wi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Vm(n,null,"F"),s=wi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=ke(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.Ds(n,m);return this.Cs(n,y,f,p.readTime)?this.ys(e,Vm(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,s,o){return vE(n)||o.isEqual(Se.min())?te.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?te.resolve(null):(Ga()<=xe.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ya(n)),this.vs(e,f,n,y2(o,Fl)).next((m=>m)))}))}Ds(e,n){let s=new xt(U0(e));return n.forEach(((o,u)=>{zh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Ga()<=xe.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Ya(n)),this.ps.getDocumentsMatchingQuery(e,n,is.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Ap="LocalStore",JN=3e8;class WN{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ut(Ve),this.xs=new Js((u=>dp(u)),mp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function ZN(r,e,n,s){return new WN(r,e,n,s)}async function uS(r,e){const n=be(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=ke();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function eD(r,e){const n=be(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const T=y.batch,R=T.keys();let k=te.resolve();return R.forEach((z=>{k=k.next((()=>E.getEntry(p,z))).next((K=>{const B=y.docVersions.get(z);Ge(B!==null,48541),K.version.compareTo(B)<0&&(T.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),E.addEntry(K)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=ke();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function cS(r){const e=be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function tD(r,e){const n=be(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const R=o.get(T);if(!R)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let k=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?k=k.withResumeToken(Kt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(T,k),(function(K,B,J){return K.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=JN?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(R,k,E)&&m.push(n.Pi.updateTargetData(u,k))}));let p=or(),y=ke();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(nD(u,f,e.documentUpdates).next((E=>{p=E.ks,y=E.qs}))),!s.isEqual(Se.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return te.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function nD(r,e,n){let s=ke(),o=ke();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=or();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):oe(Ap,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function iD(r,e){const n=be(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=cp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function rD(r,e){const n=be(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,te.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Jr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function jm(r,e,n){const s=be(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!yo(f))throw f;oe(Ap,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function ME(r,e,n){const s=be(r);let o=Se.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const T=be(p),R=T.xs.get(E);return R!==void 0?te.resolve(T.Ms.get(R)):T.Pi.getTargetData(y,E)})(s,f,wi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:ke()))).next((m=>(sD(s,F2(e),m),{documents:m,Qs:u})))))}function sD(r,e,n){let s=r.Os.get(e)||Se.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class xE{constructor(){this.activeTargetIds=$2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aD{constructor(){this.Mo=new xE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new xE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class oD{Oo(e){}shutdown(){}}const VE="ConnectivityMonitor";class kE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(VE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(VE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Fc=null;function zm(){return Fc===null?Fc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fc++,"0x"+Fc.toString(16)}const fm="RestConnection",lD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===_h?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=zm(),m=this.zo(e,n.toUriEncodedString());oe(fm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(m),E=ho(y);return this.Jo(e,m,p,s,E).then((T=>(oe(fm,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw to(fm,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+po})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=lD[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class cD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xt="WebChannelConnection";class hD extends uD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=zm();return new Promise(((m,p)=>{const y=new d0;y.setWithCredentials(!0),y.listenOnce(m0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case th.NO_ERROR:const T=y.getResponseJson();oe(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case th.TIMEOUT:oe(Xt,`RPC '${e}' ${f} timed out`),p(new he(ie.DEADLINE_EXCEEDED,"Request time out"));break;case th.HTTP_ERROR:const R=y.getStatus();if(oe(Xt,`RPC '${e}' ${f} failed with status:`,R,"response text:",y.getResponseText()),R>0){let k=y.getResponseJson();Array.isArray(k)&&(k=k[0]);const z=k?.error;if(z&&z.status&&z.message){const K=(function(J){const X=J.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(X)>=0?X:ie.UNKNOWN})(z.status);p(new he(K,z.message))}else p(new he(ie.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new he(ie.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{oe(Xt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);oe(Xt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=zm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=y0(),m=g0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");oe(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=f.createWebChannel(E,p);this.I_(T);let R=!1,k=!1;const z=new cD({Yo:B=>{k?oe(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(R||(oe(Xt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),R=!0),oe(Xt,`RPC '${e}' stream ${o} sending:`,B),T.send(B))},Zo:()=>T.close()}),K=(B,J,X)=>{B.listen(J,(ne=>{try{X(ne)}catch(fe){setTimeout((()=>{throw fe}),0)}}))};return K(T,Il.EventType.OPEN,(()=>{k||(oe(Xt,`RPC '${e}' stream ${o} transport opened.`),z.o_())})),K(T,Il.EventType.CLOSE,(()=>{k||(k=!0,oe(Xt,`RPC '${e}' stream ${o} transport closed`),z.a_(),this.E_(T))})),K(T,Il.EventType.ERROR,(B=>{k||(k=!0,to(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),z.a_(new he(ie.UNAVAILABLE,"The operation could not be completed")))})),K(T,Il.EventType.MESSAGE,(B=>{if(!k){const J=B.data[0];Ge(!!J,16349);const X=J,ne=X?.error||X[0]?.error;if(ne){oe(Xt,`RPC '${e}' stream ${o} received error:`,ne);const fe=ne.status;let ye=(function(b){const I=Rt[b];if(I!==void 0)return J0(I)})(fe),pe=ne.message;ye===void 0&&(ye=ie.INTERNAL,pe="Unknown error status: "+fe+" with message "+ne.message),k=!0,z.a_(new he(ye,pe)),T.close()}else oe(Xt,`RPC '${e}' stream ${o} received:`,J),z.u_(J)}})),K(m,p0.STAT_EVENT,(B=>{B.stat===Im.PROXY?oe(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===Im.NOPROXY&&oe(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function dm(){return typeof document<"u"?document:null}function Fh(r){return new pN(r,!0)}class hS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const LE="PersistentStream";class fS{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(ar(n.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(LE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(oe(LE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class fD extends fS{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=_N(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?Ri(f.readTime):Se.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Um(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=xm(p)?{documents:TN(u,p)}:{query:SN(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=eS(u,f.resumeToken);const y=km(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=bh(u,f.snapshotVersion.toTimestamp());const y=km(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=bN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Um(this.serializer),n.removeTarget=e,this.q_(n)}}class dD extends fS{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=EN(e.writeResults,e.commitTime),s=Ri(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Um(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>vN(this.serializer,s)))};this.q_(n)}}class mD{}class pD extends mD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Lm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ie.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Lm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(ie.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class gD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ar(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Xs="RemoteStore";class yD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Zs(this)&&(oe(Xs,"Restarting streams for network reachability change."),await(async function(p){const y=be(p);y.Ea.add(4),await ou(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Gh(y)})(this))}))})),this.Ra=new gD(s,o)}}async function Gh(r){if(Zs(r))for(const e of r.da)await e(!0)}async function ou(r){for(const e of r.da)await e(!1)}function dS(r,e){const n=be(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Cp(n)?Rp(n):_o(n).O_()&&wp(n,e))}function bp(r,e){const n=be(r),s=_o(n);n.Ia.delete(e),s.O_()&&mS(n,e),n.Ia.size===0&&(s.O_()?s.L_():Zs(n)&&n.Ra.set("Unknown"))}function wp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_o(r).Y_(e)}function mS(r,e){r.Va.Ue(e),_o(r).Z_(e)}function Rp(r){r.Va=new hN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),_o(r).start(),r.Ra.ua()}function Cp(r){return Zs(r)&&!_o(r).x_()&&r.Ia.size>0}function Zs(r){return be(r).Ea.size===0}function pS(r){r.Va=void 0}async function _D(r){r.Ra.set("Online")}async function vD(r){r.Ia.forEach(((e,n)=>{wp(r,e)}))}async function ED(r,e){pS(r),Cp(r)?(r.Ra.ha(e),Rp(r)):r.Ra.set("Unknown")}async function TD(r,e,n){if(r.Ra.set("Online"),e instanceof Z0&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){oe(Xs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Rh(r,s)}else if(e instanceof sh?r.Va.Ze(e):e instanceof W0?r.Va.st(e):r.Va.tt(e),!n.isEqual(Se.min()))try{const s=await cS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Kt.EMPTY_BYTE_STRING,E.snapshotVersion)),mS(u,p);const T=new Jr(E.target,p,y,E.sequenceNumber);wp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){oe(Xs,"Failed to raise snapshot:",s),await Rh(r,s)}}async function Rh(r,e,n){if(!yo(e))throw e;r.Ea.add(1),await ou(r),r.Ra.set("Offline"),n||(n=()=>cS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{oe(Xs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Gh(r)}))}function gS(r,e){return e().catch((n=>Rh(r,n,e)))}async function Yh(r){const e=be(r),n=os(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:cp;for(;SD(e);)try{const o=await iD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,AD(e,o)}catch(o){await Rh(e,o)}yS(e)&&_S(e)}function SD(r){return Zs(r)&&r.Ta.length<10}function AD(r,e){r.Ta.push(e);const n=os(r);n.O_()&&n.X_&&n.ea(e.mutations)}function yS(r){return Zs(r)&&!os(r).x_()&&r.Ta.length>0}function _S(r){os(r).start()}async function bD(r){os(r).ra()}async function wD(r){const e=os(r);for(const n of r.Ta)e.ea(n.mutations)}async function RD(r,e,n){const s=r.Ta.shift(),o=yp.from(s,e,n);await gS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Yh(r)}async function CD(r,e){e&&os(r).X_&&await(async function(s,o){if((function(f){return lN(f)&&f!==ie.ABORTED})(o.code)){const u=s.Ta.shift();os(s).B_(),await gS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Yh(s)}})(r,e),yS(r)&&_S(r)}async function PE(r,e){const n=be(r);n.asyncQueue.verifyOperationInProgress(),oe(Xs,"RemoteStore received new credentials");const s=Zs(n);n.Ea.add(3),await ou(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Gh(n)}async function ID(r,e){const n=be(r);e?(n.Ea.delete(2),await Gh(n)):e||(n.Ea.add(2),await ou(n),n.Ra.set("Unknown"))}function _o(r){return r.ma||(r.ma=(function(n,s,o){const u=be(n);return u.sa(),new fD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:_D.bind(null,r),t_:vD.bind(null,r),r_:ED.bind(null,r),H_:TD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Cp(r)?Rp(r):r.Ra.set("Unknown")):(await r.ma.stop(),pS(r))}))),r.ma}function os(r){return r.fa||(r.fa=(function(n,s,o){const u=be(n);return u.sa(),new dD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:bD.bind(null,r),r_:CD.bind(null,r),ta:wD.bind(null,r),na:RD.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Yh(r)):(await r.fa.stop(),r.Ta.length>0&&(oe(Xs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Ip{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Ip(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Np(r,e){if(ar("AsyncQueue",`${e}: ${r}`),yo(r))return new he(ie.UNAVAILABLE,`${e}: ${r}`);throw r}class Za{static emptySet(e){return new Za(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Nl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Za)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Za;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class UE{constructor(){this.ga=new ut(ge.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class lo{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new lo(e,n,Za.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class ND{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class DD{constructor(){this.queries=jE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=be(n),u=o.queries;o.queries=jE(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new he(ie.ABORTED,"Firestore shutting down"))}}function jE(){return new Js((r=>P0(r)),jh)}async function OD(r,e){const n=be(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new ND,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Np(f,`Initialization of query '${Ya(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Dp(n)}async function MD(r,e){const n=be(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function xD(r,e){const n=be(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Dp(n)}function VD(r,e,n){const s=be(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Dp(r){r.Ca.forEach((e=>{e.next()}))}var Bm,zE;(zE=Bm||(Bm={})).Ma="default",zE.Cache="cache";class kD{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new lo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Bm.Cache}}class vS{constructor(e){this.key=e}}class ES{constructor(e){this.key=e}}class LD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=U0(e),this.tu=new Za(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new UE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const R=o.get(E),k=zh(this.query,T)?T:null,z=!!R&&this.mutatedKeys.has(R.key),K=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let B=!1;R&&k?R.data.isEqual(k.data)?z!==K&&(s.track({type:3,doc:k}),B=!0):this.su(R,k)||(s.track({type:2,doc:k}),B=!0,(p&&this.eu(k,p)>0||y&&this.eu(k,y)<0)&&(m=!0)):!R&&k?(s.track({type:0,doc:k}),B=!0):R&&!k&&(s.track({type:1,doc:R}),B=!0,(p||y)&&(m=!0)),B&&(k?(f=f.add(k),u=K?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,T)=>(function(k,z){const K=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:B})}};return K(k)-K(z)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new lo(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new UE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new ES(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new vS(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Op="SyncEngine";class PD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class UD{constructor(e){this.key=e,this.hu=!1}}class jD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Js((m=>P0(m)),jh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(ge.comparator),this.Au=new Map,this.Ru=new Ep,this.Vu={},this.mu=new Map,this.fu=oo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zD(r,e,n=!0){const s=RS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await TS(s,e,n,!0),o}async function BD(r,e){const n=RS(r);await TS(n,e,!0,!1)}async function TS(r,e,n,s){const o=await rD(r.localStore,wi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await HD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&dS(r.remoteStore,o),m}async function HD(r,e,n,s,o){r.pu=(T,R,k)=>(async function(K,B,J,X){let ne=B.view.ru(J);ne.Cs&&(ne=await ME(K.localStore,B.query,!1).then((({documents:N})=>B.view.ru(N,ne))));const fe=X&&X.targetChanges.get(B.targetId),ye=X&&X.targetMismatches.get(B.targetId)!=null,pe=B.view.applyChanges(ne,K.isPrimaryClient,fe,ye);return HE(K,B.targetId,pe.au),pe.snapshot})(r,T,R,k);const u=await ME(r.localStore,e,!0),f=new LD(e,u.Qs),m=f.ru(u.documents),p=au.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);HE(r,n,y.au);const E=new PD(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function qD(r,e,n){const s=be(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!jh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await jm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&bp(s.remoteStore,o.targetId),Hm(s,o.targetId)})).catch(go)):(Hm(s,o.targetId),await jm(s.localStore,o.targetId,!0))}async function FD(r,e){const n=be(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),bp(n.remoteStore,s.targetId))}async function GD(r,e,n){const s=WD(r);try{const o=await(function(f,m){const p=be(f),y=it.now(),E=m.reduce(((k,z)=>k.add(z.key)),ke());let T,R;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let z=or(),K=ke();return p.Ns.getEntries(k,E).next((B=>{z=B,z.forEach(((J,X)=>{X.isValidDocument()||(K=K.add(J))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,z))).next((B=>{T=B;const J=[];for(const X of m){const ne=iN(X,T.get(X.key).overlayedDocument);ne!=null&&J.push(new Ws(X.key,ne,D0(ne.value.mapValue),tr.exists(!0)))}return p.mutationQueue.addMutationBatch(k,y,J,m)})).next((B=>{R=B;const J=B.applyToLocalDocumentSet(T,K);return p.documentOverlayCache.saveOverlays(k,B.batchId,J)}))})).then((()=>({batchId:R.batchId,changes:z0(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new ut(Ve)),y=y.insert(m,p),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await lu(s,o.changes),await Yh(s.remoteStore)}catch(o){const u=Np(o,"Failed to persist write");n.reject(u)}}async function SS(r,e){const n=be(r);try{const s=await tD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ge(f.hu,14607):o.removedDocuments.size>0&&(Ge(f.hu,42227),f.hu=!1))})),await lu(n,s,e)}catch(s){await go(s)}}function BE(r,e,n){const s=be(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=be(f);p.onlineState=m;let y=!1;p.queries.forEach(((E,T)=>{for(const R of T.Sa)R.va(m)&&(y=!0)})),y&&Dp(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function YD(r,e,n){const s=be(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ut(ge.comparator);f=f.insert(u,Jt.newNoDocument(u,Se.min()));const m=ke().add(u),p=new qh(Se.min(),new Map,new ut(Ve),f,m);await SS(s,p),s.du=s.du.remove(u),s.Au.delete(e),Mp(s)}else await jm(s.localStore,e,!1).then((()=>Hm(s,e,n))).catch(go)}async function KD(r,e){const n=be(r),s=e.batch.batchId;try{const o=await eD(n.localStore,e);bS(n,s,null),AS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await lu(n,o)}catch(o){await go(o)}}async function QD(r,e,n){const s=be(r);try{const o=await(function(f,m){const p=be(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((T=>(Ge(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(y,T)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);bS(s,e,n),AS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await lu(s,o)}catch(o){await go(o)}}function AS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function bS(r,e,n){const s=be(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Hm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||wS(r,s)}))}function wS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(bp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Mp(r))}function HE(r,e,n){for(const s of n)s instanceof vS?(r.Ru.addReference(s.key,e),XD(r,s)):s instanceof ES?(oe(Op,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||wS(r,s.key)):Ee(19791,{wu:s})}function XD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(oe(Op,"New document in limbo: "+n),r.Eu.add(s),Mp(r))}function Mp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ge(ot.fromString(e)),s=r.fu.next();r.Au.set(s,new UD(n)),r.du=r.du.insert(n,s),dS(r.remoteStore,new Jr(wi(pp(n.path)),s,"TargetPurposeLimboResolution",kh.ce))}}async function lu(r,e,n){const s=be(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Sp.As(p.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,y){const E=be(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>te.forEach(y,(R=>te.forEach(R.Es,(k=>E.persistence.referenceDelegate.addReference(T,R.targetId,k))).next((()=>te.forEach(R.ds,(k=>E.persistence.referenceDelegate.removeReference(T,R.targetId,k)))))))))}catch(T){if(!yo(T))throw T;oe(Ap,"Failed to update sequence numbers: "+T)}for(const T of y){const R=T.targetId;if(!T.fromCache){const k=E.Ms.get(R),z=k.snapshotVersion,K=k.withLastLimboFreeSnapshotVersion(z);E.Ms=E.Ms.insert(R,K)}}})(s.localStore,u))}async function $D(r,e){const n=be(r);if(!n.currentUser.isEqual(e)){oe(Op,"User change. New user:",e.toKey());const s=await uS(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new he(ie.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await lu(n,s.Ls)}}function JD(r,e){const n=be(r),s=n.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function RS(r){const e=be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=SS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YD.bind(null,e),e.Pu.H_=xD.bind(null,e.eventManager),e.Pu.yu=VD.bind(null,e.eventManager),e}function WD(r){const e=be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QD.bind(null,e),e}class Ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ZN(this.persistence,new $N,e.initialUser,this.serializer)}Cu(e){return new lS(Tp.mi,this.serializer)}Du(e){return new aD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ch.provider={build:()=>new Ch};class ZD extends Ch{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof wh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new kN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new lS((s=>wh.mi(s,n)),this.serializer)}}class qm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>BE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=$D.bind(null,this.syncEngine),await ID(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new DD})()}createDatastore(e){const n=Fh(e.databaseInfo.databaseId),s=(function(u){return new hD(u)})(e.databaseInfo);return(function(u,f,m,p){return new pD(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new yD(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>BE(this.syncEngine,n,0)),(function(){return kE.v()?new kE:new oD})())}createSyncEngine(e,n){return(function(o,u,f,m,p,y,E){const T=new jD(o,u,f,m,p,y);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=be(n);oe(Xs,"RemoteStore shutting down."),s.Ea.add(5),await ou(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}qm.provider={build:()=>new qm};class eO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ls="FirestoreClient";class tO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=lp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{oe(ls,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(oe(ls,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Np(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function mm(r,e){r.asyncQueue.verifyOperationInProgress(),oe(ls,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await uS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function qE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await nO(r);oe(ls,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>PE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>PE(e.remoteStore,o))),r._onlineComponents=e}async function nO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){oe(ls,"Using user provided OfflineComponentProvider");try{await mm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;to("Error using user provided cache. Falling back to memory cache: "+n),await mm(r,new Ch)}}else oe(ls,"Using default OfflineComponentProvider"),await mm(r,new ZD(void 0));return r._offlineComponents}async function CS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(oe(ls,"Using user provided OnlineComponentProvider"),await qE(r,r._uninitializedComponentsProvider._online)):(oe(ls,"Using default OnlineComponentProvider"),await qE(r,new qm))),r._onlineComponents}function iO(r){return CS(r).then((e=>e.syncEngine))}async function rO(r){const e=await CS(r),n=e.eventManager;return n.onListen=zD.bind(null,e.syncEngine),n.onUnlisten=qD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=BD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=FD.bind(null,e.syncEngine),n}function sO(r,e,n={}){const s=new ns;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new eO({next:R=>{E.Nu(),f.enqueueAndForget((()=>MD(u,T)));const k=R.docs.has(m);!k&&R.fromCache?y.reject(new he(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&R.fromCache&&p&&p.source==="server"?y.reject(new he(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),T=new kD(pp(m.path),E,{includeMetadataChanges:!0,qa:!0});return OD(u,T)})(await rO(r),r.asyncQueue,e,n,s))),s.promise}function IS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const FE=new Map;const NS="firestore.googleapis.com",GE=!0;class YE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NS,this.ssl=GE}else this.host=e.host,this.ssl=e.ssl??GE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<xN)throw new he(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}g2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xp{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new s2;switch(s.type){case"firstParty":return new u2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=FE.get(n);s&&(oe("ComponentProvider","Removing Datastore"),FE.delete(n),s.terminate())})(this),Promise.resolve()}}function aO(r,e,n,s={}){r=ql(r,xp);const o=ho(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(AT(`https://${m}`),bT("Firestore",!0)),u.host!==NS&&u.host!==m&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ir(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=$t.MOCK_USER;else{y=d1(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new he(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $t(T)}r._authCredentials=new a2(new v0(y,E))}}class Vp{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Vp(this.firestore,e,this._query)}}class Ut{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ql(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ru(n,Ut._jsonSchema))return new Ut(e,s||null,new ge(ot.fromString(n.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:Ct("string",Ut._jsonSchemaVersion),referencePath:Ct("string")};class Ql extends Vp{constructor(e,n,s){super(e,n,pp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new ge(e))}withConverter(e){return new Ql(this.firestore,e,this._path)}}function pm(r,e,...n){if(r=En(r),arguments.length===1&&(e=lp.newId()),p2("doc","path",e),r instanceof xp){const s=ot.fromString(e,...n);return aE(s),new Ut(r,null,new ge(s))}{if(!(r instanceof Ut||r instanceof Ql))throw new he(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ot.fromString(e,...n));return aE(s),new Ut(r.firestore,r instanceof Ql?r.converter:null,new ge(s))}}const KE="AsyncQueue";class QE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hS(this,"async_queue_retry"),this._c=()=>{const s=dm();s&&oe(KE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=dm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ns;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yo(e))throw e;oe(KE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ar("INTERNAL UNHANDLED ERROR: ",XE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Ip.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:XE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function XE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class kp extends xp{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new QE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new QE(e),this._firestoreClient=void 0,await e}}}function oO(r,e){const n=typeof r=="object"?r:IT(),s=typeof r=="string"?r:_h,o=Wm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=h1("firestore");u&&aO(o,...u)}return o}function DS(r){if(r._terminated)throw new he(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||lO(r),r._firestoreClient}function lO(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new C2(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,IS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new tO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(Kt.fromBase64String(e))}catch(n){throw new he(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ln(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ru(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Ct("string",Ln._jsonSchemaVersion),bytes:Ct("string")};class Lp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Kh{constructor(e){this._methodName=e}}class Ci{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(e){if(ru(e,Ci._jsonSchema))return new Ci(e.latitude,e.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:Ct("string",Ci._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};class Ii{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ru(e,Ii._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ii(e.vectorValues);throw new he(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ii._jsonSchemaVersion="firestore/vectorValue/1.0",Ii._jsonSchema={type:Ct("string",Ii._jsonSchemaVersion),vectorValues:Ct("object")};const uO=/^__.*__$/;class cO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ws(e,this.data,this.fieldMask,n,this.fieldTransforms):new su(e,this.data,n,this.fieldTransforms)}}function OS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:r})}}class Qh{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Qh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ih(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(OS(this.Ac)&&uO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class hO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Fh(e)}Cc(e,n,s,o=!1){return new Qh({Ac:e,methodName:n,Dc:s,path:Yt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fO(r){const e=r._freezeSettings(),n=Fh(r._databaseId);return new hO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function dO(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);kS("Data must be an object, but it was:",f,s);const m=xS(s,f);let p,y;if(u.merge)p=new $n(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const R=mO(e,T,n);if(!f.contains(R))throw new he(ie.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);gO(E,R)||E.push(R)}p=new $n(E),y=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,y=f.fieldTransforms;return new cO(new kn(m),p,y)}function MS(r,e,n){return new Qh({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Pp extends Kh{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=MS(this,e,!0),s=this.vc.map((u=>Xh(u,n))),o=new so(s);return new K0(e.path,o)}isEqual(e){return e instanceof Pp&&ir(this.vc,e.vc)}}class Up extends Kh{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=MS(this,e,!0),s=this.vc.map((u=>Xh(u,n))),o=new ao(s);return new K0(e.path,o)}isEqual(e){return e instanceof Up&&ir(this.vc,e.vc)}}function Xh(r,e){if(VS(r=En(r)))return kS("Unsupported field value:",e,r),xS(r,e);if(r instanceof Kh)return(function(s,o){if(!OS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Xh(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=En(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return J2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:bh(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:bh(o.serializer,u)}}if(s instanceof Ci)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ln)return{bytesValue:eS(o.serializer,s._byteString)};if(s instanceof Ut){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:vp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ii)return(function(f,m){return{mapValue:{fields:{[I0]:{stringValue:N0},[vh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return gp(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${up(s)}`)})(r,e)}function xS(r,e){const n={};return S0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$s(r,((s,o)=>{const u=Xh(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function VS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof it||r instanceof Ci||r instanceof Ln||r instanceof Ut||r instanceof Kh||r instanceof Ii)}function kS(r,e,n){if(!VS(n)||!E0(n)){const s=up(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function mO(r,e,n){if((e=En(e))instanceof Lp)return e._internalPath;if(typeof e=="string")return LS(r,e);throw Ih("Field path arguments must be of type string or ",r,!1,void 0,n)}const pO=new RegExp("[~\\*/\\[\\]]");function LS(r,e,n){if(e.search(pO)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Lp(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ih(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new he(ie.INVALID_ARGUMENT,m+r+p)}function gO(r,e){return r.some((n=>n.isEqual(e)))}class PS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(US("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yO extends PS{data(){return super.data()}}function US(r,e){return typeof e=="string"?LS(r,e):e instanceof Lp?e._internalPath:e._delegate._internalPath}class _O{convertValue(e,n="none"){switch(as(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return $s(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[vh].arrayValue?.values?.map((s=>gt(s.doubleValue)));return new Ii(n)}convertGeoPoint(e){return new Ci(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ph(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Gl(e));default:return null}}convertTimestamp(e){const n=rs(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ot.fromString(e);Ge(aS(s),9688,{name:e});const o=new Yl(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||ar(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function vO(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class Ol{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fs extends PS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(US("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Fs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Fs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fs._jsonSchema={type:Ct("string",Fs._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class ah extends Fs{data(e={}){return super.data(e)}}class Ul{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ol(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new ah(this._firestore,this._userDataWriter,s.key,s,new Ol(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ol(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ol(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:EO(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ul._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=lp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function EO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}function TO(r){r=ql(r,Ut);const e=ql(r.firestore,kp);return sO(DS(e),r._key).then((n=>bO(e,r,n)))}Ul._jsonSchemaVersion="firestore/querySnapshot/1.0",Ul._jsonSchema={type:Ct("string",Ul._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class SO extends _O{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}}function $E(r,e,n){r=ql(r,Ut);const s=ql(r.firestore,kp),o=vO(r.converter,e,n);return AO(s,[dO(fO(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,tr.none())])}function AO(r,e){return(function(s,o){const u=new ns;return s.asyncQueue.enqueueAndForget((async()=>GD(await iO(s),o,u))),u.promise})(DS(r),e)}function bO(r,e,n){const s=n.docs.get(e._key),o=new SO(r);return new Fs(r,o,e._key,s,new Ol(n.hasPendingWrites,n.fromCache),e.converter)}function wO(...r){return new Pp("arrayUnion",r)}function RO(...r){return new Up("arrayRemove",r)}(function(e,n=!0){(function(o){po=o})(fo),eo(new Gs("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new kp(new o2(s.getProvider("auth-internal")),new c2(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),es(nE,iE,e),es(nE,iE,"esm2020")})();const CO={apiKey:"AIzaSyBmuibsjXBem9CN6pB-0nye7NryFJSya2g",authDomain:"filmorex.firebaseapp.com",projectId:"filmorex",storageBucket:"filmorex.firebasestorage.app",messagingSenderId:"962389606250",appId:"1:962389606250:web:4ba4c4fd8d70b077e56f13",measurementId:"G-XYT7Y5H7G9"},jS=CT(CO),$i=t2(jS),gm=oO(jS);function zS(){const[r,e]=U.useState(null),[n,s]=U.useState(!0);return U.useEffect(()=>t0($i,y=>{e(y),s(!1)}),[]),{user:r,loading:n,register:async(p,y)=>await zC($i,p,y),login:async(p,y)=>await BC($i,p,y),logout:async()=>await FC($i),resetPassword:async p=>await jC($i,p)}}const IO="/my-project-cinemania/img/logo.png",Gc="/my-project-cinemania/img/symbol-defs.svg";function NO({onLoginClick:r}){const{user:e,logout:n,resetPassword:s}=zS(),o=us(),[u,f]=U.useState(!1),[m,p]=U.useState(!1),[y,E]=U.useState(!1),T=[{code:"tr",name:"Turkish",flag:"tr"},{code:"fr",name:"Franais",flag:"fr"},{code:"de",name:"Deutsch",flag:"de"},{code:"en",name:"English",flag:"gb"},{code:"es",name:"Espaol",flag:"es"},{code:"it",name:"Italiano",flag:"it"},{code:"pt",name:"Portugus",flag:"pt"},{code:"ru",name:"",flag:"ru"},{code:"ar",name:"",flag:"sa"},{code:"fa",name:"",flag:"ir"},{code:"zh",name:" (Chinese)",flag:"cn"},{code:"ja",name:" (Japanese)",flag:"jp"},{code:"ko",name:" (Korean)",flag:"kr"}],R=X=>o.pathname===X?"active":"",k=X=>{window.innerWidth<=768&&(X.preventDefault(),f(!0))},z=()=>{f(!1)},K=async()=>{await n(),window.location.reload()},B=async()=>{if(e&&e.email)try{await s(e.email),alert("Password reset email sent! Please check your inbox.")}catch(X){alert(`Failed to send password reset email: ${X.message}`)}},J=X=>{const ne=`/auto/${X}`;document.cookie=`googtrans=${ne}; path=/;`,window.location.reload()};return U.useEffect(()=>{const X=()=>{window.innerWidth>768&&f(!1)};return window.addEventListener("resize",X),()=>window.removeEventListener("resize",X)},[]),U.useEffect(()=>{const X=ne=>{m&&!ne.target.closest("#user-account-container")&&(p(!1),E(!1))};return document.addEventListener("click",X),()=>document.removeEventListener("click",X)},[m]),w.jsxs("header",{className:"site-header",children:[w.jsxs("div",{className:"container header-container",children:[w.jsxs($r,{to:"/",className:"logo",onClick:k,children:[w.jsx("img",{src:IO,alt:"Cinemania Logo"}),w.jsx("span",{children:"cprookie"})]}),w.jsxs("nav",{className:`main-nav ${u?"is-open":""}`,children:[w.jsx("button",{className:"mobile-nav-close",onClick:z,children:""}),w.jsxs("ul",{children:[w.jsx("li",{children:w.jsx($r,{to:"/",className:`nav-link ${R("/")}`,onClick:z,children:"HOME"})}),w.jsx("li",{children:w.jsx($r,{to:"/catalog",className:`nav-link ${R("/catalog")}`,onClick:z,children:"CATALOG"})}),w.jsx("li",{children:w.jsx($r,{to:"/library",className:`nav-link ${R("/library")}`,onClick:z,children:"MY LIBRARY"})})]})]}),w.jsxs("div",{className:"auth-buttons",children:[e?w.jsxs("div",{id:"user-account-container",className:"user-dropdown-container",children:[w.jsxs("button",{id:"btn-account",className:"nav-link account-btn",onClick:X=>{X.stopPropagation(),p(!m)},children:[w.jsx("span",{children:"My Account"}),w.jsx("i",{className:"fas fa-chevron-down",style:{marginLeft:"5px",fontSize:"0.8em"}})]}),w.jsxs("div",{id:"account-dropdown",className:`dropdown-content ${m?"show":""}`,children:[w.jsx("div",{className:"dropdown-user-info",children:w.jsx("span",{id:"dropdown-email",children:e.email})}),w.jsx("hr",{}),w.jsxs("div",{className:"submenu-wrapper",children:[w.jsxs("button",{id:"btn-languages",className:`dropdown-item submenu-trigger ${y?"open":""}`,onClick:X=>{X.stopPropagation(),E(!y)},children:[w.jsxs("span",{children:[w.jsx("i",{className:"fas fa-globe"}),w.jsx("span",{children:"Languages"})]}),w.jsx("i",{className:"fas fa-chevron-right arrow-icon"})]}),w.jsx("div",{id:"languages-list",className:`submenu-content ${y?"show":""}`,children:T.map(X=>w.jsxs("a",{href:"#",className:"dropdown-item lang-opt","data-val":X.code,onClick:ne=>{ne.preventDefault(),J(X.code)},children:[w.jsx("img",{className:"flag-icon",src:`https://flagcdn.com/w20/${X.flag}.png`,alt:X.name}),X.name]},X.code))})]}),w.jsxs("a",{href:"#",className:"dropdown-item",id:"btn-change-password",onClick:B,children:[w.jsx("i",{className:"fas fa-key"}),w.jsx("span",{children:"Change Password"})]}),w.jsxs("a",{href:"#",className:"dropdown-item",id:"btn-logout",onClick:K,children:[w.jsx("i",{className:"fas fa-sign-out-alt"}),w.jsx("span",{children:"Logout"})]})]})]}):w.jsx("button",{id:"btn-login",className:"nav-link",onClick:r,children:"Login / Register"}),w.jsx("div",{className:"theme-switcher",children:w.jsxs("label",{className:"switch",children:[w.jsx("input",{type:"checkbox",id:"theme-toggle-checkbox"}),w.jsxs("span",{className:"slider round",children:[w.jsx("svg",{className:"icon icon-sun",children:w.jsx("use",{xlinkHref:`${Gc}#icon-sun`})}),w.jsx("svg",{className:"icon-moon",children:w.jsx("use",{xlinkHref:`${Gc}#icon-moon`})}),w.jsxs("span",{className:"slider-circle-container",children:[w.jsx("svg",{className:"slider-circle-white",children:w.jsx("use",{xlinkHref:`${Gc}#icon-circle1`})}),w.jsx("svg",{className:"slider-circle-orange",children:w.jsx("use",{xlinkHref:`${Gc}#icon-circle1`})})]})]})]})})]})]}),u&&w.jsx("div",{className:"mobile-overlay active",onClick:z})]})}const DO="/my-project-cinemania/img/symbol-defs.svg";function OO({onTeamModalOpen:r}){return w.jsx("footer",{className:"site-footer",children:w.jsx("div",{className:"container",children:w.jsxs("p",{children:[" 2025 | All Rights Reserved | Developed with",w.jsx("svg",{className:"footer-heart",children:w.jsx("use",{xlinkHref:`${DO}#icon-heart`})}),"by"," ",w.jsx("a",{href:"#",className:"footer-link",onClick:e=>{e.preventDefault(),r&&r()},children:"GoIT Students"})]})})})}function MO({isOpen:r,onClose:e}){const[n,s]=U.useState(!0),[o,u]=U.useState(""),[f,m]=U.useState(""),[p,y]=U.useState(!1),{login:E,register:T}=zS(),R=async z=>{z.preventDefault(),y(!0);try{n?await E(o,f):await T(o,f),e(),u(""),m("")}catch(K){alert("Hata: "+K.message)}finally{y(!1)}},k=z=>{z.target===z.currentTarget&&e()};return r?w.jsx("div",{className:"modal-backdrop",id:"auth-modal-backdrop",onClick:k,children:w.jsxs("div",{className:"modal-window auth-window",children:[w.jsx("button",{type:"button",className:"modal-close-btn",onClick:e,children:""}),w.jsxs("div",{className:"auth-content",children:[w.jsx("h2",{id:"auth-title",children:n?"Login":"Register"}),w.jsxs("form",{id:"auth-form",onSubmit:R,children:[w.jsx("input",{type:"email",id:"auth-email",placeholder:"Email",required:!0,value:o,onChange:z=>u(z.target.value)}),w.jsx("input",{type:"password",id:"auth-password",placeholder:"Password",required:!0,value:f,onChange:z=>m(z.target.value)}),w.jsx("button",{type:"submit",id:"auth-submit-btn",className:"btn btn-primary",disabled:p,children:p?"Please wait...":n?"Sign In":"Sign Up"})]}),w.jsxs("p",{className:"auth-switch-text",children:[n?"Don't have an account? ":"Already have an account? ",w.jsx("span",{id:"auth-switch-btn",onClick:()=>s(!n),style:{color:"orange",cursor:"pointer"},children:n?"Register here":"Login here"})]})]})]})}):null}const xO="362ee522f1af2dedac989b8df9cfb4eb",VO="https://api.themoviedb.org/3",kO="https://image.tmdb.org/t/p/w500",LO="https://image.tmdb.org/t/p/original";async function ea(r,e={},n="en-US"){const s=new URL(`${VO}${r}`);s.searchParams.append("api_key",xO),n&&s.searchParams.append("language",n);for(const o in e)e[o]&&s.searchParams.append(o,e[o]);try{const o=await fetch(s);if(!o.ok)throw new Error(`API Error: ${o.status}`);return await o.json()}catch(o){return console.error("API Request Failed:",o),null}}async function JE(r=1){return await ea("/movie/popular",{page:r})}async function WE(r="week",e=1){return await ea(`/trending/movie/${r}`,{page:e})}async function PO(r=1){return await ea("/movie/upcoming",{page:r,region:"US"})}async function UO(r,e=1,n=""){return await ea("/search/movie",{query:r,page:e,primary_release_year:n})}async function jp(r){return await ea(`/movie/${r}`)}async function jO(r){return await ea(`/movie/${r}/videos`,{},null)}function BS(r){return r?`${kO}${r}`:"https://via.placeholder.com/500x750?text=No+Poster"}function zO(r){return r?`${LO}${r}`:"https://via.placeholder.com/1920x1080?text=No+Image"}function BO(r){return r?`https://image.tmdb.org/t/p/w1280${r}`:""}async function HO(r){return await ea(`/movie/${r}/watch/providers`)}const HS="myLibrary";function ZE(){const r=new Error("Login required");return r.code="auth/login-required",r}function Yc(){try{const r=localStorage.getItem(HS),e=r?JSON.parse(r):[];return Array.isArray(e)?e.map(Number).filter(Number.isFinite):[]}catch{return[]}}function Kc(r){try{const e=Array.from(new Set(r.map(Number).filter(Number.isFinite)));localStorage.setItem(HS,JSON.stringify(e))}catch{}}function ym(r){const e=typeof r?.code=="string"?r.code:"";return e==="permission-denied"||e==="unauthenticated"||e==="unavailable"||e==="failed-precondition"||e.endsWith("/permission-denied")||e.endsWith("/unauthenticated")||e.endsWith("/unavailable")||e.endsWith("/failed-precondition")}function qS(){const[r,e]=U.useState([]),[n,s]=U.useState(!0),o=U.useRef(!1),u=async()=>{s(!0);const y=$i.currentUser;if(!y){e([]),s(!1);return}if(o.current)e(Yc());else{const E=pm(gm,"users",y.uid);try{const T=await TO(E);if(T.exists()){const R=T.data().library||[],k=Array.isArray(R)?R.map(Number).filter(Number.isFinite):[];e(k),Kc(k)}else e([]),Kc([])}catch(T){console.error("[useLibrary] Firestore load failed:",T),ym(T)&&(o.current=!0),e(Yc())}}s(!1)};return U.useEffect(()=>(u(),t0($i,()=>{o.current=!1,u()})),[]),{library:r,loading:n,addToLibrary:async y=>{const E=$i.currentUser,T=Number(y);if(!Number.isFinite(T))return;if(!E)throw ZE();const R=Yc();if(!R.includes(T)){const k=[...R,T];Kc(k),e(k)}if(!o.current){const k=pm(gm,"users",E.uid);try{await $E(k,{library:wO(T)},{merge:!0})}catch(z){console.error("[useLibrary] Firestore add sync failed:",z),ym(z)&&(o.current=!0)}}},removeFromLibrary:async y=>{const E=$i.currentUser,T=Number(y);if(!Number.isFinite(T))return;if(!E)throw ZE();const R=Yc().filter(k=>k!==T);if(Kc(R),e(R),!o.current){const k=pm(gm,"users",E.uid);try{await $E(k,{library:RO(T)},{merge:!0})}catch(z){console.error("[useLibrary] Firestore remove sync failed:",z),ym(z)&&(o.current=!0)}}},isInLibrary:y=>r.includes(Number(y)),refreshLibrary:u}}function qO({isOpen:r,onClose:e,movieId:n,onRequireLogin:s}){const[o,u]=U.useState(null),[f,m]=U.useState(null),[p,y]=U.useState(!1),{isInLibrary:E,addToLibrary:T,removeFromLibrary:R}=qS();U.useEffect(()=>{r&&n&&k()},[r,n]);const k=async()=>{y(!0);const[ne,fe]=await Promise.all([jp(n),HO(n)]);u(ne),m(fe),y(!1)},z=async()=>{if(o)try{E(o.id)?await R(o.id):await T(o.id)}catch(ne){console.error("Library Error:",ne);const fe=typeof ne?.code=="string"?ne.code:"";if(fe.includes("login-required")){if(typeof s=="function"){e(),s();return}alert("Ktphaneye film eklemek iin giri yapmalsnz.");return}if(fe.includes("permission-denied")){alert("Firebase Firestore izinleri kstlyor. Firestore Rules (gvenlik kurallar) ksmn kontrol edin.");return}if(fe.includes("unauthenticated")){alert("Oturum dorulanamad. Ltfen tekrar giri yapn.");return}alert("Ktphane ilemi srasnda bir hata olutu.")}},K=()=>{if(o){const ne=encodeURIComponent(`${o.title} izle`);window.open(`https://www.google.com/search?q=${ne}`,"_blank")}},B=ne=>{ne.target===ne.currentTarget&&e()};if(!r||!o)return null;const J=f?.results?.TR,X=J&&J.flatrate&&J.flatrate.length>0;return w.jsx("div",{className:"modal-backdrop",id:"movie-modal-backdrop",onClick:B,children:w.jsxs("div",{className:"modal-window movie-modal-size",children:[w.jsx("button",{type:"button",className:"modal-close-btn",onClick:e,children:""}),w.jsxs("div",{className:"modal-content",children:[w.jsx("div",{className:"modal-poster-wrapper",children:w.jsx("img",{src:BS(o.poster_path),alt:"Movie Poster",className:"modal-poster"})}),w.jsxs("div",{className:"modal-info",children:[w.jsx("h2",{className:"modal-title",children:o.title.toUpperCase()}),w.jsxs("div",{className:"modal-details-grid",children:[w.jsxs("div",{className:"detail-row",children:[w.jsx("span",{className:"detail-label",children:"Vote / Votes"}),w.jsxs("div",{className:"detail-value",children:[w.jsx("span",{className:"vote-tag",children:o.vote_average.toFixed(1)}),w.jsx("span",{className:"slash",children:"/"}),w.jsx("span",{className:"vote-tag",children:o.vote_count})]})]}),w.jsxs("div",{className:"detail-row",children:[w.jsx("span",{className:"detail-label",children:"Popularity"}),w.jsx("span",{className:"detail-value",children:o.popularity.toFixed(1)})]}),w.jsxs("div",{className:"detail-row",children:[w.jsx("span",{className:"detail-label",children:"Genre"}),w.jsx("span",{className:"detail-value",children:o.genres.map(ne=>ne.name).join(", ")||"N/A"})]})]}),w.jsx("h3",{className:"modal-about-title",children:"ABOUT"}),w.jsx("p",{className:"modal-description",children:o.overview||"No description available."}),X&&w.jsxs("div",{id:"modal-providers-container",className:"providers-container",children:[w.jsx("h3",{className:"modal-about-title",children:"WATCH ON"}),w.jsx("div",{className:"providers-list",children:J.flatrate.slice(0,5).map((ne,fe)=>w.jsx("img",{src:`https://image.tmdb.org/t/p/original${ne.logo_path}`,alt:ne.provider_name,title:`Watch on ${ne.provider_name}`,className:"provider-logo",onClick:()=>{const ye=encodeURIComponent(o.title),pe=ne.provider_name.toLowerCase();let N="";pe.includes("netflix")?N=`https://www.netflix.com/search?q=${ye}`:pe.includes("amazon")||pe.includes("prime")?N=`https://www.primevideo.com/search/ref=atv_nb_sr?phrase=${ye}`:pe.includes("disney")?N=`https://www.disneyplus.com/search?q=${ye}`:pe.includes("apple")?N=`https://tv.apple.com/search?term=${ye}`:pe.includes("blutv")?N=`https://www.blutv.com/arama?q=${ye}`:pe.includes("mubi")?N=`https://mubi.com/tr/search/films?query=${ye}`:N=J.link,window.open(N,"_blank")}},fe))}),w.jsx("a",{href:J.link,target:"_blank",rel:"noopener noreferrer",className:"watch-link",children:"View all options"})]}),w.jsxs("div",{className:"modal-btn-wrapper",children:[w.jsx("button",{type:"button",className:`btn-modal-add ${E(o.id)?"btn-remove":""}`,onClick:z,children:E(o.id)?"Remove from my library":"Add to my library"}),w.jsx("button",{type:"button",className:"btn-modal-google",onClick:K,children:"Search on Google"})]})]})]})]})})}function FO({isOpen:r,onClose:e,videoKey:n}){U.useEffect(()=>{const o=u=>{u.key==="Escape"&&r&&e()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[r,e]);const s=o=>{o.target===o.currentTarget&&e()};return r?w.jsx("div",{className:"modal-backdrop",id:"trailer-modal-backdrop",onClick:s,children:w.jsxs("div",{className:"modal-window trailer-modal-content",children:[w.jsx("button",{type:"button",className:"modal-close-btn",id:"trailer-modal-close-btn",onClick:e,children:""}),w.jsx("div",{className:"trailer-modal-body",children:w.jsx("iframe",{id:"trailer-iframe",width:"100%",height:"500",src:`https://www.youtube.com/embed/${n}?autoplay=1&rel=0&showinfo=0`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]})}):null}function GO({isOpen:r,onClose:e}){U.useEffect(()=>{const s=o=>{o.key==="Escape"&&r&&e()};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[r,e]);const n=s=>{s.target===s.currentTarget&&e()};return r?w.jsx("div",{className:"modal-backdrop",id:"trailer-error-backdrop",onClick:n,children:w.jsxs("div",{className:"modal-window trailer-error-window",children:[w.jsx("button",{type:"button",className:"modal-close-btn",onClick:e,children:""}),w.jsxs("div",{className:"trailer-error-content",children:[w.jsxs("div",{className:"trailer-error-text",children:[w.jsx("h2",{children:"OOPS..."}),w.jsx("p",{children:"We are very sorry!"}),w.jsx("p",{children:"But we couldn't find the trailer."})]}),w.jsx("div",{className:"trailer-error-image",children:w.jsx("img",{src:"/my-project-cinemania/img/trailer-modal.png",alt:"No Trailer"})})]})]})}):null}function YO({isOpen:r,onClose:e}){U.useEffect(()=>{const s=o=>{o.key==="Escape"&&r&&e()};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[r,e]);const n=s=>{s.target===s.currentTarget&&e()};return r?w.jsx("div",{className:"modal-backdrop",id:"team-modal-backdrop",onClick:n,children:w.jsxs("div",{className:"modal-window team-modal-window",children:[w.jsx("button",{type:"button",className:"modal-close-btn",onClick:e,children:""}),w.jsx("h2",{className:"team-title",children:"Our Dream Team"}),w.jsx("p",{className:"team-subtitle",children:"The creative minds behind Cinemania"}),w.jsx("div",{className:"team-list",children:w.jsxs("div",{className:"team-member",children:[w.jsx("div",{className:"member-img-wrapper",children:w.jsx("img",{src:"/my-project-cinemania/img/omer.jpg",alt:"Student 1",className:"member-img"})}),w.jsx("h3",{className:"member-name",children:"mer ZDEMR"}),w.jsx("p",{className:"member-role",children:"Team Lead"}),w.jsxs("div",{className:"member-social",children:[w.jsx("a",{href:"https://github.com/omerozdemir7",target:"_blank",rel:"noopener noreferrer",children:w.jsx("i",{className:"fab fa-github"})}),w.jsx("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",children:w.jsx("i",{className:"fab fa-linkedin"})})]})]})})]})}):null}function zp({movieId:r,onWatchTrailer:e,onMoreDetails:n,children:s}){const[o,u]=U.useState(null),[f,m]=U.useState("");U.useEffect(()=>{r&&p()},[r]);const p=async()=>{const T=await jp(r);if(T){u(T);const R=BO(T.backdrop_path||T.poster_path);m(`
        linear-gradient(to right, 
          #111 0%, 
          rgba(17, 17, 17, 1) 30%, 
          rgba(17, 17, 17, 0.5) 50%, 
          transparent 100%),
        url('${R}')
      `)}},y=async()=>{if(o)try{const T=await jO(o.id);let R=T?.results?.find(k=>k.type==="Trailer"&&k.site==="YouTube");R||(R=T?.results?.find(k=>k.type==="Teaser"&&k.site==="YouTube")),R&&R.key?e(R.key):e(null)}catch(T){console.error(T),e(null)}},E=T=>{const R=Math.round((T||0)/2),k=[];for(let z=1;z<=5;z++)k.push(w.jsx("i",{className:`fa-star ${z<=R?"fas active":"far"}`},z));return k};return s?w.jsx("section",{className:"hero-section",style:{backgroundImage:f},children:w.jsx("div",{className:"container hero-container",children:w.jsx("div",{className:"hero-content",children:s})})}):o?w.jsx("section",{className:"hero-section",style:{backgroundImage:f},children:w.jsx("div",{className:"container hero-container",children:w.jsxs("div",{className:"hero-content",children:[w.jsx("h1",{className:"hero-title",children:o.title}),w.jsx("div",{className:"star-rating hero-stars",children:E(o.vote_average)}),w.jsx("p",{className:"hero-description",children:o.overview||"No description available."}),w.jsxs("div",{className:"hero-buttons",children:[w.jsx("button",{className:"btn btn-primary",onClick:y,children:"Watch Trailer"}),w.jsx("button",{className:"btn btn-secondary",onClick:()=>n(o.id),children:"More details"})]})]})})}):w.jsx("section",{className:"hero-section",children:w.jsx("div",{className:"container hero-container",children:w.jsx("div",{className:"hero-content",children:w.jsx("h1",{className:"hero-title",children:"Loading..."})})})})}function KO(r){if(!r||!Array.isArray(r)||r.length===0)return"N/A";const e=r[0];if(typeof e=="object"&&e!==null&&e.name)return r.map(n=>n.name).slice(0,2).join(", ");if(typeof e=="number"){const n={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Sci-Fi",10770:"TV Movie",53:"Thriller",10752:"War",37:"Western"},s=r.map(o=>n[o]).filter(Boolean);return s.length>0?s.slice(0,2).join(", "):"Other"}return"N/A"}function QO(r){const e=Math.round((r||0)/2),n=[];for(let s=1;s<=5;s++)n.push(w.jsx("i",{className:`fa-star ${s<=e?"fas active":"far"}`},s));return n}function XO(r){return r?new Date(r).getFullYear():"N/A"}function Bp({movie:r,onClick:e}){const n=r.genres||r.genre_ids,s=XO(r.release_date);return w.jsxs("div",{className:"movie-card","data-id":r.id,onClick:()=>e&&e(r.id),children:[w.jsx("img",{src:BS(r.poster_path),alt:r.title,className:"movie-card-poster",loading:"lazy"}),w.jsxs("div",{className:"movie-card-overlay",children:[w.jsx("h3",{className:"movie-title",children:r.title}),w.jsxs("div",{className:"movie-meta",children:[w.jsxs("span",{className:"movie-genre",children:[KO(n)," | ",s]}),w.jsx("div",{className:"movie-rating",children:QO(r.vote_average)})]})]})]})}function Hp(){const r={position:"fixed",inset:0,background:"#000",display:"flex",justifyContent:"center",alignItems:"center",zIndex:99999,color:"white",fontSize:"18px",flexDirection:"column",backdropFilter:"blur(3px)"},e={border:"6px solid #333",borderTop:"6px solid var(--primary-orange, orange)",borderRadius:"50%",width:"60px",height:"60px",animation:"spin 1s linear infinite",marginBottom:"10px"};return w.jsxs("div",{style:r,children:[w.jsx("div",{style:e}),w.jsx("p",{children:"Loading..."}),w.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})}function $O({onMovieClick:r,onWatchTrailer:e}){const[n,s]=U.useState(!0),[o,u]=U.useState(null),[f,m]=U.useState([]),[p,y]=U.useState(null);U.useEffect(()=>{E()},[]);const E=async()=>{s(!0);try{const[R,k,z]=await Promise.all([WE("day"),WE("week"),PO()]);let K=null;if(R?.results?.length){const B=Math.floor(Math.random()*Math.min(5,R.results.length));K=R.results[B]}else k?.results?.length&&(K=k.results[0]);if(K&&u(K.id),k?.results?.length&&m(k.results.slice(0,3)),z?.results?.length){const B=Math.floor(Math.random()*Math.min(10,z.results.length));y(z.results[B])}}catch(R){console.error("Anasayfa ykleme hatas:",R)}finally{s(!1)}},T=R=>{u(R),window.scrollTo({top:0,behavior:"smooth"})};return n?w.jsx(Hp,{}):w.jsxs(w.Fragment,{children:[w.jsx(zp,{movieId:o,onWatchTrailer:e,onMoreDetails:r}),w.jsx("section",{className:"weekly-trends-section",children:w.jsxs("div",{className:"container",children:[w.jsxs("div",{className:"section-header",children:[w.jsx("h2",{children:"WEEKLY TRENDS"}),w.jsx($r,{to:"/catalog",className:"see-all-link",children:"See all"})]}),w.jsx("div",{className:"movie-grid-container",children:f.map(R=>w.jsx(Bp,{movie:R,onClick:T},R.id))})]})}),p&&w.jsx("section",{className:"upcoming-section",children:w.jsxs("div",{className:"container",children:[w.jsx("h2",{children:"UPCOMING THIS MONTH"}),w.jsxs("div",{className:"upcoming-container",children:[w.jsx("div",{className:"upcoming-image",children:w.jsx("img",{src:zO(p.poster_path),alt:p.title})}),w.jsxs("div",{className:"upcoming-info",children:[w.jsx("h3",{children:p.title}),w.jsxs("div",{className:"movie-details-list",children:[w.jsxs("div",{className:"detail-item",children:[w.jsx("span",{className:"detail-key",children:"Release Date"}),w.jsx("span",{className:"detail-value",children:new Date(p.release_date).toLocaleDateString("en-US")})]}),w.jsxs("div",{className:"detail-item",children:[w.jsx("span",{className:"detail-key",children:"Vote"}),w.jsx("span",{className:"detail-value",children:p.vote_average.toFixed(1)})]}),w.jsxs("div",{className:"detail-item",children:[w.jsx("span",{className:"detail-key",children:"Vote Count"}),w.jsx("span",{className:"detail-value",children:p.vote_count})]}),w.jsxs("div",{className:"detail-item",children:[w.jsx("span",{className:"detail-key",children:"Popularity"}),w.jsx("span",{className:"detail-value",children:p.popularity.toFixed(1)})]})]}),w.jsx("h4",{className:"upcoming-about-title",children:"ABOUT"}),w.jsx("p",{className:"upcoming-description",children:p.overview||"No description available."}),w.jsx("button",{className:"btn btn-primary upcoming-btn",onClick:()=>r(p.id),children:"More details"})]})]})]})})]})}function JO({totalPages:r,currentPage:e,onPageChange:n}){if(r<=1)return null;const s=5;let o=Math.max(e-2,1),u=Math.min(o+s-1,r);u-o<s-1&&(o=Math.max(u-s+1,1));const f=[];f.push(w.jsx("button",{className:"pagination-arrow",disabled:e===1,onClick:()=>n(e-1),children:""},"prev")),o>1&&(f.push(w.jsx("button",{className:"pagination-btn",onClick:()=>n(1),children:"1"},1)),o>2&&f.push(w.jsx("span",{className:"pagination-dots",children:"..."},"dots1")));for(let m=o;m<=u;m++)f.push(w.jsx("button",{className:`pagination-btn ${m===e?"active":""}`,onClick:()=>n(m),children:m},m));return u<r&&(u<r-1&&f.push(w.jsx("span",{className:"pagination-dots",children:"..."},"dots2")),f.push(w.jsx("button",{className:"pagination-btn",onClick:()=>n(r),children:r},r))),f.push(w.jsx("button",{className:"pagination-arrow",disabled:e===r,onClick:()=>n(e+1),children:""},"next")),w.jsx("div",{className:"pagination",children:f})}function WO({onMovieClick:r,onWatchTrailer:e}){const[n,s]=U.useState(!0),[o,u]=U.useState(null),[f,m]=U.useState([]),[p,y]=U.useState(1),[E,T]=U.useState(1),[R,k]=U.useState(""),[z,K]=U.useState(""),[B,J]=U.useState(!1),X=U.useRef(null);U.useEffect(()=>{ne()},[]),U.useEffect(()=>{const C=L=>{X.current&&!X.current.contains(L.target)&&J(!1)};return document.addEventListener("click",C),()=>document.removeEventListener("click",C)},[]);const ne=async()=>{s(!0);const C=await JE(1);s(!1),C?.results?.length&&(m(C.results),T(C.total_pages),u(C.results[0].id))},fe=async C=>{C.preventDefault(),R.trim()&&(y(1),await ye(R,z,1))},ye=async(C,L,D)=>{s(!0);const Fe=await UO(C,D,L);if(s(!1),!Fe?.results?.length){m([]),T(1);return}m(Fe.results),T(Math.min(Fe.total_pages,500)),Fe.results[0]&&u(Fe.results[0].id)},pe=C=>{y(C),R?ye(R,z,C):N(C),window.scrollTo({top:0,behavior:"smooth"})},N=async C=>{s(!0);const L=await JE(C);s(!1),L?.results?.length&&(m(L.results),T(L.total_pages))},b=C=>{u(C),window.scrollTo({top:0,behavior:"smooth"})},I=new Date().getFullYear(),M=[];for(let C=I;C>=1950;C--)M.push(C);return w.jsxs(w.Fragment,{children:[n&&w.jsx(Hp,{}),w.jsx(zp,{movieId:o,onWatchTrailer:e,onMoreDetails:r}),w.jsx("section",{className:"search-section",children:w.jsx("div",{className:"container",children:w.jsxs("form",{className:"search-form",onSubmit:fe,children:[w.jsx("input",{type:"text",className:"search-bar",placeholder:"Search",value:R,onChange:C=>k(C.target.value)}),w.jsxs("div",{className:`custom-dropdown ${B?"active":""}`,ref:X,children:[w.jsxs("div",{className:"dropdown-header",onClick:C=>{C.stopPropagation(),J(!B)},children:[w.jsx("span",{style:{color:z?"var(--primary-orange)":""},children:z||"Year"}),w.jsx("i",{className:"fas fa-chevron-down"})]}),w.jsxs("ul",{className:`dropdown-list ${B?"":"is-hidden"}`,children:[w.jsx("li",{className:"dropdown-item",onClick:()=>{K(""),J(!1)},children:"Year"}),M.map(C=>w.jsx("li",{className:"dropdown-item",onClick:()=>{K(C.toString()),J(!1)},children:C},C))]})]}),w.jsx("button",{type:"submit",className:"search-btn",children:w.jsx("i",{className:"fas fa-search"})})]})})}),w.jsx("section",{className:"movie-grid-section",children:w.jsx("div",{className:"container",children:f.length===0&&!n?w.jsxs("div",{className:"no-results-container",children:[w.jsx("h2",{children:"OOPS!"}),w.jsx("h3",{children:"Search result not successful"}),w.jsx("p",{children:"Enter a different keyword or remove the search filter"})]}):w.jsx("div",{className:"movie-grid-container",children:f.map(C=>w.jsx(Bp,{movie:C,onClick:b},C.id))})})}),w.jsx("section",{className:"pagination-section",children:w.jsx("div",{className:"container",children:w.jsx(JO,{totalPages:E,currentPage:p,onPageChange:pe})})})]})}function ZO({onMovieClick:r,onWatchTrailer:e}){const{library:n,loading:s}=qS(),[o,u]=U.useState(!0),[f,m]=U.useState(null),[p,y]=U.useState([]),[E,T]=U.useState([]),[R,k]=U.useState([]),[z,K]=U.useState("all"),[B,J]=U.useState(!1),X=U.useRef(null);U.useEffect(()=>{s||ne()},[n,s]),U.useEffect(()=>{const b=I=>{X.current&&!X.current.contains(I.target)&&J(!1)};return document.addEventListener("click",b),()=>document.removeEventListener("click",b)},[]);const ne=async()=>{if(!n||n.length===0){u(!1),y([]),T([]);return}u(!0);try{const b=n.map(C=>jp(C)),M=(await Promise.all(b)).filter(C=>C!==null);y(M),T(M),M.length>0&&(m(M[0].id),fe(M))}catch(b){console.error("Ktphane yklenirken hata:",b)}finally{u(!1)}},fe=b=>{const I=new Map;b.forEach(C=>{C&&C.genres&&Array.isArray(C.genres)&&C.genres.forEach(L=>{L&&L.id&&L.name&&I.set(L.id,L.name)})});const M=Array.from(I,([C,L])=>({id:C,name:L}));k(M)},ye=b=>{if(K(b),J(!1),b==="all")T(p);else{const I=p.filter(M=>M.genres&&Array.isArray(M.genres)&&M.genres.some(C=>C.id.toString()===b.toString()));T(I)}},pe=b=>{m(b),window.scrollTo({top:0,behavior:"smooth"})},N=()=>{if(z==="all")return"Genre";const b=R.find(I=>I.id.toString()===z.toString());return b?b.name:"Genre"};return o||s?w.jsx(Hp,{}):w.jsxs(w.Fragment,{children:[w.jsx(zp,{movieId:f,onWatchTrailer:e,onMoreDetails:r,children:p.length===0&&w.jsx("h1",{children:"Your Library is Empty"})}),w.jsx("section",{className:"library-content-section",children:w.jsx("div",{className:"container",children:p.length===0?w.jsxs("div",{className:"empty-library",children:[w.jsx("p",{children:"OOPS..."}),w.jsx("p",{children:"You haven't added any movies yet."}),w.jsx($r,{to:"/catalog",className:"btn-modal-add",style:{display:"inline-block",marginTop:"20px",textDecoration:"none"},children:"Go to Catalog"})]}):w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:`genre-filter-container ${B?"is-open":""}`,ref:X,children:[w.jsxs("div",{className:"genre-header",onClick:b=>{b.stopPropagation(),J(!B)},children:[w.jsx("span",{children:N()}),w.jsx("i",{className:"fas fa-chevron-down"})]}),w.jsxs("div",{className:`genre-list ${B?"":"is-hidden"}`,children:[w.jsx("div",{className:`genre-item ${z==="all"?"active":""}`,onClick:()=>ye("all"),children:"All Genres"}),R.map(b=>w.jsx("div",{className:`genre-item ${z===b.id.toString()?"active":""}`,onClick:()=>ye(b.id.toString()),children:b.name},b.id))]})]}),E.length===0?w.jsx("p",{style:{color:"white",textAlign:"center",gridColumn:"1/-1"},children:"No movies found for this genre."}):w.jsx("div",{className:"movie-grid-container",children:E.map(b=>w.jsx(Bp,{movie:b,onClick:pe},b.id))})]})})})]})}function eM(){const[r,e]=U.useState(!1),[n,s]=U.useState(!1),[o,u]=U.useState(!1),[f,m]=U.useState(!1),[p,y]=U.useState(!1),[E,T]=U.useState(null),[R,k]=U.useState(null);U.useEffect(()=>{const B=document.getElementById("theme-toggle-checkbox"),J=document.body;if(B){localStorage.getItem("theme")==="light"&&(J.classList.add("light-mode"),B.checked=!0);const ne=()=>{B.checked?(J.classList.add("light-mode"),localStorage.setItem("theme","light")):(J.classList.remove("light-mode"),localStorage.setItem("theme","dark"))};return B.addEventListener("change",ne),()=>B.removeEventListener("change",ne)}},[]),U.useEffect(()=>{(()=>{if(document.querySelector('script[src*="translate.google.com"]'))return;window.googleTranslateElementInit=function(){new window.google.translate.TranslateElement({pageLanguage:"en",autoDisplay:!1},"google_translate_element")};const J=document.createElement("script");J.type="text/javascript",J.src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit",document.body.appendChild(J)})()},[]);const z=B=>{T(B),s(!0)},K=B=>{B?(k(B),u(!0)):m(!0)};return w.jsx(Kw,{basename:"/my-project-cinemania/",children:w.jsxs("div",{className:"App",children:[w.jsx(NO,{onLoginClick:()=>e(!0)}),w.jsx("main",{children:w.jsxs(bw,{children:[w.jsx(Qc,{path:"/",element:w.jsx($O,{onMovieClick:z,onWatchTrailer:K})}),w.jsx(Qc,{path:"/catalog",element:w.jsx(WO,{onMovieClick:z,onWatchTrailer:K})}),w.jsx(Qc,{path:"/library",element:w.jsx(ZO,{onMovieClick:z,onWatchTrailer:K})})]})}),w.jsx(OO,{onTeamModalOpen:()=>y(!0)}),w.jsx(MO,{isOpen:r,onClose:()=>e(!1)}),w.jsx(qO,{isOpen:n,onClose:()=>s(!1),movieId:E,onRequireLogin:()=>e(!0)}),w.jsx(FO,{isOpen:o,onClose:()=>u(!1),videoKey:R}),w.jsx(GO,{isOpen:f,onClose:()=>m(!1)}),w.jsx(YO,{isOpen:p,onClose:()=>y(!1)})]})})}Ob.createRoot(document.getElementById("root")).render(w.jsx(Ab.StrictMode,{children:w.jsx(eM,{})}));
//# sourceMappingURL=index-BXGjGND1.js.map
