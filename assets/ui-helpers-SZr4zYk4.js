(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function o(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=o(r);fetch(r.href,i)}})();const A="modulepreload",I=function(e){return"/my-project-cinemania/"+e},L={},_=function(t,o,n){let r=Promise.resolve();if(o&&o.length>0){let m=function(c){return Promise.all(c.map(p=>Promise.resolve(p).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),s=a?.nonce||a?.getAttribute("nonce");r=m(o.map(c=>{if(c=I(c),c in L)return;L[c]=!0;const p=c.endsWith(".css"),d=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const u=document.createElement("link");if(u.rel=p?"stylesheet":A,p||(u.as="script"),u.crossOrigin="",u.href=c,s&&u.setAttribute("nonce",s),document.head.appendChild(u),p)return new Promise((y,l)=>{u.addEventListener("load",y),u.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return r.then(a=>{for(const s of a||[])s.status==="rejected"&&i(s.reason);return t().catch(i)})},x="362ee522f1af2dedac989b8df9cfb4eb",N="https://api.themoviedb.org/3",q="https://image.tmdb.org/t/p/w500",B="https://image.tmdb.org/t/p/original";async function g(e,t={}){const o=new URL(`${N}${e}`);o.searchParams.append("api_key",x),o.searchParams.append("language","en-US");for(const n in t)t[n]&&o.searchParams.append(n,t[n]);try{const n=await fetch(o);if(!n.ok)throw new Error(`API Error: ${n.status}`);return await n.json()}catch(n){return console.error("API Request Failed:",n),null}}async function U(e=1){return await g("/movie/popular",{page:e})}async function R(e="week",t=1){return await g(`/trending/movie/${e}`,{page:t})}async function j(e=1){return await g("/movie/upcoming",{page:e,region:"US"})}async function F(e,t=1,o=""){return await g("/search/movie",{query:e,page:t,primary_release_year:o})}async function E(e){return await g(`/movie/${e}`)}async function P(e){return await g(`/movie/${e}/videos`)}function k(e){return e?`${q}${e}`:"https://via.placeholder.com/500x750?text=No+Poster"}function S(e){return e?`${B}${e}`:"https://via.placeholder.com/1920x1080?text=No+Image"}function C(){const e=document.querySelector("#movie-modal-backdrop");if(!e)return console.error("Modal backdrop '#movie-modal-backdrop' not found."),{openModal:()=>{},closeModal:()=>{}};const t=e.querySelector("#modal-close-btn"),o=e.querySelector("#modal-poster"),n=e.querySelector("#modal-title"),r=e.querySelector("#modal-vote-avg"),i=e.querySelector("#modal-vote-count"),a=e.querySelector("#modal-popularity"),s=e.querySelector("#modal-genre"),m=e.querySelector("#modal-description"),c=e.querySelector("#modal-add-btn");function p(){return JSON.parse(localStorage.getItem("myLibrary"))||[]}function d(l){localStorage.setItem("myLibrary",JSON.stringify(l))}async function u(l){const f=await E(l);if(f){if(o&&(o.src=k(f.poster_path)),n&&(n.textContent=f.title.toUpperCase()),r&&(r.textContent=f.vote_average.toFixed(1)),i&&(i.textContent=f.vote_count),a&&(a.textContent=f.popularity.toFixed(1)),s&&(s.textContent=f.genres.map(v=>v.name).join(", ")||"N/A"),m&&(m.textContent=f.overview||"No description available."),c){const v=p(),b=Number(f.id);c.textContent=v.includes(b)?"Remove from my library":"Add to my library",c.dataset.id=b}e.classList.remove("is-hidden"),document.body.classList.add("modal-open")}}function y(){e.classList.add("is-hidden"),document.body.classList.remove("modal-open")}return t&&t.addEventListener("click",y),e.addEventListener("click",l=>{l.target===e&&y()}),window.addEventListener("keydown",l=>{l.key==="Escape"&&!e.classList.contains("is-hidden")&&y()}),c&&c.addEventListener("click",()=>{const l=Number(c.dataset.id);if(!l)return;const f=p(),v=f.indexOf(l);v>-1?(f.splice(v,1),c.textContent="Add to my library"):(f.push(l),c.textContent="Remove from my library"),d(f)}),{openModal:u,closeModal:y}}function O(){const e=document.querySelector(".footer-link"),t=document.getElementById("team-modal-backdrop"),o=document.getElementById("team-modal-close-btn");if(!e||!t)return;function n(a){a.preventDefault(),t.classList.remove("is-hidden"),document.body.classList.add("modal-open"),window.addEventListener("keydown",i)}function r(){t.classList.add("is-hidden"),document.body.classList.remove("modal-open"),window.removeEventListener("keydown",i)}function i(a){a.code==="Escape"&&r()}e.addEventListener("click",n),o&&o.addEventListener("click",r),t.addEventListener("click",a=>{a.target===t&&r()})}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".main-nav"),t=document.querySelector(".logo"),o=document.querySelector(".mobile-menu-btn");let n=null;if(!e||!t)return;const r=()=>window.innerWidth<=768;function i(m){r()&&(m&&m.preventDefault(),n||(n=document.createElement("div"),n.className="mobile-overlay",n.addEventListener("click",a),document.body.appendChild(n)),e.classList.add("is-open"),document.body.classList.add("menu-open"))}function a(){e.classList.remove("is-open"),document.body.classList.remove("menu-open"),n&&(n.removeEventListener("click",a),n.remove(),n=null)}let s=e.querySelector(".mobile-nav-close");s||(s=document.createElement("button"),s.type="button",s.className="mobile-nav-close",s.innerHTML="&times;",e.appendChild(s)),s.addEventListener("click",a),t.addEventListener("click",i),o&&o.addEventListener("click",i),e.querySelectorAll("a.nav-link").forEach(m=>{m.addEventListener("click",a)}),window.addEventListener("resize",()=>{r()||a()})});document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("theme-toggle-checkbox"),t=document.body;if(!e)return;localStorage.getItem("theme")==="light"&&(t.classList.add("light-mode"),e.checked=!0),e.addEventListener("change",()=>{e.checked?(t.classList.add("light-mode"),localStorage.setItem("theme","light")):(t.classList.remove("light-mode"),localStorage.setItem("theme","dark"))})});document.addEventListener("DOMContentLoaded",()=>{const{openModal:e}=C();window.openMovieModal=e,O();const t=window.location.pathname;let o=null;t.includes("catalog.html")?o="catalog.js":t.includes("my-library.html")?o="my-library.js":(t==="/"||t.endsWith("index.html"))&&(o="index.js"),document.querySelectorAll(".nav-link").forEach(r=>{r.classList.remove("active");const i=r.getAttribute("href");((t==="/"||t.includes("index.html"))&&i.includes("index.html")||t.includes("catalog")&&i.includes("catalog")||t.includes("library")&&i.includes("library"))&&r.classList.add("active")}),o&&_(()=>import(`./${o}`),[]).then(()=>console.log(`${o} yüklendi.`)).catch(r=>console.error(`${o} yüklenirken hata:`,r))});function T(e){const t=document.getElementById("trailer-modal-backdrop");if(!t)return;const o=document.getElementById("trailer-iframe"),n=document.getElementById("trailer-modal-close-btn");o&&(o.src=`https://www.youtube.com/embed/${e}?autoplay=1&rel=0&showinfo=0`),t.classList.remove("is-hidden"),document.body.classList.add("modal-open"),n&&(n.onclick=()=>h()),t.onclick=i=>{i.target===t&&h()};const r=i=>{i.key==="Escape"&&(h(),window.removeEventListener("keydown",r))};window.addEventListener("keydown",r)}function h(){const e=document.getElementById("trailer-modal-backdrop"),t=document.getElementById("trailer-iframe");e&&(e.classList.add("is-hidden"),document.body.classList.remove("modal-open"),t&&(t.src=""))}function w(){const e=document.getElementById("trailer-error-backdrop");if(!e)return;const t=document.getElementById("trailer-error-close-btn");e.classList.remove("is-hidden"),document.body.classList.add("modal-open");const o=()=>{e.classList.add("is-hidden"),document.body.classList.remove("modal-open"),window.removeEventListener("keydown",n)};t&&(t.onclick=o),e.onclick=r=>{r.target===e&&o()};const n=r=>{r.key==="Escape"&&o()};window.addEventListener("keydown",n)}function M(e){if(!e)return"N/A";if(Array.isArray(e)&&e.length>0&&typeof e[0]=="object")return e.map(o=>o.name).slice(0,2).join(", ");const t={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Sci-Fi",10770:"TV Movie",53:"Thriller",10752:"War",37:"Western"};return Array.isArray(e)?e.map(n=>t[n]).filter(Boolean).slice(0,2).join(", ")||"Other":"N/A"}function $(e){const t=Math.round((e||0)/2);let o="";for(let n=1;n<=5;n++)o+=`<i class="fa-star ${n<=t?"fas active":"far"}"></i>`;return o}function D(e){const t=e.genres||e.genre_ids,o=e.release_date?new Date(e.release_date).getFullYear():"N/A";return`
    <div class="movie-card" data-id="${e.id}">
        <img src="${k(e.poster_path)}" alt="${e.title}" class="movie-card-poster" loading="lazy">
        <div class="movie-card-overlay">
            <h3 class="movie-title">${e.title}</h3>
            <div class="movie-meta">
                <span class="movie-genre">${M(t)} | ${o}</span>
                <div class="movie-rating">${$(e.vote_average)}</div>
            </div>
        </div>
    </div>
  `}async function H(e,t,o){if(!(!t||!o))try{const n=await E(e);if(!n)return;const r=S(n.backdrop_path||n.poster_path);t.style.backgroundImage=`
      linear-gradient(to right, 
        #111 0%, 
        rgba(17, 17, 17, 1) 30%, 
        rgba(17, 17, 17, 0.5) 50%, 
        transparent 100%),
      url('${r}')
    `,o.innerHTML=`
      <h1 class="hero-title">${n.title}</h1>
      <div class="star-rating hero-stars">
        ${$(n.vote_average)}
      </div>
      <p class="hero-description">${n.overview||"No description available."}</p>
      <div class="hero-buttons">
        <button class="btn btn-primary" id="hero-watch-trailer" data-id="${n.id}">Watch Trailer</button>
        <button class="btn btn-secondary" id="hero-details-btn" data-id="${n.id}">More details</button>
      </div>
    `;const i=o.querySelector("#hero-watch-trailer");i&&(i.onclick=async s=>{s.preventDefault();const m=s.target.dataset.id;try{const p=(await P(m))?.results?.find(d=>d.type==="Trailer"&&d.site==="YouTube");p?T(p.key):w()}catch(c){console.error(c),w()}});const a=o.querySelector("#hero-details-btn");a&&(a.onclick=s=>{s.preventDefault();const m=s.target.dataset.id;window.openMovieModal&&window.openMovieModal(m)})}catch(n){console.error("Hero update error:",n)}}function W(e,t){if(!e||!t)return;const o=new Date(e.release_date).toLocaleDateString("en-US"),n=e.vote_average?e.vote_average.toFixed(1):"N.A",r=e.vote_count||0,i=e.popularity?e.popularity.toFixed(1):"N.A",a=M(e.genre_ids),s=S(e.backdrop_path||e.poster_path),p=(JSON.parse(localStorage.getItem("myLibrary"))||[]).includes(Number(e.id))?"Remove from my library":"Add to my library";t.innerHTML=`
    <div class="upcoming-image">
      <img src="${s}" alt="${e.title}" loading="lazy" />
    </div>
    <div class="upcoming-info">
      <h3>${e.title}</h3>
      <div class="movie-details-list">
        <div class="detail-item">
          <span class="detail-key">Release date</span>
          <span class="detail-history">${o}</span>
        </div>
        <div class="detail-item">
          <span class="detail-key">Vote / Votes</span>
          <span class="detail-value">
            <span class="rating-badge">${n}</span> / ${r}
          </span>
        </div>
        <div class="detail-item">
          <span class="detail-key">Popularity</span>
          <span class="detail-value">${i}</span>
        </div>
        <div class="detail-item">
          <span class="detail-key">Genre</span>
          <span class="detail-value">${a}</span>
        </div>
      </div>
      <h4>ABOUT</h4>
      <p class="about-text">${e.overview||"No description available."}</p>
      <button class="btn btn-primary btn-add-library" id="upcoming-add-btn" data-id="${e.id}">
        ${p}
      </button>
    </div>
  `;const d=t.querySelector("#upcoming-add-btn");d&&(d.onclick=()=>{const u=JSON.parse(localStorage.getItem("myLibrary"))||[],y=Number(d.dataset.id),l=u.indexOf(y);l>-1?(u.splice(l,1),d.textContent="Add to my library"):(u.push(y),d.textContent="Remove from my library"),localStorage.setItem("myLibrary",JSON.stringify(u))})}export{R as a,j as b,W as c,U as d,E as f,D as r,F as s,H as u};
//# sourceMappingURL=ui-helpers-SZr4zYk4.js.map
